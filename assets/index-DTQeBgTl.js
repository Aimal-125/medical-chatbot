function Cb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X1={exports:{}},Ed={},J1={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),Ab=Symbol.for("react.portal"),Rb=Symbol.for("react.fragment"),kb=Symbol.for("react.strict_mode"),Pb=Symbol.for("react.profiler"),Nb=Symbol.for("react.provider"),Ob=Symbol.for("react.context"),Lb=Symbol.for("react.forward_ref"),Db=Symbol.for("react.suspense"),Mb=Symbol.for("react.memo"),jb=Symbol.for("react.lazy"),lv=Symbol.iterator;function Vb(t){return t===null||typeof t!="object"?null:(t=lv&&t[lv]||t["@@iterator"],typeof t=="function"?t:null)}var Z1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eE=Object.assign,tE={};function Do(t,e,n){this.props=t,this.context=e,this.refs=tE,this.updater=n||Z1}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nE(){}nE.prototype=Do.prototype;function _m(t,e,n){this.props=t,this.context=e,this.refs=tE,this.updater=n||Z1}var Em=_m.prototype=new nE;Em.constructor=_m;eE(Em,Do.prototype);Em.isPureReactComponent=!0;var cv=Array.isArray,rE=Object.prototype.hasOwnProperty,wm={current:null},iE={key:!0,ref:!0,__self:!0,__source:!0};function sE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rE.call(e,r)&&!iE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nl,type:t,key:s,ref:o,props:i,_owner:wm.current}}function Fb(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function Ub(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uv=/\/+/g;function kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ub(""+t.key):e.toString(36)}function Hc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nl:case Ab:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kh(o,0):r,cv(i)?(n="",t!=null&&(n=t.replace(uv,"$&/")+"/"),Hc(i,e,n,"",function(u){return u})):i!=null&&(Tm(i)&&(i=Fb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(uv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",cv(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+kh(s,a);o+=Hc(s,e,n,c,i)}else if(c=Vb(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+kh(s,a++),o+=Hc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _c(t,e,n){if(t==null)return t;var r=[],i=0;return Hc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},Gc={transition:null},Bb={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Gc,ReactCurrentOwner:wm};function oE(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:_c,forEach:function(t,e,n){_c(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _c(t,function(){e++}),e},toArray:function(t){return _c(t,function(e){return e})||[]},only:function(t){if(!Tm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Do;ce.Fragment=Rb;ce.Profiler=Pb;ce.PureComponent=_m;ce.StrictMode=kb;ce.Suspense=Db;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bb;ce.act=oE;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)rE.call(e,c)&&!iE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Nl,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:Ob,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nb,_context:t},t.Consumer=t};ce.createElement=sE;ce.createFactory=function(t){var e=sE.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:Lb,render:t}};ce.isValidElement=Tm;ce.lazy=function(t){return{$$typeof:jb,_payload:{_status:-1,_result:t},_init:zb}};ce.memo=function(t,e){return{$$typeof:Mb,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Gc.transition;Gc.transition={};try{t()}finally{Gc.transition=e}};ce.unstable_act=oE;ce.useCallback=function(t,e){return Ct.current.useCallback(t,e)};ce.useContext=function(t){return Ct.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Ct.current.useEffect(t,e)};ce.useId=function(){return Ct.current.useId()};ce.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Ct.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};ce.useRef=function(t){return Ct.current.useRef(t)};ce.useState=function(t){return Ct.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Ct.current.useTransition()};ce.version="18.3.1";J1.exports=ce;var M=J1.exports;const _e=vm(M),Rf=Cb({__proto__:null,default:_e},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b=M,Wb=Symbol.for("react.element"),Hb=Symbol.for("react.fragment"),Gb=Object.prototype.hasOwnProperty,qb=$b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kb={key:!0,ref:!0,__self:!0,__source:!0};function aE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Gb.call(e,r)&&!Kb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wb,type:t,key:s,ref:o,props:i,_owner:qb.current}}Ed.Fragment=Hb;Ed.jsx=aE;Ed.jsxs=aE;X1.exports=Ed;var f=X1.exports,lE={exports:{}},Zt={},cE={exports:{}},uE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,j){var V=$.length;$.push(j);e:for(;0<V;){var z=V-1>>>1,G=$[z];if(0<i(G,j))$[z]=j,$[V]=G,V=z;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var j=$[0],V=$.pop();if(V!==j){$[0]=V;e:for(var z=0,G=$.length,q=G>>>1;z<q;){var Z=2*(z+1)-1,ae=$[Z],fe=Z+1,Ee=$[fe];if(0>i(ae,V))fe<G&&0>i(Ee,ae)?($[z]=Ee,$[fe]=V,z=fe):($[z]=ae,$[Z]=V,z=Z);else if(fe<G&&0>i(Ee,V))$[z]=Ee,$[fe]=V,z=fe;else break e}}return j}function i($,j){var V=$.sortIndex-j.sortIndex;return V!==0?V:$.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,p=null,m=3,y=!1,S=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T($){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=$)r(u),j.sortIndex=j.expirationTime,e(c,j);else break;j=n(u)}}function P($){if(C=!1,T($),!S)if(n(c)!==null)S=!0,ue(D);else{var j=n(u);j!==null&&ee(P,j.startTime-$)}}function D($,j){S=!1,C&&(C=!1,E(v),v=-1),y=!0;var V=m;try{for(T(j),p=n(c);p!==null&&(!(p.expirationTime>j)||$&&!N());){var z=p.callback;if(typeof z=="function"){p.callback=null,m=p.priorityLevel;var G=z(p.expirationTime<=j);j=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(c)&&r(c),T(j)}else r(c);p=n(c)}if(p!==null)var q=!0;else{var Z=n(u);Z!==null&&ee(P,Z.startTime-j),q=!1}return q}finally{p=null,m=V,y=!1}}var O=!1,w=null,v=-1,I=5,R=-1;function N(){return!(t.unstable_now()-R<I)}function k(){if(w!==null){var $=t.unstable_now();R=$;var j=!0;try{j=w(!0,$)}finally{j?A():(O=!1,w=null)}}else O=!1}var A;if(typeof _=="function")A=function(){_(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Y=F.port2;F.port1.onmessage=k,A=function(){Y.postMessage(null)}}else A=function(){b(k,0)};function ue($){w=$,O||(O=!0,A())}function ee($,j){v=b(function(){$(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,ue(D))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var V=m;m=j;try{return $()}finally{m=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,j){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=m;m=$;try{return j()}finally{m=V}},t.unstable_scheduleCallback=function($,j,V){var z=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?z+V:z):V=z,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,$={id:h++,callback:j,priorityLevel:$,startTime:V,expirationTime:G,sortIndex:-1},V>z?($.sortIndex=V,e(u,$),n(c)===null&&$===n(u)&&(C?(E(v),v=-1):C=!0,ee(P,V-z))):($.sortIndex=G,e(c,$),S||y||(S=!0,ue(D))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var j=m;return function(){var V=m;m=j;try{return $.apply(this,arguments)}finally{m=V}}}})(uE);cE.exports=uE;var Yb=cE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb=M,Qt=Yb;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dE=new Set,Ya={};function gs(t,e){mo(t,e),mo(t+"Capture",e)}function mo(t,e){for(Ya[t]=e,t=0;t<e.length;t++)dE.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=Object.prototype.hasOwnProperty,Xb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dv={},hv={};function Jb(t){return kf.call(hv,t)?!0:kf.call(dv,t)?!1:Xb.test(t)?hv[t]=!0:(dv[t]=!0,!1)}function Zb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eC(t,e,n,r){if(e===null||typeof e>"u"||Zb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function xm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sm,xm);ut[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sm,xm);ut[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sm,xm);ut[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function Im(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eC(e,n,i,r)&&(n=null),r||i===null?Jb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=Qb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),hE=Symbol.for("react.provider"),fE=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),pE=Symbol.for("react.offscreen"),fv=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=fv&&t[fv]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Ph;function _a(t){if(Ph===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ph=e&&e[1]||""}return`
`+Ph+t}var Nh=!1;function Oh(t,e){if(!t||Nh)return"";Nh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Nh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_a(t):""}function tC(t){switch(t.tag){case 5:return _a(t.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return t=Oh(t.type,!1),t;case 11:return t=Oh(t.type.render,!1),t;case 1:return t=Oh(t.type,!0),t;default:return""}}function Lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case Bs:return"Portal";case Pf:return"Profiler";case bm:return"StrictMode";case Nf:return"Suspense";case Of:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fE:return(t.displayName||"Context")+".Consumer";case hE:return(t._context.displayName||"Context")+".Provider";case Cm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Am:return e=t.displayName||null,e!==null?e:Lf(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return Lf(t(e))}catch{}}return null}function nC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lf(e);case 8:return e===bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rC(t){var e=mE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wc(t){t._valueTracker||(t._valueTracker=rC(t))}function gE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Df(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yE(t,e){e=e.checked,e!=null&&Im(t,"checked",e,!1)}function Mf(t,e){yE(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&jf(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jf(t,e,n){(e!=="number"||yu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ea=Array.isArray;function ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Ea(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function vE(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _E(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ff(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_E(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tc,EE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tc=Tc||document.createElement("div"),Tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iC=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){iC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function wE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function TE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sC=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uf(t,e){if(e){if(sC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function zf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=null;function Rm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $f=null,io=null,so=null;function vv(t){if(t=Dl(t)){if(typeof $f!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Id(e),$f(t.stateNode,t.type,e))}}function SE(t){io?so?so.push(t):so=[t]:io=t}function xE(){if(io){var t=io,e=so;if(so=io=null,vv(t),e)for(t=0;t<e.length;t++)vv(e[t])}}function IE(t,e){return t(e)}function bE(){}var Lh=!1;function CE(t,e,n){if(Lh)return t(e,n);Lh=!0;try{return IE(t,e,n)}finally{Lh=!1,(io!==null||so!==null)&&(bE(),xE())}}function Xa(t,e){var n=t.stateNode;if(n===null)return null;var r=Id(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Wf=!1;if(ar)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){Wf=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{Wf=!1}function oC(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Na=!1,vu=null,_u=!1,Hf=null,aC={onError:function(t){Na=!0,vu=t}};function lC(t,e,n,r,i,s,o,a,c){Na=!1,vu=null,oC.apply(aC,arguments)}function cC(t,e,n,r,i,s,o,a,c){if(lC.apply(this,arguments),Na){if(Na){var u=vu;Na=!1,vu=null}else throw Error(H(198));_u||(_u=!0,Hf=u)}}function ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _v(t){if(ys(t)!==t)throw Error(H(188))}function uC(t){var e=t.alternate;if(!e){if(e=ys(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _v(i),t;if(s===r)return _v(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function RE(t){return t=uC(t),t!==null?kE(t):null}function kE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kE(t);if(e!==null)return e;t=t.sibling}return null}var PE=Qt.unstable_scheduleCallback,Ev=Qt.unstable_cancelCallback,dC=Qt.unstable_shouldYield,hC=Qt.unstable_requestPaint,Be=Qt.unstable_now,fC=Qt.unstable_getCurrentPriorityLevel,km=Qt.unstable_ImmediatePriority,NE=Qt.unstable_UserBlockingPriority,Eu=Qt.unstable_NormalPriority,pC=Qt.unstable_LowPriority,OE=Qt.unstable_IdlePriority,wd=null,jn=null;function mC(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:vC,gC=Math.log,yC=Math.LN2;function vC(t){return t>>>=0,t===0?32:31-(gC(t)/yC|0)|0}var Sc=64,xc=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wa(a):(s&=o,s!==0&&(r=wa(s)))}else o=n&~i,o!==0?r=wa(o):s!==0&&(r=wa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),i=1<<n,r|=t[n],e&=~i;return r}function _C(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=_C(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Gf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LE(){var t=Sc;return Sc<<=1,!(Sc&4194240)&&(Sc=64),t}function Dh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function wC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function DE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ME,Nm,jE,VE,FE,qf=!1,Ic=[],Xr=null,Jr=null,Zr=null,Ja=new Map,Za=new Map,Ur=[],TC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wv(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Ja.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(e.pointerId)}}function da(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dl(e),e!==null&&Nm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SC(t,e,n,r,i){switch(e){case"focusin":return Xr=da(Xr,t,e,n,r,i),!0;case"dragenter":return Jr=da(Jr,t,e,n,r,i),!0;case"mouseover":return Zr=da(Zr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ja.set(s,da(Ja.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Za.set(s,da(Za.get(s)||null,t,e,n,r,i)),!0}return!1}function UE(t){var e=$i(t.target);if(e!==null){var n=ys(e);if(n!==null){if(e=n.tag,e===13){if(e=AE(n),e!==null){t.blockedOn=e,FE(t.priority,function(){jE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bf=r,n.target.dispatchEvent(r),Bf=null}else return e=Dl(n),e!==null&&Nm(e),t.blockedOn=n,!1;e.shift()}return!0}function Tv(t,e,n){qc(t)&&n.delete(e)}function xC(){qf=!1,Xr!==null&&qc(Xr)&&(Xr=null),Jr!==null&&qc(Jr)&&(Jr=null),Zr!==null&&qc(Zr)&&(Zr=null),Ja.forEach(Tv),Za.forEach(Tv)}function ha(t,e){t.blockedOn===e&&(t.blockedOn=null,qf||(qf=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,xC)))}function el(t){function e(i){return ha(i,t)}if(0<Ic.length){ha(Ic[0],t);for(var n=1;n<Ic.length;n++){var r=Ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&ha(Xr,t),Jr!==null&&ha(Jr,t),Zr!==null&&ha(Zr,t),Ja.forEach(e),Za.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)UE(n),n.blockedOn===null&&Ur.shift()}var oo=_r.ReactCurrentBatchConfig,Tu=!0;function IC(t,e,n,r){var i=Te,s=oo.transition;oo.transition=null;try{Te=1,Om(t,e,n,r)}finally{Te=i,oo.transition=s}}function bC(t,e,n,r){var i=Te,s=oo.transition;oo.transition=null;try{Te=4,Om(t,e,n,r)}finally{Te=i,oo.transition=s}}function Om(t,e,n,r){if(Tu){var i=Kf(t,e,n,r);if(i===null)Hh(t,e,r,Su,n),wv(t,r);else if(SC(i,t,e,n,r))r.stopPropagation();else if(wv(t,r),e&4&&-1<TC.indexOf(t)){for(;i!==null;){var s=Dl(i);if(s!==null&&ME(s),s=Kf(t,e,n,r),s===null&&Hh(t,e,r,Su,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hh(t,e,r,null,n)}}var Su=null;function Kf(t,e,n,r){if(Su=null,t=Rm(r),t=$i(t),t!==null)if(e=ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Su=t,null}function zE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fC()){case km:return 1;case NE:return 4;case Eu:case pC:return 16;case OE:return 536870912;default:return 16}default:return 16}}var Hr=null,Lm=null,Kc=null;function BE(){if(Kc)return Kc;var t,e=Lm,n=e.length,r,i="value"in Hr?Hr.value:Hr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Kc=i.slice(t,1<r?1-r:void 0)}function Yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bc(){return!0}function Sv(){return!1}function en(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bc:Sv,this.isPropagationStopped=Sv,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),e}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dm=en(Mo),Ll=Le({},Mo,{view:0,detail:0}),CC=en(Ll),Mh,jh,fa,Td=Le({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fa&&(fa&&t.type==="mousemove"?(Mh=t.screenX-fa.screenX,jh=t.screenY-fa.screenY):jh=Mh=0,fa=t),Mh)},movementY:function(t){return"movementY"in t?t.movementY:jh}}),xv=en(Td),AC=Le({},Td,{dataTransfer:0}),RC=en(AC),kC=Le({},Ll,{relatedTarget:0}),Vh=en(kC),PC=Le({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),NC=en(PC),OC=Le({},Mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LC=en(OC),DC=Le({},Mo,{data:0}),Iv=en(DC),MC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VC[t])?!!e[t]:!1}function Mm(){return FC}var UC=Le({},Ll,{key:function(t){if(t.key){var e=MC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mm,charCode:function(t){return t.type==="keypress"?Yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zC=en(UC),BC=Le({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bv=en(BC),$C=Le({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mm}),WC=en($C),HC=Le({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),GC=en(HC),qC=Le({},Td,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KC=en(qC),YC=[9,13,27,32],jm=ar&&"CompositionEvent"in window,Oa=null;ar&&"documentMode"in document&&(Oa=document.documentMode);var QC=ar&&"TextEvent"in window&&!Oa,$E=ar&&(!jm||Oa&&8<Oa&&11>=Oa),Cv=" ",Av=!1;function WE(t,e){switch(t){case"keyup":return YC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function XC(t,e){switch(t){case"compositionend":return HE(e);case"keypress":return e.which!==32?null:(Av=!0,Cv);case"textInput":return t=e.data,t===Cv&&Av?null:t;default:return null}}function JC(t,e){if(Ws)return t==="compositionend"||!jm&&WE(t,e)?(t=BE(),Kc=Lm=Hr=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $E&&e.locale!=="ko"?null:e.data;default:return null}}var ZC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZC[t.type]:e==="textarea"}function GE(t,e,n,r){SE(r),e=xu(e,"onChange"),0<e.length&&(n=new Dm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var La=null,tl=null;function eA(t){rw(t,0)}function Sd(t){var e=qs(t);if(gE(e))return t}function tA(t,e){if(t==="change")return e}var qE=!1;if(ar){var Fh;if(ar){var Uh="oninput"in document;if(!Uh){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),Uh=typeof kv.oninput=="function"}Fh=Uh}else Fh=!1;qE=Fh&&(!document.documentMode||9<document.documentMode)}function Pv(){La&&(La.detachEvent("onpropertychange",KE),tl=La=null)}function KE(t){if(t.propertyName==="value"&&Sd(tl)){var e=[];GE(e,tl,t,Rm(t)),CE(eA,e)}}function nA(t,e,n){t==="focusin"?(Pv(),La=e,tl=n,La.attachEvent("onpropertychange",KE)):t==="focusout"&&Pv()}function rA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sd(tl)}function iA(t,e){if(t==="click")return Sd(e)}function sA(t,e){if(t==="input"||t==="change")return Sd(e)}function oA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:oA;function nl(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kf.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function Nv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ov(t,e){var n=Nv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nv(n)}}function YE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QE(){for(var t=window,e=yu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yu(t.document)}return e}function Vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aA(t){var e=QE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YE(n.ownerDocument.documentElement,n)){if(r!==null&&Vm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ov(n,s);var o=Ov(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lA=ar&&"documentMode"in document&&11>=document.documentMode,Hs=null,Yf=null,Da=null,Qf=!1;function Lv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qf||Hs==null||Hs!==yu(r)||(r=Hs,"selectionStart"in r&&Vm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&nl(Da,r)||(Da=r,r=xu(Yf,"onSelect"),0<r.length&&(e=new Dm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hs)))}function Cc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gs={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},zh={},XE={};ar&&(XE=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function xd(t){if(zh[t])return zh[t];if(!Gs[t])return t;var e=Gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XE)return zh[t]=e[n];return t}var JE=xd("animationend"),ZE=xd("animationiteration"),ew=xd("animationstart"),tw=xd("transitionend"),nw=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){nw.set(t,e),gs(e,[t])}for(var Bh=0;Bh<Dv.length;Bh++){var $h=Dv[Bh],cA=$h.toLowerCase(),uA=$h[0].toUpperCase()+$h.slice(1);wi(cA,"on"+uA)}wi(JE,"onAnimationEnd");wi(ZE,"onAnimationIteration");wi(ew,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(tw,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function Mv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cC(r,e,void 0,t),t.currentTarget=null}function rw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Mv(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Mv(i,a,u),s=c}}}if(_u)throw t=Hf,_u=!1,Hf=null,t}function Ce(t,e){var n=e[tp];n===void 0&&(n=e[tp]=new Set);var r=t+"__bubble";n.has(r)||(iw(e,t,2,!1),n.add(r))}function Wh(t,e,n){var r=0;e&&(r|=4),iw(n,t,r,e)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function rl(t){if(!t[Ac]){t[Ac]=!0,dE.forEach(function(n){n!=="selectionchange"&&(dA.has(n)||Wh(n,!1,t),Wh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ac]||(e[Ac]=!0,Wh("selectionchange",!1,e))}}function iw(t,e,n,r){switch(zE(e)){case 1:var i=IC;break;case 4:i=bC;break;default:i=Om}n=i.bind(null,e,n,t),i=void 0,!Wf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$i(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}CE(function(){var u=s,h=Rm(n),p=[];e:{var m=nw.get(t);if(m!==void 0){var y=Dm,S=t;switch(t){case"keypress":if(Yc(n)===0)break e;case"keydown":case"keyup":y=zC;break;case"focusin":S="focus",y=Vh;break;case"focusout":S="blur",y=Vh;break;case"beforeblur":case"afterblur":y=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=RC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=WC;break;case JE:case ZE:case ew:y=NC;break;case tw:y=GC;break;case"scroll":y=CC;break;case"wheel":y=KC;break;case"copy":case"cut":case"paste":y=LC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=bv}var C=(e&4)!==0,b=!C&&t==="scroll",E=C?m!==null?m+"Capture":null:m;C=[];for(var _=u,T;_!==null;){T=_;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,E!==null&&(P=Xa(_,E),P!=null&&C.push(il(_,P,T)))),b)break;_=_.return}0<C.length&&(m=new y(m,S,null,n,h),p.push({event:m,listeners:C}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Bf&&(S=n.relatedTarget||n.fromElement)&&($i(S)||S[lr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=u,S=S?$i(S):null,S!==null&&(b=ys(S),S!==b||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=u),y!==S)){if(C=xv,P="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(C=bv,P="onPointerLeave",E="onPointerEnter",_="pointer"),b=y==null?m:qs(y),T=S==null?m:qs(S),m=new C(P,_+"leave",y,n,h),m.target=b,m.relatedTarget=T,P=null,$i(h)===u&&(C=new C(E,_+"enter",S,n,h),C.target=T,C.relatedTarget=b,P=C),b=P,y&&S)t:{for(C=y,E=S,_=0,T=C;T;T=Ds(T))_++;for(T=0,P=E;P;P=Ds(P))T++;for(;0<_-T;)C=Ds(C),_--;for(;0<T-_;)E=Ds(E),T--;for(;_--;){if(C===E||E!==null&&C===E.alternate)break t;C=Ds(C),E=Ds(E)}C=null}else C=null;y!==null&&jv(p,m,y,C,!1),S!==null&&b!==null&&jv(p,b,S,C,!0)}}e:{if(m=u?qs(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var D=tA;else if(Rv(m))if(qE)D=sA;else{D=rA;var O=nA}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=iA);if(D&&(D=D(t,u))){GE(p,D,n,h);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&jf(m,"number",m.value)}switch(O=u?qs(u):window,t){case"focusin":(Rv(O)||O.contentEditable==="true")&&(Hs=O,Yf=u,Da=null);break;case"focusout":Da=Yf=Hs=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Lv(p,n,h);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":Lv(p,n,h)}var w;if(jm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ws?WE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&($E&&n.locale!=="ko"&&(Ws||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ws&&(w=BE()):(Hr=h,Lm="value"in Hr?Hr.value:Hr.textContent,Ws=!0)),O=xu(u,v),0<O.length&&(v=new Iv(v,t,null,n,h),p.push({event:v,listeners:O}),w?v.data=w:(w=HE(n),w!==null&&(v.data=w)))),(w=QC?XC(t,n):JC(t,n))&&(u=xu(u,"onBeforeInput"),0<u.length&&(h=new Iv("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=w))}rw(p,e)})}function il(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xa(t,n),s!=null&&r.unshift(il(t,s,i)),s=Xa(t,e),s!=null&&r.push(il(t,s,i))),t=t.return}return r}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=Xa(n,s),c!=null&&o.unshift(il(n,c,a))):i||(c=Xa(n,s),c!=null&&o.push(il(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace(hA,`
`).replace(fA,"")}function Rc(t,e,n){if(e=Vv(e),Vv(t)!==e&&n)throw Error(H(425))}function Iu(){}var Xf=null,Jf=null;function Zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ep=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,Fv=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof Fv<"u"?function(t){return Fv.resolve(null).then(t).catch(gA)}:ep;function gA(t){setTimeout(function(){throw t})}function Gh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),el(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);el(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Ln="__reactFiber$"+jo,sl="__reactProps$"+jo,lr="__reactContainer$"+jo,tp="__reactEvents$"+jo,yA="__reactListeners$"+jo,vA="__reactHandles$"+jo;function $i(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uv(t);t!==null;){if(n=t[Ln])return n;t=Uv(t)}return e}t=n,n=t.parentNode}return null}function Dl(t){return t=t[Ln]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Id(t){return t[sl]||null}var np=[],Ks=-1;function Ti(t){return{current:t}}function Ae(t){0>Ks||(t.current=np[Ks],np[Ks]=null,Ks--)}function Ie(t,e){Ks++,np[Ks]=t.current,t.current=e}var di={},wt=Ti(di),Mt=Ti(!1),ts=di;function go(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jt(t){return t=t.childContextTypes,t!=null}function bu(){Ae(Mt),Ae(wt)}function zv(t,e,n){if(wt.current!==di)throw Error(H(168));Ie(wt,e),Ie(Mt,n)}function sw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,nC(t)||"Unknown",i));return Le({},n,r)}function Cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,ts=wt.current,Ie(wt,t),Ie(Mt,Mt.current),!0}function Bv(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=sw(t,e,ts),r.__reactInternalMemoizedMergedChildContext=t,Ae(Mt),Ae(wt),Ie(wt,t)):Ae(Mt),Ie(Mt,n)}var Xn=null,bd=!1,qh=!1;function ow(t){Xn===null?Xn=[t]:Xn.push(t)}function _A(t){bd=!0,ow(t)}function Si(){if(!qh&&Xn!==null){qh=!0;var t=0,e=Te;try{var n=Xn;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,bd=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(t+1)),PE(km,Si),i}finally{Te=e,qh=!1}}return null}var Ys=[],Qs=0,Au=null,Ru=0,on=[],an=0,ns=null,Zn=1,er="";function Vi(t,e){Ys[Qs++]=Ru,Ys[Qs++]=Au,Au=t,Ru=e}function aw(t,e,n){on[an++]=Zn,on[an++]=er,on[an++]=ns,ns=t;var r=Zn;t=er;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var s=32-xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zn=1<<32-xn(e)+i|n<<i|r,er=s+t}else Zn=1<<s|n<<i|r,er=t}function Fm(t){t.return!==null&&(Vi(t,1),aw(t,1,0))}function Um(t){for(;t===Au;)Au=Ys[--Qs],Ys[Qs]=null,Ru=Ys[--Qs],Ys[Qs]=null;for(;t===ns;)ns=on[--an],on[an]=null,er=on[--an],on[an]=null,Zn=on[--an],on[an]=null}var qt=null,Wt=null,ke=!1,En=null;function lw(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $v(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,Wt=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ns!==null?{id:Zn,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,Wt=null,!0):!1;default:return!1}}function rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ip(t){if(ke){var e=Wt;if(e){var n=e;if(!$v(t,e)){if(rp(t))throw Error(H(418));e=ei(n.nextSibling);var r=qt;e&&$v(t,e)?lw(r,n):(t.flags=t.flags&-4097|2,ke=!1,qt=t)}}else{if(rp(t))throw Error(H(418));t.flags=t.flags&-4097|2,ke=!1,qt=t}}}function Wv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function kc(t){if(t!==qt)return!1;if(!ke)return Wv(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zf(t.type,t.memoizedProps)),e&&(e=Wt)){if(rp(t))throw cw(),Error(H(418));for(;e;)lw(t,e),e=ei(e.nextSibling)}if(Wv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=qt?ei(t.stateNode.nextSibling):null;return!0}function cw(){for(var t=Wt;t;)t=ei(t.nextSibling)}function yo(){Wt=qt=null,ke=!1}function zm(t){En===null?En=[t]:En.push(t)}var EA=_r.ReactCurrentBatchConfig;function pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Pc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hv(t){var e=t._init;return e(t._payload)}function uw(t){function e(E,_){if(t){var T=E.deletions;T===null?(E.deletions=[_],E.flags|=16):T.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=ii(E,_),E.index=0,E.sibling=null,E}function s(E,_,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<_?(E.flags|=2,_):T):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,T,P){return _===null||_.tag!==6?(_=ef(T,E.mode,P),_.return=E,_):(_=i(_,T),_.return=E,_)}function c(E,_,T,P){var D=T.type;return D===$s?h(E,_,T.props.children,P,T.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===jr&&Hv(D)===_.type)?(P=i(_,T.props),P.ref=pa(E,_,T),P.return=E,P):(P=nu(T.type,T.key,T.props,null,E.mode,P),P.ref=pa(E,_,T),P.return=E,P)}function u(E,_,T,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=tf(T,E.mode,P),_.return=E,_):(_=i(_,T.children||[]),_.return=E,_)}function h(E,_,T,P,D){return _===null||_.tag!==7?(_=Yi(T,E.mode,P,D),_.return=E,_):(_=i(_,T),_.return=E,_)}function p(E,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ef(""+_,E.mode,T),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ec:return T=nu(_.type,_.key,_.props,null,E.mode,T),T.ref=pa(E,null,_),T.return=E,T;case Bs:return _=tf(_,E.mode,T),_.return=E,_;case jr:var P=_._init;return p(E,P(_._payload),T)}if(Ea(_)||ca(_))return _=Yi(_,E.mode,T,null),_.return=E,_;Pc(E,_)}return null}function m(E,_,T,P){var D=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(E,_,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ec:return T.key===D?c(E,_,T,P):null;case Bs:return T.key===D?u(E,_,T,P):null;case jr:return D=T._init,m(E,_,D(T._payload),P)}if(Ea(T)||ca(T))return D!==null?null:h(E,_,T,P,null);Pc(E,T)}return null}function y(E,_,T,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(T)||null,a(_,E,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ec:return E=E.get(P.key===null?T:P.key)||null,c(_,E,P,D);case Bs:return E=E.get(P.key===null?T:P.key)||null,u(_,E,P,D);case jr:var O=P._init;return y(E,_,T,O(P._payload),D)}if(Ea(P)||ca(P))return E=E.get(T)||null,h(_,E,P,D,null);Pc(_,P)}return null}function S(E,_,T,P){for(var D=null,O=null,w=_,v=_=0,I=null;w!==null&&v<T.length;v++){w.index>v?(I=w,w=null):I=w.sibling;var R=m(E,w,T[v],P);if(R===null){w===null&&(w=I);break}t&&w&&R.alternate===null&&e(E,w),_=s(R,_,v),O===null?D=R:O.sibling=R,O=R,w=I}if(v===T.length)return n(E,w),ke&&Vi(E,v),D;if(w===null){for(;v<T.length;v++)w=p(E,T[v],P),w!==null&&(_=s(w,_,v),O===null?D=w:O.sibling=w,O=w);return ke&&Vi(E,v),D}for(w=r(E,w);v<T.length;v++)I=y(w,E,v,T[v],P),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?v:I.key),_=s(I,_,v),O===null?D=I:O.sibling=I,O=I);return t&&w.forEach(function(N){return e(E,N)}),ke&&Vi(E,v),D}function C(E,_,T,P){var D=ca(T);if(typeof D!="function")throw Error(H(150));if(T=D.call(T),T==null)throw Error(H(151));for(var O=D=null,w=_,v=_=0,I=null,R=T.next();w!==null&&!R.done;v++,R=T.next()){w.index>v?(I=w,w=null):I=w.sibling;var N=m(E,w,R.value,P);if(N===null){w===null&&(w=I);break}t&&w&&N.alternate===null&&e(E,w),_=s(N,_,v),O===null?D=N:O.sibling=N,O=N,w=I}if(R.done)return n(E,w),ke&&Vi(E,v),D;if(w===null){for(;!R.done;v++,R=T.next())R=p(E,R.value,P),R!==null&&(_=s(R,_,v),O===null?D=R:O.sibling=R,O=R);return ke&&Vi(E,v),D}for(w=r(E,w);!R.done;v++,R=T.next())R=y(w,E,v,R.value,P),R!==null&&(t&&R.alternate!==null&&w.delete(R.key===null?v:R.key),_=s(R,_,v),O===null?D=R:O.sibling=R,O=R);return t&&w.forEach(function(k){return e(E,k)}),ke&&Vi(E,v),D}function b(E,_,T,P){if(typeof T=="object"&&T!==null&&T.type===$s&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ec:e:{for(var D=T.key,O=_;O!==null;){if(O.key===D){if(D=T.type,D===$s){if(O.tag===7){n(E,O.sibling),_=i(O,T.props.children),_.return=E,E=_;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===jr&&Hv(D)===O.type){n(E,O.sibling),_=i(O,T.props),_.ref=pa(E,O,T),_.return=E,E=_;break e}n(E,O);break}else e(E,O);O=O.sibling}T.type===$s?(_=Yi(T.props.children,E.mode,P,T.key),_.return=E,E=_):(P=nu(T.type,T.key,T.props,null,E.mode,P),P.ref=pa(E,_,T),P.return=E,E=P)}return o(E);case Bs:e:{for(O=T.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(E,_.sibling),_=i(_,T.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=tf(T,E.mode,P),_.return=E,E=_}return o(E);case jr:return O=T._init,b(E,_,O(T._payload),P)}if(Ea(T))return S(E,_,T,P);if(ca(T))return C(E,_,T,P);Pc(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,T),_.return=E,E=_):(n(E,_),_=ef(T,E.mode,P),_.return=E,E=_),o(E)):n(E,_)}return b}var vo=uw(!0),dw=uw(!1),ku=Ti(null),Pu=null,Xs=null,Bm=null;function $m(){Bm=Xs=Pu=null}function Wm(t){var e=ku.current;Ae(ku),t._currentValue=e}function sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){Pu=t,Bm=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Bm!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(Pu===null)throw Error(H(308));Xs=t,Pu.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var Wi=null;function Hm(t){Wi===null?Wi=[t]:Wi.push(t)}function hw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hm(e)):(n.next=i.next,i.next=n),e.interleaved=n,cr(t,r)}function cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function Gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cr(t,n)}return i=r.interleaved,i===null?(e.next=e,Hm(r)):(e.next=i.next,i.next=e),r.interleaved=e,cr(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pm(t,n)}}function Gv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nu(t,e,n,r){var i=t.updateQueue;Vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,h=u=c=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,C=a;switch(m=e,y=n,C.tag){case 1:if(S=C.payload,typeof S=="function"){p=S.call(y,p,m);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,m=typeof S=="function"?S.call(y,p,m):S,m==null)break e;p=Le({},p,m);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,c=p):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);is|=o,t.lanes=o,t.memoizedState=p}}function qv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Ml={},Vn=Ti(Ml),ol=Ti(Ml),al=Ti(Ml);function Hi(t){if(t===Ml)throw Error(H(174));return t}function qm(t,e){switch(Ie(al,e),Ie(ol,t),Ie(Vn,Ml),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ff(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ff(e,t)}Ae(Vn),Ie(Vn,e)}function _o(){Ae(Vn),Ae(ol),Ae(al)}function pw(t){Hi(al.current);var e=Hi(Vn.current),n=Ff(e,t.type);e!==n&&(Ie(ol,t),Ie(Vn,n))}function Km(t){ol.current===t&&(Ae(Vn),Ae(ol))}var Ne=Ti(0);function Ou(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function Ym(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var Xc=_r.ReactCurrentDispatcher,Yh=_r.ReactCurrentBatchConfig,rs=0,Oe=null,Ye=null,tt=null,Lu=!1,Ma=!1,ll=0,wA=0;function pt(){throw Error(H(321))}function Qm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function Xm(t,e,n,r,i,s){if(rs=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?IA:bA,t=n(r,i),Ma){s=0;do{if(Ma=!1,ll=0,25<=s)throw Error(H(301));s+=1,tt=Ye=null,e.updateQueue=null,Xc.current=CA,t=n(r,i)}while(Ma)}if(Xc.current=Du,e=Ye!==null&&Ye.next!==null,rs=0,tt=Ye=Oe=null,Lu=!1,e)throw Error(H(300));return t}function Jm(){var t=ll!==0;return ll=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Oe.memoizedState=tt=t:tt=tt.next=t,tt}function fn(){if(Ye===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=tt===null?Oe.memoizedState:tt.next;if(e!==null)tt=e,Ye=t;else{if(t===null)throw Error(H(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},tt===null?Oe.memoizedState=tt=t:tt=tt.next=t}return tt}function cl(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=fn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var h=u.lane;if((rs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,Oe.lanes|=h,is|=h}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,Cn(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,is|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xh(t){var e=fn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cn(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mw(){}function gw(t,e){var n=Oe,r=fn(),i=e(),s=!Cn(r.memoizedState,i);if(s&&(r.memoizedState=i,Dt=!0),r=r.queue,Zm(_w.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,ul(9,vw.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(H(349));rs&30||yw(n,e,i)}return i}function yw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vw(t,e,n,r){e.value=n,e.getSnapshot=r,Ew(e)&&ww(t)}function _w(t,e,n){return n(function(){Ew(e)&&ww(t)})}function Ew(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function ww(t){var e=cr(t,1);e!==null&&In(e,t,1,-1)}function Kv(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},e.queue=t,t=t.dispatch=xA.bind(null,Oe,t),[e.memoizedState,t]}function ul(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tw(){return fn().memoizedState}function Jc(t,e,n,r){var i=Nn();Oe.flags|=t,i.memoizedState=ul(1|e,n,void 0,r===void 0?null:r)}function Cd(t,e,n,r){var i=fn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&Qm(r,o.deps)){i.memoizedState=ul(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=ul(1|e,n,s,r)}function Yv(t,e){return Jc(8390656,8,t,e)}function Zm(t,e){return Cd(2048,8,t,e)}function Sw(t,e){return Cd(4,2,t,e)}function xw(t,e){return Cd(4,4,t,e)}function Iw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bw(t,e,n){return n=n!=null?n.concat([t]):null,Cd(4,4,Iw.bind(null,e,t),n)}function eg(){}function Cw(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Aw(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rw(t,e,n){return rs&21?(Cn(n,e)||(n=LE(),Oe.lanes|=n,is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function TA(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Yh.transition;Yh.transition={};try{t(!1),e()}finally{Te=n,Yh.transition=r}}function kw(){return fn().memoizedState}function SA(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pw(t))Nw(e,n);else if(n=hw(t,e,n,r),n!==null){var i=bt();In(n,t,r,i),Ow(n,e,r)}}function xA(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pw(t))Nw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cn(a,o)){var c=e.interleaved;c===null?(i.next=i,Hm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=hw(t,e,i,r),n!==null&&(i=bt(),In(n,t,r,i),Ow(n,e,r))}}function Pw(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function Nw(t,e){Ma=Lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ow(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pm(t,n)}}var Du={readContext:hn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},IA={readContext:hn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:Yv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4194308,4,Iw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jc(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SA.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:Kv,useDebugValue:eg,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Kv(!1),e=t[0];return t=TA.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=Nn();if(ke){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),nt===null)throw Error(H(349));rs&30||yw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Yv(_w.bind(null,r,s,t),[t]),r.flags|=2048,ul(9,vw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nn(),e=nt.identifierPrefix;if(ke){var n=er,r=Zn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bA={readContext:hn,useCallback:Cw,useContext:hn,useEffect:Zm,useImperativeHandle:bw,useInsertionEffect:Sw,useLayoutEffect:xw,useMemo:Aw,useReducer:Qh,useRef:Tw,useState:function(){return Qh(cl)},useDebugValue:eg,useDeferredValue:function(t){var e=fn();return Rw(e,Ye.memoizedState,t)},useTransition:function(){var t=Qh(cl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:mw,useSyncExternalStore:gw,useId:kw,unstable_isNewReconciler:!1},CA={readContext:hn,useCallback:Cw,useContext:hn,useEffect:Zm,useImperativeHandle:bw,useInsertionEffect:Sw,useLayoutEffect:xw,useMemo:Aw,useReducer:Xh,useRef:Tw,useState:function(){return Xh(cl)},useDebugValue:eg,useDeferredValue:function(t){var e=fn();return Ye===null?e.memoizedState=t:Rw(e,Ye.memoizedState,t)},useTransition:function(){var t=Xh(cl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:mw,useSyncExternalStore:gw,useId:kw,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function op(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ad={isMounted:function(t){return(t=t._reactInternals)?ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),i=ri(t),s=ir(r,i);s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(In(e,t,i,r),Qc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),i=ri(t),s=ir(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(In(e,t,i,r),Qc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=ri(t),i=ir(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(In(e,t,r,n),Qc(e,t,r))}};function Qv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!nl(n,r)||!nl(i,s):!0}function Lw(t,e,n){var r=!1,i=di,s=e.contextType;return typeof s=="object"&&s!==null?s=hn(s):(i=jt(e)?ts:wt.current,r=e.contextTypes,s=(r=r!=null)?go(t,i):di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ad,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Xv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ad.enqueueReplaceState(e,e.state,null)}function ap(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hn(s):(s=jt(e)?ts:wt.current,i.context=go(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(op(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ad.enqueueReplaceState(i,i.state,null),Nu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var n="",r=e;do n+=tC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AA=typeof WeakMap=="function"?WeakMap:Map;function Dw(t,e,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ju||(ju=!0,vp=r),lp(t,e)},n}function Mw(t,e,n){n=ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lp(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BA.bind(null,t,e,n),e.then(t,t))}function Zv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function e0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ir(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var RA=_r.ReactCurrentOwner,Dt=!1;function xt(t,e,n,r){e.child=t===null?dw(e,null,n,r):vo(e,t.child,n,r)}function t0(t,e,n,r,i){n=n.render;var s=e.ref;return ao(e,i),r=Xm(t,e,n,r,s,i),n=Jm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(ke&&n&&Fm(e),e.flags|=1,xt(t,e,r,i),e.child)}function n0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!lg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jw(t,e,s,r,i)):(t=nu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nl,n(o,r)&&t.ref===e.ref)return ur(t,e,i)}return e.flags|=1,t=ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function jw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(nl(s,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,ur(t,e,i)}return cp(t,e,n,r,i)}function Vw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Zs,$t),$t|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Zs,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(Zs,$t),$t|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(Zs,$t),$t|=r;return xt(t,e,i,n),e.child}function Fw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cp(t,e,n,r,i){var s=jt(n)?ts:wt.current;return s=go(e,s),ao(e,i),n=Xm(t,e,n,r,s,i),r=Jm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(ke&&r&&Fm(e),e.flags|=1,xt(t,e,n,i),e.child)}function r0(t,e,n,r,i){if(jt(n)){var s=!0;Cu(e)}else s=!1;if(ao(e,i),e.stateNode===null)Zc(t,e),Lw(e,n,r),ap(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=hn(u):(u=jt(n)?ts:wt.current,u=go(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Xv(e,o,r,u),Vr=!1;var m=e.memoizedState;o.state=m,Nu(e,r,o,i),c=e.memoizedState,a!==r||m!==c||Mt.current||Vr?(typeof h=="function"&&(op(e,n,h,r),c=e.memoizedState),(a=Vr||Qv(e,n,a,r,m,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:vn(e.type,a),o.props=u,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=hn(c):(c=jt(n)?ts:wt.current,c=go(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==c)&&Xv(e,o,r,c),Vr=!1,m=e.memoizedState,o.state=m,Nu(e,r,o,i);var S=e.memoizedState;a!==p||m!==S||Mt.current||Vr?(typeof y=="function"&&(op(e,n,y,r),S=e.memoizedState),(u=Vr||Qv(e,n,u,r,m,S,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return up(t,e,n,r,s,i)}function up(t,e,n,r,i,s){Fw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Bv(e,n,!1),ur(t,e,s);r=e.stateNode,RA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vo(e,t.child,null,s),e.child=vo(e,null,a,s)):xt(t,e,a,s),e.memoizedState=r.state,i&&Bv(e,n,!0),e.child}function Uw(t){var e=t.stateNode;e.pendingContext?zv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zv(t,e.context,!1),qm(t,e.containerInfo)}function i0(t,e,n,r,i){return yo(),zm(i),e.flags|=256,xt(t,e,n,r),e.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function zw(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Ne,i&1),t===null)return ip(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pd(o,r,0,null),t=Yi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=hp(n),e.memoizedState=dp,t):tg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ii(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ii(a,s):(s=Yi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?hp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dp,r}return s=t.child,t=s.sibling,r=ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tg(t,e){return e=Pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nc(t,e,n,r){return r!==null&&zm(r),vo(e,t.child,null,n),t=tg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Jh(Error(H(422))),Nc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pd({mode:"visible",children:r.children},i,0,null),s=Yi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&vo(e,t.child,null,o),e.child.memoizedState=hp(o),e.memoizedState=dp,s);if(!(e.mode&1))return Nc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Jh(s,r,void 0),Nc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dt||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cr(t,i),In(r,t,i,-1))}return ag(),r=Jh(Error(H(421))),Nc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$A.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wt=ei(i.nextSibling),qt=e,ke=!0,En=null,t!==null&&(on[an++]=Zn,on[an++]=er,on[an++]=ns,Zn=t.id,er=t.overflow,ns=e),e=tg(e,r.children),e.flags|=4096,e)}function s0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sp(t.return,e,n)}function Zh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xt(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s0(t,n,e);else if(t.tag===19)s0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ou(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ou(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zh(e,!0,n,null,s);break;case"together":Zh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PA(t,e,n){switch(e.tag){case 3:Uw(e),yo();break;case 5:pw(e);break;case 1:jt(e.type)&&Cu(e);break;case 4:qm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(ku,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?zw(t,e,n):(Ie(Ne,Ne.current&1),t=ur(t,e,n),t!==null?t.sibling:null);Ie(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Bw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Vw(t,e,n)}return ur(t,e,n)}var $w,fp,Ww,Hw;$w=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fp=function(){};Ww=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(Vn.current);var s=null;switch(n){case"input":i=Df(t,i),r=Df(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=Vf(t,i),r=Vf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Iu)}Uf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ya.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ce("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Hw=function(t,e,n,r){n!==r&&(e.flags|=4)};function ma(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NA(t,e,n){var r=e.pendingProps;switch(Um(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return jt(e.type)&&bu(),mt(e),null;case 3:return r=e.stateNode,_o(),Ae(Mt),Ae(wt),Ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(wp(En),En=null))),fp(t,e),mt(e),null;case 5:Km(e);var i=Hi(al.current);if(n=e.type,t!==null&&e.stateNode!=null)Ww(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return mt(e),null}if(t=Hi(Vn.current),kc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[sl]=s,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<Ta.length;i++)Ce(Ta[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":pv(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":gv(r,s),Ce("invalid",r)}Uf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,a,t),i=["children",""+a]):Ya.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":wc(r),mv(r,s,!0);break;case"textarea":wc(r),yv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Iu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_E(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[sl]=r,$w(t,e,!1,!1),e.stateNode=t;e:{switch(o=zf(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ta.length;i++)Ce(Ta[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":pv(t,r),i=Df(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":gv(t,r),i=Vf(t,r),Ce("invalid",t);break;default:i=r}Uf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?TE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&EE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qa(t,c):typeof c=="number"&&Qa(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ya.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ce("scroll",t):c!=null&&Im(t,s,c,o))}switch(n){case"input":wc(t),mv(t,r,!1);break;case"textarea":wc(t),yv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ro(t,!!r.multiple,s,!1):r.defaultValue!=null&&ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)Hw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Hi(al.current),Hi(Vn.current),kc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:Rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return mt(e),null;case 13:if(Ae(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Wt!==null&&e.mode&1&&!(e.flags&128))cw(),yo(),e.flags|=98560,s=!1;else if(s=kc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Ln]=e}else yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else En!==null&&(wp(En),En=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?Xe===0&&(Xe=3):ag())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return _o(),fp(t,e),t===null&&rl(e.stateNode.containerInfo),mt(e),null;case 10:return Wm(e.type._context),mt(e),null;case 17:return jt(e.type)&&bu(),mt(e),null;case 19:if(Ae(Ne),s=e.memoizedState,s===null)return mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ma(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ou(t),o!==null){for(e.flags|=128,ma(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Ne,Ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>wo&&(e.flags|=128,r=!0,ma(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ou(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ma(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return mt(e),null}else 2*Be()-s.renderingStartTime>wo&&n!==1073741824&&(e.flags|=128,r=!0,ma(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,n=Ne.current,Ie(Ne,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return og(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$t&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function OA(t,e){switch(Um(e),e.tag){case 1:return jt(e.type)&&bu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),Ae(Mt),Ae(wt),Ym(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Km(e),null;case 13:if(Ae(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Ne),null;case 4:return _o(),null;case 10:return Wm(e.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}var Oc=!1,_t=!1,LA=typeof WeakSet=="function"?WeakSet:Set,X=null;function Js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function pp(t,e,n){try{n()}catch(r){je(t,e,r)}}var o0=!1;function DA(t,e){if(Xf=Tu,t=QE(),Vm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,p=t,m=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++h===r&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jf={focusedElem:t,selectionRange:n},Tu=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,b=S.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:vn(e.type,C),b);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){je(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return S=o0,o0=!1,S}function ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&pp(e,n,s)}i=i.next}while(i!==r)}}function Rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gw(t){var e=t.alternate;e!==null&&(t.alternate=null,Gw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[sl],delete e[tp],delete e[yA],delete e[vA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qw(t){return t.tag===5||t.tag===3||t.tag===4}function a0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Iu));else if(r!==4&&(t=t.child,t!==null))for(gp(t,e,n),t=t.sibling;t!==null;)gp(t,e,n),t=t.sibling}function yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yp(t,e,n),t=t.sibling;t!==null;)yp(t,e,n),t=t.sibling}var ot=null,_n=!1;function Pr(t,e,n){for(n=n.child;n!==null;)Kw(t,e,n),n=n.sibling}function Kw(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:_t||Js(n,e);case 6:var r=ot,i=_n;ot=null,Pr(t,e,n),ot=r,_n=i,ot!==null&&(_n?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(_n?(t=ot,n=n.stateNode,t.nodeType===8?Gh(t.parentNode,n):t.nodeType===1&&Gh(t,n),el(t)):Gh(ot,n.stateNode));break;case 4:r=ot,i=_n,ot=n.stateNode.containerInfo,_n=!0,Pr(t,e,n),ot=r,_n=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&pp(n,e,o),i=i.next}while(i!==r)}Pr(t,e,n);break;case 1:if(!_t&&(Js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Pr(t,e,n),_t=r):Pr(t,e,n);break;default:Pr(t,e,n)}}function l0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LA),e.forEach(function(r){var i=WA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,_n=!1;break e;case 3:ot=a.stateNode.containerInfo,_n=!0;break e;case 4:ot=a.stateNode.containerInfo,_n=!0;break e}a=a.return}if(ot===null)throw Error(H(160));Kw(s,o,i),ot=null,_n=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){je(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yw(e,t),e=e.sibling}function Yw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),kn(t),r&4){try{ja(3,t,t.return),Rd(3,t)}catch(C){je(t,t.return,C)}try{ja(5,t,t.return)}catch(C){je(t,t.return,C)}}break;case 1:yn(e,t),kn(t),r&512&&n!==null&&Js(n,n.return);break;case 5:if(yn(e,t),kn(t),r&512&&n!==null&&Js(n,n.return),t.flags&32){var i=t.stateNode;try{Qa(i,"")}catch(C){je(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yE(i,s),zf(a,o);var u=zf(a,s);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?TE(i,p):h==="dangerouslySetInnerHTML"?EE(i,p):h==="children"?Qa(i,p):Im(i,h,p,u)}switch(a){case"input":Mf(i,s);break;case"textarea":vE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ro(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?ro(i,!!s.multiple,s.defaultValue,!0):ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[sl]=s}catch(C){je(t,t.return,C)}}break;case 6:if(yn(e,t),kn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){je(t,t.return,C)}}break;case 3:if(yn(e,t),kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{el(e.containerInfo)}catch(C){je(t,t.return,C)}break;case 4:yn(e,t),kn(t);break;case 13:yn(e,t),kn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ig=Be())),r&4&&l0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(u=_t)||h,yn(e,t),_t=u):yn(e,t),kn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(p=X=h;X!==null;){switch(m=X,y=m.child,m.tag){case 0:case 11:case 14:case 15:ja(4,m,m.return);break;case 1:Js(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(C){je(r,n,C)}}break;case 5:Js(m,m.return);break;case 22:if(m.memoizedState!==null){u0(p);continue}}y!==null?(y.return=m,X=y):u0(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=wE("display",o))}catch(C){je(t,t.return,C)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(C){je(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yn(e,t),kn(t),r&4&&l0(t);break;case 21:break;default:yn(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qw(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qa(i,""),r.flags&=-33);var s=a0(t);yp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=a0(t);gp(t,a,o);break;default:throw Error(H(161))}}catch(c){je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MA(t,e,n){X=t,Qw(t)}function Qw(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Oc;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||_t;a=Oc;var u=_t;if(Oc=o,(_t=c)&&!u)for(X=i;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?d0(i):c!==null?(c.return=o,X=c):d0(i);for(;s!==null;)X=s,Qw(s),s=s.sibling;X=i,Oc=a,_t=u}c0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):c0(t)}}function c0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||Rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&el(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}_t||e.flags&512&&mp(e)}catch(m){je(e,e.return,m)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function u0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function d0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rd(4,e)}catch(c){je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){je(e,i,c)}}var s=e.return;try{mp(e)}catch(c){je(e,s,c)}break;case 5:var o=e.return;try{mp(e)}catch(c){je(e,o,c)}}}catch(c){je(e,e.return,c)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var jA=Math.ceil,Mu=_r.ReactCurrentDispatcher,ng=_r.ReactCurrentOwner,un=_r.ReactCurrentBatchConfig,ye=0,nt=null,We=null,ct=0,$t=0,Zs=Ti(0),Xe=0,dl=null,is=0,kd=0,rg=0,Va=null,Nt=null,ig=0,wo=1/0,Qn=null,ju=!1,vp=null,ni=null,Lc=!1,Gr=null,Vu=0,Fa=0,_p=null,eu=-1,tu=0;function bt(){return ye&6?Be():eu!==-1?eu:eu=Be()}function ri(t){return t.mode&1?ye&2&&ct!==0?ct&-ct:EA.transition!==null?(tu===0&&(tu=LE()),tu):(t=Te,t!==0||(t=window.event,t=t===void 0?16:zE(t.type)),t):1}function In(t,e,n,r){if(50<Fa)throw Fa=0,_p=null,Error(H(185));Ol(t,n,r),(!(ye&2)||t!==nt)&&(t===nt&&(!(ye&2)&&(kd|=n),Xe===4&&zr(t,ct)),Vt(t,r),n===1&&ye===0&&!(e.mode&1)&&(wo=Be()+500,bd&&Si()))}function Vt(t,e){var n=t.callbackNode;EC(t,e);var r=wu(t,t===nt?ct:0);if(r===0)n!==null&&Ev(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ev(n),e===1)t.tag===0?_A(h0.bind(null,t)):ow(h0.bind(null,t)),mA(function(){!(ye&6)&&Si()}),n=null;else{switch(DE(r)){case 1:n=km;break;case 4:n=NE;break;case 16:n=Eu;break;case 536870912:n=OE;break;default:n=Eu}n=iT(n,Xw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xw(t,e){if(eu=-1,tu=0,ye&6)throw Error(H(327));var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var r=wu(t,t===nt?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fu(t,r);else{e=r;var i=ye;ye|=2;var s=Zw();(nt!==t||ct!==e)&&(Qn=null,wo=Be()+500,Ki(t,e));do try{UA();break}catch(a){Jw(t,a)}while(!0);$m(),Mu.current=s,ye=i,We!==null?e=0:(nt=null,ct=0,e=Xe)}if(e!==0){if(e===2&&(i=Gf(t),i!==0&&(r=i,e=Ep(t,i))),e===1)throw n=dl,Ki(t,0),zr(t,r),Vt(t,Be()),n;if(e===6)zr(t,r);else{if(i=t.current.alternate,!(r&30)&&!VA(i)&&(e=Fu(t,r),e===2&&(s=Gf(t),s!==0&&(r=s,e=Ep(t,s))),e===1))throw n=dl,Ki(t,0),zr(t,r),Vt(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Fi(t,Nt,Qn);break;case 3:if(zr(t,r),(r&130023424)===r&&(e=ig+500-Be(),10<e)){if(wu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ep(Fi.bind(null,t,Nt,Qn),e);break}Fi(t,Nt,Qn);break;case 4:if(zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jA(r/1960))-r,10<r){t.timeoutHandle=ep(Fi.bind(null,t,Nt,Qn),r);break}Fi(t,Nt,Qn);break;case 5:Fi(t,Nt,Qn);break;default:throw Error(H(329))}}}return Vt(t,Be()),t.callbackNode===n?Xw.bind(null,t):null}function Ep(t,e){var n=Va;return t.current.memoizedState.isDehydrated&&(Ki(t,e).flags|=256),t=Fu(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&wp(e)),t}function wp(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function VA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zr(t,e){for(e&=~rg,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function h0(t){if(ye&6)throw Error(H(327));lo();var e=wu(t,0);if(!(e&1))return Vt(t,Be()),null;var n=Fu(t,e);if(t.tag!==0&&n===2){var r=Gf(t);r!==0&&(e=r,n=Ep(t,r))}if(n===1)throw n=dl,Ki(t,0),zr(t,e),Vt(t,Be()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fi(t,Nt,Qn),Vt(t,Be()),null}function sg(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(wo=Be()+500,bd&&Si())}}function ss(t){Gr!==null&&Gr.tag===0&&!(ye&6)&&lo();var e=ye;ye|=1;var n=un.transition,r=Te;try{if(un.transition=null,Te=1,t)return t()}finally{Te=r,un.transition=n,ye=e,!(ye&6)&&Si()}}function og(){$t=Zs.current,Ae(Zs)}function Ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pA(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Um(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bu();break;case 3:_o(),Ae(Mt),Ae(wt),Ym();break;case 5:Km(r);break;case 4:_o();break;case 13:Ae(Ne);break;case 19:Ae(Ne);break;case 10:Wm(r.type._context);break;case 22:case 23:og()}n=n.return}if(nt=t,We=t=ii(t.current,null),ct=$t=e,Xe=0,dl=null,rg=kd=is=0,Nt=Va=null,Wi!==null){for(e=0;e<Wi.length;e++)if(n=Wi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wi=null}return t}function Jw(t,e){do{var n=We;try{if($m(),Xc.current=Du,Lu){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lu=!1}if(rs=0,tt=Ye=Oe=null,Ma=!1,ll=0,ng.current=null,n===null||n.return===null){Xe=1,dl=e,We=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=ct,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Zv(o);if(y!==null){y.flags&=-257,e0(y,o,a,s,e),y.mode&1&&Jv(s,u,e),e=y,c=u;var S=e.updateQueue;if(S===null){var C=new Set;C.add(c),e.updateQueue=C}else S.add(c);break e}else{if(!(e&1)){Jv(s,u,e),ag();break e}c=Error(H(426))}}else if(ke&&a.mode&1){var b=Zv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),e0(b,o,a,s,e),zm(Eo(c,a));break e}}s=c=Eo(c,a),Xe!==4&&(Xe=2),Va===null?Va=[s]:Va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=Dw(s,c,e);Gv(s,E);break e;case 1:a=c;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ni===null||!ni.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=Mw(s,a,e);Gv(s,P);break e}}s=s.return}while(s!==null)}tT(n)}catch(D){e=D,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function Zw(){var t=Mu.current;return Mu.current=Du,t===null?Du:t}function ag(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),nt===null||!(is&268435455)&&!(kd&268435455)||zr(nt,ct)}function Fu(t,e){var n=ye;ye|=2;var r=Zw();(nt!==t||ct!==e)&&(Qn=null,Ki(t,e));do try{FA();break}catch(i){Jw(t,i)}while(!0);if($m(),ye=n,Mu.current=r,We!==null)throw Error(H(261));return nt=null,ct=0,Xe}function FA(){for(;We!==null;)eT(We)}function UA(){for(;We!==null&&!dC();)eT(We)}function eT(t){var e=rT(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?tT(t):We=e,ng.current=null}function tT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OA(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,We=null;return}}else if(n=NA(n,e,$t),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Xe===0&&(Xe=5)}function Fi(t,e,n){var r=Te,i=un.transition;try{un.transition=null,Te=1,zA(t,e,n,r)}finally{un.transition=i,Te=r}return null}function zA(t,e,n,r){do lo();while(Gr!==null);if(ye&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wC(t,s),t===nt&&(We=nt=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lc||(Lc=!0,iT(Eu,function(){return lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=Te;Te=1;var a=ye;ye|=4,ng.current=null,DA(t,n),Yw(n,t),aA(Jf),Tu=!!Xf,Jf=Xf=null,t.current=n,MA(n),hC(),ye=a,Te=o,un.transition=s}else t.current=n;if(Lc&&(Lc=!1,Gr=t,Vu=i),s=t.pendingLanes,s===0&&(ni=null),mC(n.stateNode),Vt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ju)throw ju=!1,t=vp,vp=null,t;return Vu&1&&t.tag!==0&&lo(),s=t.pendingLanes,s&1?t===_p?Fa++:(Fa=0,_p=t):Fa=0,Si(),null}function lo(){if(Gr!==null){var t=DE(Vu),e=un.transition,n=Te;try{if(un.transition=null,Te=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,Vu=0,ye&6)throw Error(H(331));var i=ye;for(ye|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(X=u;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:ja(8,h,s)}var p=h.child;if(p!==null)p.return=h,X=p;else for(;X!==null;){h=X;var m=h.sibling,y=h.return;if(Gw(h),h===u){X=null;break}if(m!==null){m.return=y,X=m;break}X=y}}}var S=s.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var b=C.sibling;C.sibling=null,C=b}while(C!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ja(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,X=E;break e}X=s.return}}var _=t.current;for(X=_;X!==null;){o=X;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,X=T;else e:for(o=_;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rd(9,a)}}catch(D){je(a,a.return,D)}if(a===o){X=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,X=P;break e}X=a.return}}if(ye=i,Si(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(wd,t)}catch{}r=!0}return r}finally{Te=n,un.transition=e}}return!1}function f0(t,e,n){e=Eo(n,e),e=Dw(t,e,1),t=ti(t,e,1),e=bt(),t!==null&&(Ol(t,1,e),Vt(t,e))}function je(t,e,n){if(t.tag===3)f0(t,t,n);else for(;e!==null;){if(e.tag===3){f0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=Eo(n,t),t=Mw(e,t,1),e=ti(e,t,1),t=bt(),e!==null&&(Ol(e,1,t),Vt(e,t));break}}e=e.return}}function BA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(ct&n)===n&&(Xe===4||Xe===3&&(ct&130023424)===ct&&500>Be()-ig?Ki(t,0):rg|=n),Vt(t,e)}function nT(t,e){e===0&&(t.mode&1?(e=xc,xc<<=1,!(xc&130023424)&&(xc=4194304)):e=1);var n=bt();t=cr(t,e),t!==null&&(Ol(t,e,n),Vt(t,n))}function $A(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nT(t,n)}function WA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),nT(t,n)}var rT;rT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,PA(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,ke&&e.flags&1048576&&aw(e,Ru,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zc(t,e),t=e.pendingProps;var i=go(e,wt.current);ao(e,n),i=Xm(null,e,r,t,i,n);var s=Jm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(s=!0,Cu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gm(e),i.updater=Ad,e.stateNode=i,i._reactInternals=e,ap(e,r,t,n),e=up(null,e,r,!0,s,n)):(e.tag=0,ke&&s&&Fm(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GA(r),t=vn(r,t),i){case 0:e=cp(null,e,r,t,n);break e;case 1:e=r0(null,e,r,t,n);break e;case 11:e=t0(null,e,r,t,n);break e;case 14:e=n0(null,e,r,vn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),cp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),r0(t,e,r,i,n);case 3:e:{if(Uw(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fw(t,e),Nu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Eo(Error(H(423)),e),e=i0(t,e,r,n,i);break e}else if(r!==i){i=Eo(Error(H(424)),e),e=i0(t,e,r,n,i);break e}else for(Wt=ei(e.stateNode.containerInfo.firstChild),qt=e,ke=!0,En=null,n=dw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yo(),r===i){e=ur(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return pw(e),t===null&&ip(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Zf(r,i)?o=null:s!==null&&Zf(r,s)&&(e.flags|=32),Fw(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&ip(e),null;case 13:return zw(t,e,n);case 4:return qm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vo(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),t0(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(ku,r._currentValue),r._currentValue=o,s!==null)if(Cn(s.value,o)){if(s.children===i.children&&!Mt.current){e=ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ir(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),sp(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),sp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ao(e,n),i=hn(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=vn(r,e.pendingProps),i=vn(r.type,i),n0(t,e,r,i,n);case 15:return jw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),Zc(t,e),e.tag=1,jt(r)?(t=!0,Cu(e)):t=!1,ao(e,n),Lw(e,r,i),ap(e,r,i,n),up(null,e,r,!0,t,n);case 19:return Bw(t,e,n);case 22:return Vw(t,e,n)}throw Error(H(156,e.tag))};function iT(t,e){return PE(t,e)}function HA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new HA(t,e,n,r)}function lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GA(t){if(typeof t=="function")return lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cm)return 11;if(t===Am)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")lg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $s:return Yi(n.children,i,s,e);case bm:o=8,i|=8;break;case Pf:return t=cn(12,n,e,i|2),t.elementType=Pf,t.lanes=s,t;case Nf:return t=cn(13,n,e,i),t.elementType=Nf,t.lanes=s,t;case Of:return t=cn(19,n,e,i),t.elementType=Of,t.lanes=s,t;case pE:return Pd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hE:o=10;break e;case fE:o=9;break e;case Cm:o=11;break e;case Am:o=14;break e;case jr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Pd(t,e,n,r){return t=cn(22,t,r,e),t.elementType=pE,t.lanes=n,t.stateNode={isHidden:!1},t}function ef(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function tf(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cg(t,e,n,r,i,s,o,a,c){return t=new qA(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(s),t}function KA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sT(t){if(!t)return di;t=t._reactInternals;e:{if(ys(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(jt(n))return sw(t,n,e)}return e}function oT(t,e,n,r,i,s,o,a,c){return t=cg(n,r,!0,t,i,s,o,a,c),t.context=sT(null),n=t.current,r=bt(),i=ri(n),s=ir(r,i),s.callback=e??null,ti(n,s,i),t.current.lanes=i,Ol(t,i,r),Vt(t,r),t}function Nd(t,e,n,r){var i=e.current,s=bt(),o=ri(i);return n=sT(n),e.context===null?e.context=n:e.pendingContext=n,e=ir(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,o),t!==null&&(In(t,i,o,s),Qc(t,i,o)),o}function Uu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ug(t,e){p0(t,e),(t=t.alternate)&&p0(t,e)}function YA(){return null}var aT=typeof reportError=="function"?reportError:function(t){console.error(t)};function dg(t){this._internalRoot=t}Od.prototype.render=dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Nd(t,e,null,null)};Od.prototype.unmount=dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ss(function(){Nd(null,t,null,null)}),e[lr]=null}};function Od(t){this._internalRoot=t}Od.prototype.unstable_scheduleHydration=function(t){if(t){var e=VE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&UE(t)}};function hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function m0(){}function QA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Uu(o);s.call(u)}}var o=oT(e,r,t,0,null,!1,!1,"",m0);return t._reactRootContainer=o,t[lr]=o.current,rl(t.nodeType===8?t.parentNode:t),ss(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Uu(c);a.call(u)}}var c=cg(t,0,!1,null,null,!1,!1,"",m0);return t._reactRootContainer=c,t[lr]=c.current,rl(t.nodeType===8?t.parentNode:t),ss(function(){Nd(e,c,n,r)}),c}function Dd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Uu(o);a.call(c)}}Nd(e,o,t,i)}else o=QA(n,e,t,i,r);return Uu(o)}ME=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wa(e.pendingLanes);n!==0&&(Pm(e,n|1),Vt(e,Be()),!(ye&6)&&(wo=Be()+500,Si()))}break;case 13:ss(function(){var r=cr(t,1);if(r!==null){var i=bt();In(r,t,1,i)}}),ug(t,1)}};Nm=function(t){if(t.tag===13){var e=cr(t,134217728);if(e!==null){var n=bt();In(e,t,134217728,n)}ug(t,134217728)}};jE=function(t){if(t.tag===13){var e=ri(t),n=cr(t,e);if(n!==null){var r=bt();In(n,t,e,r)}ug(t,e)}};VE=function(){return Te};FE=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};$f=function(t,e,n){switch(e){case"input":if(Mf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Id(r);if(!i)throw Error(H(90));gE(r),Mf(r,i)}}}break;case"textarea":vE(t,n);break;case"select":e=n.value,e!=null&&ro(t,!!n.multiple,e,!1)}};IE=sg;bE=ss;var XA={usingClientEntryPoint:!1,Events:[Dl,qs,Id,SE,xE,sg]},ga={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JA={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RE(t),t===null?null:t.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||YA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{wd=Dc.inject(JA),jn=Dc}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XA;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hg(e))throw Error(H(200));return KA(t,e,null,n)};Zt.createRoot=function(t,e){if(!hg(t))throw Error(H(299));var n=!1,r="",i=aT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cg(t,1,!1,null,null,n,!1,r,i),t[lr]=e.current,rl(t.nodeType===8?t.parentNode:t),new dg(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=RE(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return ss(t)};Zt.hydrate=function(t,e,n){if(!Ld(e))throw Error(H(200));return Dd(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!hg(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=aT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=oT(e,null,t,1,n??null,i,!1,s,o),t[lr]=e.current,rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Od(e)};Zt.render=function(t,e,n){if(!Ld(e))throw Error(H(200));return Dd(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Ld(t))throw Error(H(40));return t._reactRootContainer?(ss(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};Zt.unstable_batchedUpdates=sg;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ld(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Dd(t,e,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function lT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lT)}catch(t){console.error(t)}}lT(),lE.exports=Zt;var ZA=lE.exports,cT,g0=ZA;cT=g0.createRoot,g0.hydrateRoot;const e2={prefix:"fas",iconName:"microphone-lines-slash",icon:[640,512,["microphone-alt-slash"],"f539","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L472.1 344.7c15.2-26 23.9-56.3 23.9-88.7l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 24 0 16c0 21.2-5.1 41.1-14.2 58.7L416 300.8l0-44.8-57.1 0-34.5-27c2.9-3.1 7-5 11.6-5l80 0 0-32-80 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l80 0 0-32-80 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l80 0c0-53-43-96-96-96s-96 43-96 96l0 54.3L38.8 5.1zm362.5 407l-43.1-33.9C346.1 382 333.3 384 320 384c-70.7 0-128-57.3-128-128l0-8.7L144.7 210c-.5 1.9-.7 3.9-.7 6l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c20.4-2.8 39.7-9.1 57.3-18.2z"]},uT=e2,dT={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"]},hT={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},t2={prefix:"fas",iconName:"g",icon:[448,512,[103],"47","M224 96C135.6 96 64 167.6 64 256s71.6 160 160 160c77.4 0 142-55 156.8-128L256 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l144 0c25.8 0 49.6 21.4 47.2 50.6C437.8 389.6 341.4 480 224 480C100.3 480 0 379.7 0 256S100.3 32 224 32c57.4 0 109.7 21.6 149.3 57c13.2 11.8 14.3 32 2.5 45.2s-32 14.3-45.2 2.5C302.3 111.4 265 96 224 96z"]},n2={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},fT={prefix:"fas",iconName:"microphone",icon:[384,512,[],"f130","M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z"]},nf={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},zu={prefix:"fas",iconName:"volume-high",icon:[640,512,[128266,"volume-up"],"f028","M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64l0 384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352 64 352c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l67.8 0L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"]},pT={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},mT={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},rf={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},Bu={prefix:"fas",iconName:"power-off",icon:[512,512,[9211],"f011","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 224c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224zM143.5 120.6c13.6-11.3 15.4-31.5 4.1-45.1s-31.5-15.4-45.1-4.1C49.7 115.4 16 181.8 16 256c0 132.5 107.5 240 240 240s240-107.5 240-240c0-74.2-33.8-140.6-86.6-184.6c-13.6-11.3-33.8-9.4-45.1 4.1s-9.4 33.8 4.1 45.1c38.9 32.3 63.5 81 63.5 135.4c0 97.2-78.8 176-176 176s-176-78.8-176-176c0-54.4 24.7-103.1 63.5-135.4z"]},$u={prefix:"fas",iconName:"volume-xmark",icon:[576,512,["volume-mute","volume-times"],"f6a9","M301.1 34.8C312.6 40 320 51.4 320 64l0 384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352 64 352c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l67.8 0L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},gT={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},yT={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480l0-83.6c0-4 1.5-7.8 4.2-10.8L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},y0=()=>{};let fg={},vT={},_T=null,ET={mark:y0,measure:y0};try{typeof window<"u"&&(fg=window),typeof document<"u"&&(vT=document),typeof MutationObserver<"u"&&(_T=MutationObserver),typeof performance<"u"&&(ET=performance)}catch{}const{userAgent:v0=""}=fg.navigator||{},hi=fg,Re=vT,_0=_T,Mc=ET;hi.document;const Er=!!Re.documentElement&&!!Re.head&&typeof Re.addEventListener=="function"&&typeof Re.createElement=="function",wT=~v0.indexOf("MSIE")||~v0.indexOf("Trident/");var Pe="classic",TT="duotone",Kt="sharp",Yt="sharp-duotone",r2=[Pe,TT,Kt,Yt],i2={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},E0={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},s2=["kit"],o2=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,a2=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,l2={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},c2={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},u2={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},d2={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},h2={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},f2={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},ST={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},p2=["solid","regular","light","thin","duotone","brands"],xT=[1,2,3,4,5,6,7,8,9,10],m2=xT.concat([11,12,13,14,15,16,17,18,19,20]),Sa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},g2=[...Object.keys(d2),...p2,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Sa.GROUP,Sa.SWAP_OPACITY,Sa.PRIMARY,Sa.SECONDARY].concat(xT.map(t=>"".concat(t,"x"))).concat(m2.map(t=>"w-".concat(t))),y2={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},v2={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},_2={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},w0={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const dr="___FONT_AWESOME___",Tp=16,IT="fa",bT="svg-inline--fa",os="data-fa-i2svg",Sp="data-fa-pseudo-element",E2="data-fa-pseudo-element-pending",pg="data-prefix",mg="data-icon",T0="fontawesome-i2svg",w2="async",T2=["HTML","HEAD","STYLE","SCRIPT"],CT=(()=>{try{return!0}catch{return!1}})(),AT=[Pe,Kt,Yt];function jl(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Pe]}})}const RT={...ST};RT[Pe]={...ST[Pe],...E0.kit,...E0["kit-duotone"]};const Qi=jl(RT),xp={...f2};xp[Pe]={...xp[Pe],...w0.kit,...w0["kit-duotone"]};const hl=jl(xp),Ip={...h2};Ip[Pe]={...Ip[Pe],..._2.kit};const Xi=jl(Ip),bp={...u2};bp[Pe]={...bp[Pe],...v2.kit};const S2=jl(bp),x2=o2,kT="fa-layers-text",I2=a2,b2={...i2};jl(b2);const C2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],sf=Sa,To=new Set;Object.keys(hl[Pe]).map(To.add.bind(To));Object.keys(hl[Kt]).map(To.add.bind(To));Object.keys(hl[Yt]).map(To.add.bind(To));const A2=[...s2,...g2],Ua=hi.FontAwesomeConfig||{};function R2(t){var e=Re.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function k2(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Re&&typeof Re.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=k2(R2(n));i!=null&&(Ua[r]=i)});const PT={styleDefault:"solid",familyDefault:"classic",cssPrefix:IT,replacementClass:bT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ua.familyPrefix&&(Ua.cssPrefix=Ua.familyPrefix);const So={...PT,...Ua};So.autoReplaceSvg||(So.observeMutations=!1);const J={};Object.keys(PT).forEach(t=>{Object.defineProperty(J,t,{enumerable:!0,set:function(e){So[t]=e,za.forEach(n=>n(J))},get:function(){return So[t]}})});Object.defineProperty(J,"familyPrefix",{enumerable:!0,set:function(t){So.cssPrefix=t,za.forEach(e=>e(J))},get:function(){return So.cssPrefix}});hi.FontAwesomeConfig=J;const za=[];function P2(t){return za.push(t),()=>{za.splice(za.indexOf(t),1)}}const Nr=Tp,Dn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function N2(t){if(!t||!Er)return;const e=Re.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Re.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Re.head.insertBefore(e,r),t}const O2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function fl(){let t=12,e="";for(;t-- >0;)e+=O2[Math.random()*62|0];return e}function Vo(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function gg(t){return t.classList?Vo(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function NT(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L2(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(NT(t[n]),'" '),"").trim()}function Md(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function yg(t){return t.size!==Dn.size||t.x!==Dn.x||t.y!==Dn.y||t.rotate!==Dn.rotate||t.flipX||t.flipY}function D2(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:u}}function M2(t){let{transform:e,width:n=Tp,height:r=Tp,startCentered:i=!1}=t,s="";return i&&wT?s+="translate(".concat(e.x/Nr-n/2,"em, ").concat(e.y/Nr-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/Nr,"em), calc(-50% + ").concat(e.y/Nr,"em)) "):s+="translate(".concat(e.x/Nr,"em, ").concat(e.y/Nr,"em) "),s+="scale(".concat(e.size/Nr*(e.flipX?-1:1),", ").concat(e.size/Nr*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var j2=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function OT(){const t=IT,e=bT,n=J.cssPrefix,r=J.replacementClass;let i=j2;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}let S0=!1;function of(){J.autoAddCss&&!S0&&(N2(OT()),S0=!0)}var V2={mixout(){return{dom:{css:OT,insertCss:of}}},hooks(){return{beforeDOMElementCreation(){of()},beforeI2svg(){of()}}}};const hr=hi||{};hr[dr]||(hr[dr]={});hr[dr].styles||(hr[dr].styles={});hr[dr].hooks||(hr[dr].hooks={});hr[dr].shims||(hr[dr].shims=[]);var Mn=hr[dr];const LT=[],DT=function(){Re.removeEventListener("DOMContentLoaded",DT),Wu=1,LT.map(t=>t())};let Wu=!1;Er&&(Wu=(Re.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Re.readyState),Wu||Re.addEventListener("DOMContentLoaded",DT));function F2(t){Er&&(Wu?setTimeout(t,0):LT.push(t))}function Vl(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?NT(t):"<".concat(e," ").concat(L2(n),">").concat(r.map(Vl).join(""),"</").concat(e,">")}function x0(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var af=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=n,c,u,h;for(r===void 0?(c=1,h=e[s[0]]):(c=0,h=r);c<o;c++)u=s[c],h=a(h,e[u],u,e);return h};function U2(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Cp(t){const e=U2(t);return e.length===1?e[0].toString(16):null}function z2(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function I0(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Ap(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=I0(e);typeof Mn.hooks.addPack=="function"&&!r?Mn.hooks.addPack(t,I0(e)):Mn.styles[t]={...Mn.styles[t]||{},...i},t==="fas"&&Ap("fa",e)}const{styles:Bi,shims:B2}=Mn,$2={[Pe]:Object.values(Xi[Pe]),[Kt]:Object.values(Xi[Kt]),[Yt]:Object.values(Xi[Yt])};let vg=null,MT={},jT={},VT={},FT={},UT={};const W2={[Pe]:Object.keys(Qi[Pe]),[Kt]:Object.keys(Qi[Kt]),[Yt]:Object.keys(Qi[Yt])};function H2(t){return~A2.indexOf(t)}function G2(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!H2(i)?i:null}const zT=()=>{const t=r=>af(Bi,(i,s,o)=>(i[o]=af(s,r,{}),i),{});MT=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),jT=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),UT=t((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});const e="far"in Bi||J.autoFetchSvg,n=af(B2,(r,i)=>{const s=i[0];let o=i[1];const a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});VT=n.names,FT=n.unicodes,vg=jd(J.styleDefault,{family:J.familyDefault})};P2(t=>{vg=jd(t.styleDefault,{family:J.familyDefault})});zT();function _g(t,e){return(MT[t]||{})[e]}function q2(t,e){return(jT[t]||{})[e]}function qr(t,e){return(UT[t]||{})[e]}function BT(t){return VT[t]||{prefix:null,iconName:null}}function K2(t){const e=FT[t],n=_g("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function fi(){return vg}const Eg=()=>({prefix:null,iconName:null,rest:[]});function jd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Pe}=e,r=Qi[n][t],i=hl[n][t]||hl[n][r],s=t in Mn.styles?t:null;return i||s||null}const Y2={[Pe]:Object.keys(Xi[Pe]),[Kt]:Object.keys(Xi[Kt]),[Yt]:Object.keys(Xi[Yt])};function Vd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[Pe]:"".concat(J.cssPrefix,"-").concat(Pe),[Kt]:"".concat(J.cssPrefix,"-").concat(Kt),[Yt]:"".concat(J.cssPrefix,"-").concat(Yt)};let i=null,s=Pe;const o=r2.filter(c=>c!==TT);o.forEach(c=>{(t.includes(r[c])||t.some(u=>Y2[c].includes(u)))&&(s=c)});const a=t.reduce((c,u)=>{const h=G2(J.cssPrefix,u);if(Bi[u]?(u=$2[s].includes(u)?S2[s][u]:u,i=u,c.prefix=u):W2[s].indexOf(u)>-1?(i=u,c.prefix=jd(u,{family:s})):h?c.iconName=h:u!==J.replacementClass&&!o.some(p=>u===r[p])&&c.rest.push(u),!n&&c.prefix&&c.iconName){const p=i==="fa"?BT(c.iconName):{},m=qr(c.prefix,c.iconName);p.prefix&&(i=null),c.iconName=p.iconName||m||c.iconName,c.prefix=p.prefix||c.prefix,c.prefix==="far"&&!Bi.far&&Bi.fas&&!J.autoFetchSvg&&(c.prefix="fas")}return c},Eg());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&s===Kt&&(Bi.fass||J.autoFetchSvg)&&(a.prefix="fass",a.iconName=qr(a.prefix,a.iconName)||a.iconName),!a.prefix&&s===Yt&&(Bi.fasds||J.autoFetchSvg)&&(a.prefix="fasds",a.iconName=qr(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||i==="fa")&&(a.prefix=fi()||"fas"),a}class Q2{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},Ap(s,i[s]);const o=Xi[Pe][s];o&&Ap(o,i[s]),zT()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:a}=r[i],c=a[2];e[s]||(e[s]={}),c.length>0&&c.forEach(u=>{typeof u=="string"&&(e[s][u]=a)}),e[s][o]=a}),e}}let b0=[],eo={};const co={},X2=Object.keys(co);function J2(t,e){let{mixoutsTo:n}=e;return b0=t,eo={},Object.keys(co).forEach(r=>{X2.indexOf(r)===-1&&delete co[r]}),b0.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{eo[o]||(eo[o]=[]),eo[o].push(s[o])})}r.provides&&r.provides(co)}),n}function Rp(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(eo[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function as(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(eo[t]||[]).forEach(s=>{s.apply(null,n)})}function pi(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return co[t]?co[t].apply(null,e):void 0}function kp(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||fi();if(e)return e=qr(n,e)||e,x0($T.definitions,n,e)||x0(Mn.styles,n,e)}const $T=new Q2,Z2=()=>{J.autoReplaceSvg=!1,J.observeMutations=!1,as("noAuto")},eR={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Er?(as("beforeI2svg",t),pi("pseudoElements2svg",t),pi("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;J.autoReplaceSvg===!1&&(J.autoReplaceSvg=!0),J.observeMutations=!0,F2(()=>{nR({autoReplaceSvgRoot:e}),as("watch",t)})}},tR={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:qr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=jd(t[0]);return{prefix:n,iconName:qr(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(J.cssPrefix,"-"))>-1||t.match(x2))){const e=Vd(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||fi(),iconName:qr(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=fi();return{prefix:e,iconName:qr(e,t)||t}}}},tn={noAuto:Z2,config:J,dom:eR,parse:tR,library:$T,findIconDefinition:kp,toHtml:Vl},nR=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Re}=t;(Object.keys(Mn.styles).length>0||J.autoFetchSvg)&&Er&&J.autoReplaceSvg&&tn.dom.i2svg({node:e})};function Fd(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Vl(n))}}),Object.defineProperty(t,"node",{get:function(){if(!Er)return;const n=Re.createElement("div");return n.innerHTML=t.html,n.children}}),t}function rR(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(yg(o)&&n.found&&!r.found){const{width:a,height:c}=n,u={x:a/c/2,y:.5};i.style=Md({...s,"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function iR(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(J.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:o},children:r}]}]}function wg(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:c,titleId:u,extra:h,watchable:p=!1}=t,{width:m,height:y}=n.found?n:e,S=r==="fak",C=[J.replacementClass,i?"".concat(J.cssPrefix,"-").concat(i):""].filter(D=>h.classes.indexOf(D)===-1).filter(D=>D!==""||!!D).concat(h.classes).join(" ");let b={children:[],attributes:{...h.attributes,"data-prefix":r,"data-icon":i,class:C,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)}};const E=S&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};p&&(b.attributes[os]=""),a&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||fl())},children:[a]}),delete b.attributes.title);const _={...b,prefix:r,iconName:i,main:e,mask:n,maskId:c,transform:s,symbol:o,styles:{...E,...h.styles}},{children:T,attributes:P}=n.found&&e.found?pi("generateAbstractMask",_)||{children:[],attributes:{}}:pi("generateAbstractIcon",_)||{children:[],attributes:{}};return _.children=T,_.attributes=P,o?iR(_):rR(_)}function C0(t){const{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,c={...o.attributes,...s?{title:s}:{},class:o.classes.join(" ")};a&&(c[os]="");const u={...o.styles};yg(i)&&(u.transform=M2({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const h=Md(u);h.length>0&&(c.style=h);const p=[];return p.push({tag:"span",attributes:c,children:[e]}),s&&p.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),p}function sR(t){const{content:e,title:n,extra:r}=t,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=Md(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:lf}=Mn;function Pp(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(J.cssPrefix,"-").concat(sf.GROUP)},children:[{tag:"path",attributes:{class:"".concat(J.cssPrefix,"-").concat(sf.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(J.cssPrefix,"-").concat(sf.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const oR={found:!1,width:512,height:512};function aR(t,e){!CT&&!J.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Np(t,e){let n=e;return e==="fa"&&J.styleDefault!==null&&(e=fi()),new Promise((r,i)=>{if(n==="fa"){const s=BT(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&lf[e]&&lf[e][t]){const s=lf[e][t];return r(Pp(s))}aR(t,e),r({...oR,icon:J.showMissingIcons&&t?pi("missingIconAbstract")||{}:{}})})}const A0=()=>{},Op=J.measurePerformance&&Mc&&Mc.mark&&Mc.measure?Mc:{mark:A0,measure:A0},xa='FA "6.6.0"',lR=t=>(Op.mark("".concat(xa," ").concat(t," begins")),()=>WT(t)),WT=t=>{Op.mark("".concat(xa," ").concat(t," ends")),Op.measure("".concat(xa," ").concat(t),"".concat(xa," ").concat(t," begins"),"".concat(xa," ").concat(t," ends"))};var Tg={begin:lR,end:WT};const ru=()=>{};function R0(t){return typeof(t.getAttribute?t.getAttribute(os):null)=="string"}function cR(t){const e=t.getAttribute?t.getAttribute(pg):null,n=t.getAttribute?t.getAttribute(mg):null;return e&&n}function uR(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(J.replacementClass)}function dR(){return J.autoReplaceSvg===!0?iu.replace:iu[J.autoReplaceSvg]||iu.replace}function hR(t){return Re.createElementNS("http://www.w3.org/2000/svg",t)}function fR(t){return Re.createElement(t)}function HT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?hR:fR}=e;if(typeof t=="string")return Re.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(HT(s,{ceFn:n}))}),r}function pR(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const iu={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(HT(n),e)}),e.getAttribute(os)===null&&J.keepOriginalSource){let n=Re.createComment(pR(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~gg(e).indexOf(J.replacementClass))return iu.replace(t);const r=new RegExp("".concat(J.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===J.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>Vl(s)).join(`
`);e.setAttribute(os,""),e.innerHTML=i}};function k0(t){t()}function GT(t,e){const n=typeof e=="function"?e:ru;if(t.length===0)n();else{let r=k0;J.mutateApproach===w2&&(r=hi.requestAnimationFrame||k0),r(()=>{const i=dR(),s=Tg.begin("mutate");t.map(i),s(),n()})}}let Sg=!1;function qT(){Sg=!0}function Lp(){Sg=!1}let Hu=null;function P0(t){if(!_0||!J.observeMutations)return;const{treeCallback:e=ru,nodeCallback:n=ru,pseudoElementsCallback:r=ru,observeMutationsRoot:i=Re}=t;Hu=new _0(s=>{if(Sg)return;const o=fi();Vo(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!R0(a.addedNodes[0])&&(J.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&J.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&R0(a.target)&&~C2.indexOf(a.attributeName))if(a.attributeName==="class"&&cR(a.target)){const{prefix:c,iconName:u}=Vd(gg(a.target));a.target.setAttribute(pg,c||o),u&&a.target.setAttribute(mg,u)}else uR(a.target)&&n(a.target)})}),Er&&Hu.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function mR(){Hu&&Hu.disconnect()}function gR(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function yR(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=Vd(gg(t));return i.prefix||(i.prefix=fi()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=q2(i.prefix,t.innerText)||_g(i.prefix,Cp(t.innerText))),!i.iconName&&J.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function vR(t){const e=Vo(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return J.autoA11y&&(n?e["aria-labelledby"]="".concat(J.replacementClass,"-title-").concat(r||fl()):(e["aria-hidden"]="true",e.focusable="false")),e}function _R(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Dn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function N0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=yR(t),s=vR(t),o=Rp("parseNodeAttributes",{},t);let a=e.styleParser?gR(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Dn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s},...o}}const{styles:ER}=Mn;function KT(t){const e=J.autoReplaceSvg==="nest"?N0(t,{styleParser:!1}):N0(t);return~e.extra.classes.indexOf(kT)?pi("generateLayersText",t,e):pi("generateSvgReplacementMutation",t,e)}let $n=new Set;AT.map(t=>{$n.add("fa-".concat(t))});Object.keys(Qi[Pe]).map($n.add.bind($n));Object.keys(Qi[Kt]).map($n.add.bind($n));Object.keys(Qi[Yt]).map($n.add.bind($n));$n=[...$n];function O0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Er)return Promise.resolve();const n=Re.documentElement.classList,r=h=>n.add("".concat(T0,"-").concat(h)),i=h=>n.remove("".concat(T0,"-").concat(h)),s=J.autoFetchSvg?$n:AT.map(h=>"fa-".concat(h)).concat(Object.keys(ER));s.includes("fa")||s.push("fa");const o=[".".concat(kT,":not([").concat(os,"])")].concat(s.map(h=>".".concat(h,":not([").concat(os,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=Vo(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();const c=Tg.begin("onTree"),u=a.reduce((h,p)=>{try{const m=KT(p);m&&h.push(m)}catch(m){CT||m.name==="MissingIcon"&&console.error(m)}return h},[]);return new Promise((h,p)=>{Promise.all(u).then(m=>{GT(m,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),c(),h()})}).catch(m=>{c(),p(m)})})}function wR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;KT(t).then(n=>{n&&GT([n],e)})}function TR(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:kp(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:kp(i||{})),t(r,{...n,mask:i})}}const SR=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Dn,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:c=[],attributes:u={},styles:h={}}=e;if(!t)return;const{prefix:p,iconName:m,icon:y}=t;return Fd({type:"icon",...t},()=>(as("beforeDOMElementCreation",{iconDefinition:t,params:e}),J.autoA11y&&(o?u["aria-labelledby"]="".concat(J.replacementClass,"-title-").concat(a||fl()):(u["aria-hidden"]="true",u.focusable="false")),wg({icons:{main:Pp(y),mask:i?Pp(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:m,transform:{...Dn,...n},symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:u,styles:h,classes:c}})))};var xR={mixout(){return{icon:TR(SR)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=O0,t.nodeCallback=wR,t}}},provides(t){t.i2svg=function(e){const{node:n=Re,callback:r=()=>{}}=e;return O0(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:c,mask:u,maskId:h,extra:p}=n;return new Promise((m,y)=>{Promise.all([Np(r,o),u.iconName?Np(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(S=>{let[C,b]=S;m([e,wg({icons:{main:C,mask:b},prefix:o,iconName:r,transform:a,symbol:c,maskId:h,title:i,titleId:s,extra:p,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e;const a=Md(o);a.length>0&&(r.style=a);let c;return yg(s)&&(c=pi("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(c||i.icon),{children:n,attributes:r}}}},IR={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return Fd({type:"layer"},()=>{as("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(J.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},bR={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return Fd({type:"counter",content:t},()=>(as("beforeDOMElementCreation",{content:t,params:e}),sR({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(J.cssPrefix,"-layers-counter"),...r]}})))}}}},CR={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Dn,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return Fd({type:"text",content:t},()=>(as("beforeDOMElementCreation",{content:t,params:e}),C0({content:t,transform:{...Dn,...n},title:r,extra:{attributes:s,styles:o,classes:["".concat(J.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let o=null,a=null;if(wT){const c=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/c,a=u.height/c}return J.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,C0({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}};const AR=new RegExp('"',"ug"),L0=[1105920,1112319],D0={FontAwesome:{normal:"fas",400:"fas"},...c2,...l2,...y2},Dp=Object.keys(D0).reduce((t,e)=>(t[e.toLowerCase()]=D0[e],t),{}),RR=Object.keys(Dp).reduce((t,e)=>{const n=Dp[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function kR(t){const e=t.replace(AR,""),n=z2(e,0),r=n>=L0[0]&&n<=L0[1],i=e.length===2?e[0]===e[1]:!1;return{value:Cp(i?e[0]:e),isSecondary:r||i}}function PR(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(Dp[n]||{})[i]||RR[n]}function M0(t,e){const n="".concat(E2).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const o=Vo(t.children).filter(m=>m.getAttribute(Sp)===e)[0],a=hi.getComputedStyle(t,e),c=a.getPropertyValue("font-family"),u=c.match(I2),h=a.getPropertyValue("font-weight"),p=a.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&p!=="none"&&p!==""){const m=a.getPropertyValue("content");let y=PR(c,h);const{value:S,isSecondary:C}=kR(m),b=u[0].startsWith("FontAwesome");let E=_g(y,S),_=E;if(b){const T=K2(S);T.iconName&&T.prefix&&(E=T.iconName,y=T.prefix)}if(E&&!C&&(!o||o.getAttribute(pg)!==y||o.getAttribute(mg)!==_)){t.setAttribute(n,_),o&&t.removeChild(o);const T=_R(),{extra:P}=T;P.attributes[Sp]=e,Np(E,y).then(D=>{const O=wg({...T,icons:{main:D,mask:Eg()},prefix:y,iconName:_,extra:P,watchable:!0}),w=Re.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(w,t.firstChild):t.appendChild(w),w.outerHTML=O.map(v=>Vl(v)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function NR(t){return Promise.all([M0(t,"::before"),M0(t,"::after")])}function OR(t){return t.parentNode!==document.head&&!~T2.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Sp)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function j0(t){if(Er)return new Promise((e,n)=>{const r=Vo(t.querySelectorAll("*")).filter(OR).map(NR),i=Tg.begin("searchPseudoElements");qT(),Promise.all(r).then(()=>{i(),Lp(),e()}).catch(()=>{i(),Lp(),n()})})}var LR={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=j0,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Re}=e;J.searchPseudoElements&&j0(n)}}};let V0=!1;var DR={mixout(){return{dom:{unwatch(){qT(),V0=!0}}}},hooks(){return{bootstrap(){P0(Rp("mutationObserverCallbacks",{}))},noAuto(){mR()},watch(t){const{observeMutationsRoot:e}=t;V0?Lp():P0(Rp("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const F0=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var MR={mixout(){return{parse:{transform:t=>F0(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=F0(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(a," ").concat(c," ").concat(u)},p={transform:"translate(".concat(s/2*-1," -256)")},m={outer:o,inner:h,path:p};return{tag:"g",attributes:{...m.outer},children:[{tag:"g",attributes:{...m.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...m.path}}]}]}}}};const cf={x:0,y:0,width:"100%",height:"100%"};function U0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function jR(t){return t.tag==="g"?t.children:[t]}var VR={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Vd(n.split(" ").map(i=>i.trim())):Eg();return r.prefix||(r.prefix=fi()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e;const{width:c,icon:u}=i,{width:h,icon:p}=s,m=D2({transform:a,containerWidth:h,iconWidth:c}),y={tag:"rect",attributes:{...cf,fill:"white"}},S=u.children?{children:u.children.map(U0)}:{},C={tag:"g",attributes:{...m.inner},children:[U0({tag:u.tag,attributes:{...u.attributes,...m.path},...S})]},b={tag:"g",attributes:{...m.outer},children:[C]},E="mask-".concat(o||fl()),_="clip-".concat(o||fl()),T={tag:"mask",attributes:{...cf,id:E,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[y,b]},P={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:jR(p)},T]};return n.push(P,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(E,")"),...cf}}),{children:n,attributes:r}}}},FR={provides(t){let e=!1;hi.matchMedia&&(e=hi.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},o={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||o.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),n.push(o),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},UR={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},zR=[V2,xR,IR,bR,CR,LR,DR,MR,VR,FR,UR];J2(zR,{mixoutsTo:tn});tn.noAuto;tn.config;tn.library;tn.dom;const Mp=tn.parse;tn.findIconDefinition;tn.toHtml;const BR=tn.icon;tn.layer;tn.text;tn.counter;var YT={exports:{}},$R="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WR=$R,HR=WR;function QT(){}function XT(){}XT.resetWarningCache=QT;var GR=function(){function t(r,i,s,o,a,c){if(c!==HR){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XT,resetWarningCache:QT};return n.PropTypes=n,n};YT.exports=GR();var qR=YT.exports;const le=vm(qR);function z0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z0(Object(n),!0).forEach(function(r){to(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function to(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YR(t,e){if(t==null)return{};var n=KR(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jp(t){return QR(t)||XR(t)||JR(t)||ZR()}function QR(t){if(Array.isArray(t))return Vp(t)}function XR(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JR(t,e){if(t){if(typeof t=="string")return Vp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vp(t,e)}}function Vp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ek(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,c=t.spin,u=t.spinPulse,h=t.spinReverse,p=t.pulse,m=t.fixedWidth,y=t.inverse,S=t.border,C=t.listItem,b=t.flip,E=t.size,_=t.rotation,T=t.pull,P=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":c,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":p,"fa-fw":m,"fa-inverse":y,"fa-border":S,"fa-li":C,"fa-flip":b===!0,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both"},to(e,"fa-".concat(E),typeof E<"u"&&E!==null),to(e,"fa-rotate-".concat(_),typeof _<"u"&&_!==null&&_!==0),to(e,"fa-pull-".concat(T),typeof T<"u"&&T!==null),to(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(P).map(function(D){return P[D]?D:null}).filter(function(D){return D})}function tk(t){return t=t-0,t===t}function JT(t){return tk(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var nk=["style"];function rk(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ik(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=JT(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[rk(i)]=s:e[i]=s,e},{})}function ZT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return ZT(t,c)}),i=Object.keys(e.attributes||{}).reduce(function(c,u){var h=e.attributes[u];switch(u){case"class":c.attrs.className=h,delete e.attributes.class;break;case"style":c.attrs.style=ik(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?c.attrs[u.toLowerCase()]=h:c.attrs[JT(u)]=h}return c},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=YR(n,nk);return i.attrs.style=On(On({},i.attrs.style),o),t.apply(void 0,[e.tag,On(On({},i.attrs),a)].concat(jp(r)))}var eS=!1;try{eS=!0}catch{}function sk(){if(!eS&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function B0(t){if(t&&Gu(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Mp.icon)return Mp.icon(t);if(t===null)return null;if(t&&Gu(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function uf(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?to({},t,e):{}}var $0={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},xe=_e.forwardRef(function(t,e){var n=On(On({},$0),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,c=n.titleId,u=n.maskId,h=B0(r),p=uf("classes",[].concat(jp(ek(n)),jp((o||"").split(" ")))),m=uf("transform",typeof n.transform=="string"?Mp.transform(n.transform):n.transform),y=uf("mask",B0(i)),S=BR(h,On(On(On(On({},p),m),y),{},{symbol:s,title:a,titleId:c,maskId:u}));if(!S)return sk("Could not find icon",h),null;var C=S.abstract,b={ref:e};return Object.keys(n).forEach(function(E){$0.hasOwnProperty(E)||(b[E]=n[E])}),ok(C[0],b)});xe.displayName="FontAwesomeIcon";xe.propTypes={beat:le.bool,border:le.bool,beatFade:le.bool,bounce:le.bool,className:le.string,fade:le.bool,flash:le.bool,mask:le.oneOfType([le.object,le.array,le.string]),maskId:le.string,fixedWidth:le.bool,inverse:le.bool,flip:le.oneOf([!0,!1,"horizontal","vertical","both"]),icon:le.oneOfType([le.object,le.array,le.string]),listItem:le.bool,pull:le.oneOf(["right","left"]),pulse:le.bool,rotation:le.oneOf([0,90,180,270]),shake:le.bool,size:le.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:le.bool,spinPulse:le.bool,spinReverse:le.bool,symbol:le.oneOfType([le.bool,le.string]),title:le.string,titleId:le.string,transform:le.oneOfType([le.string,le.object]),swapOpacity:le.bool};var ok=ZT.bind(null,_e.createElement);/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(this,arguments)}var Kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kr||(Kr={}));const W0="popstate";function ak(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Fp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nS(i)}return ck(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lk(){return Math.random().toString(36).substr(2,8)}function H0(t,e){return{usr:t.state,key:t.key,idx:e}}function Fp(t,e,n,r){return n===void 0&&(n=null),pl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fo(e):e,{state:n,key:e&&e.key||r||lk()})}function nS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ck(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Kr.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(pl({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Kr.Pop;let b=h(),E=b==null?null:b-u;u=b,c&&c({action:a,location:C.location,delta:E})}function m(b,E){a=Kr.Push;let _=Fp(C.location,b,E);u=h()+1;let T=H0(_,u),P=C.createHref(_);try{o.pushState(T,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(P)}s&&c&&c({action:a,location:C.location,delta:1})}function y(b,E){a=Kr.Replace;let _=Fp(C.location,b,E);u=h();let T=H0(_,u),P=C.createHref(_);o.replaceState(T,"",P),s&&c&&c({action:a,location:C.location,delta:0})}function S(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof b=="string"?b:nS(b);return _=_.replace(/ $/,"%20"),Je(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let C={get action(){return a},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(W0,p),c=b,()=>{i.removeEventListener(W0,p),c=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let E=S(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(b){return o.go(b)}};return C}var G0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(G0||(G0={}));function uk(t,e,n){return n===void 0&&(n="/"),dk(t,e,n,!1)}function dk(t,e,n,r){let i=typeof e=="string"?Fo(e):e,s=sS(i.pathname||"/",n);if(s==null)return null;let o=rS(t);hk(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=Sk(s);a=wk(o[c],u,r)}return a}function rS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Je(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ji([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rS(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:_k(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of iS(s.path))i(s,o,c)}),e}function iS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iS(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function hk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ek(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fk=/^:[\w-]+$/,pk=3,mk=2,gk=1,yk=10,vk=-2,q0=t=>t==="*";function _k(t,e){let n=t.split("/"),r=n.length;return n.some(q0)&&(r+=vk),e&&(r+=mk),n.filter(i=>!q0(i)).reduce((i,s)=>i+(fk.test(s)?pk:s===""?gk:yk),r)}function Ek(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wk(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=K0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=K0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Ji([s,p.pathname]),pathnameBase:Rk(Ji([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Ji([s,p.pathnameBase]))}return o}function K0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Tk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let C=a[p]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const S=a[p];return y&&!S?u[m]=void 0:u[m]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Tk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Sk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fo(t):t;return{pathname:n?n.startsWith("/")?n:Ik(n,e):e,search:kk(r),hash:Pk(i)}}function Ik(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function df(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ck(t,e){let n=bk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ak(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fo(t):(i=pl({},t),Je(!i.pathname||!i.pathname.includes("?"),df("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),df("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),df("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let c=xk(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Ji=t=>t.join("/").replace(/\/\/+/g,"/"),Rk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Nk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oS=["post","put","patch","delete"];new Set(oS);const Ok=["get",...oS];new Set(Ok);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(this,arguments)}const xg=M.createContext(null),Lk=M.createContext(null),Ud=M.createContext(null),zd=M.createContext(null),vs=M.createContext({outlet:null,matches:[],isDataRoute:!1}),aS=M.createContext(null);function Bd(){return M.useContext(zd)!=null}function lS(){return Bd()||Je(!1),M.useContext(zd).location}function cS(t){M.useContext(Ud).static||M.useLayoutEffect(t)}function wr(){let{isDataRoute:t}=M.useContext(vs);return t?Yk():Dk()}function Dk(){Bd()||Je(!1);let t=M.useContext(xg),{basename:e,future:n,navigator:r}=M.useContext(Ud),{matches:i}=M.useContext(vs),{pathname:s}=lS(),o=JSON.stringify(Ck(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return cS(()=>{a.current=!0}),M.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=Ak(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ji([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,s,t])}const Mk=M.createContext(null);function jk(t){let e=M.useContext(vs).outlet;return e&&M.createElement(Mk.Provider,{value:t},e)}function Vk(t,e){return Fk(t,e)}function Fk(t,e,n,r){Bd()||Je(!1);let{navigator:i}=M.useContext(Ud),{matches:s}=M.useContext(vs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=lS(),h;if(e){var p;let b=typeof e=="string"?Fo(e):e;c==="/"||(p=b.pathname)!=null&&p.startsWith(c)||Je(!1),h=b}else h=u;let m=h.pathname||"/",y=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=uk(t,{pathname:y}),C=Wk(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Ji([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Ji([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&C?M.createElement(zd.Provider,{value:{location:ml({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Kr.Pop}},C):C}function Uk(){let t=Kk(),e=Nk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const zk=M.createElement(Uk,null);class Bk extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(vs.Provider,{value:this.props.routeContext},M.createElement(aS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $k(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(xg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(vs.Provider,{value:e},r)}function Wk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||Je(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:y}=n,S=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||S){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let y,S=!1,C=null,b=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,C=p.route.errorElement||zk,c&&(u<0&&m===0?(S=!0,b=null):u===m&&(S=!0,b=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),_=()=>{let T;return y?T=C:S?T=b:p.route.Component?T=M.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=h,M.createElement($k,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?M.createElement(Bk,{location:n.location,revalidation:n.revalidation,component:C,error:y,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var uS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uS||{}),qu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qu||{});function Hk(t){let e=M.useContext(xg);return e||Je(!1),e}function Gk(t){let e=M.useContext(Lk);return e||Je(!1),e}function qk(t){let e=M.useContext(vs);return e||Je(!1),e}function dS(t){let e=qk(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function Kk(){var t;let e=M.useContext(aS),n=Gk(qu.UseRouteError),r=dS(qu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Yk(){let{router:t}=Hk(uS.UseNavigateStable),e=dS(qu.UseNavigateStable),n=M.useRef(!1);return cS(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ml({fromRouteId:e},s)))},[t,e])}const Y0={};function Qk(t,e){Y0[e]||(Y0[e]=!0,console.warn(e))}const Q0=(t,e,n)=>Qk(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Xk(t,e){t!=null&&t.v7_startTransition||Q0("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Q0("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Jk(t){return jk(t.context)}function Pn(t){Je(!1)}function Zk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Kr.Pop,navigator:s,static:o=!1,future:a}=t;Bd()&&Je(!1);let c=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:c,navigator:s,static:o,future:ml({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=Fo(r));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:S="default"}=r,C=M.useMemo(()=>{let b=sS(h,c);return b==null?null:{location:{pathname:b,search:p,hash:m,state:y,key:S},navigationType:i}},[c,h,p,m,y,S,i]);return C==null?null:M.createElement(Ud.Provider,{value:u},M.createElement(zd.Provider,{children:n,value:C}))}function eP(t){let{children:e,location:n}=t;return Vk(Up(e),n)}new Promise(()=>{});function Up(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Up(r.props.children,s));return}r.type!==Pn&&Je(!1),!r.props.index||!r.props.children||Je(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Up(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tP="6";try{window.__reactRouterVersion=tP}catch{}const nP="startTransition",X0=Rf[nP];function rP(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=ak({window:i,v5Compat:!0}));let o=s.current,[a,c]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=M.useCallback(p=>{u&&X0?X0(()=>c(p)):c(p)},[c,u]);return M.useLayoutEffect(()=>o.listen(h),[o,h]),M.useEffect(()=>Xk(r),[r]),M.createElement(Zk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var J0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(J0||(J0={}));var Z0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Z0||(Z0={}));function hS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hS(t))&&(r&&(r+=" "),r+=e);return r}const gl=t=>typeof t=="number"&&!isNaN(t),Zi=t=>typeof t=="string",Ht=t=>typeof t=="function",su=t=>Zi(t)||Ht(t)?t:null,zp=t=>M.isValidElement(t)||Zi(t)||Ht(t)||gl(t);function iP(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function $d(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:c,preventExitTransition:u,done:h,nodeRef:p,isIn:m,playToast:y}=o;const S=r?`${e}--${c}`:e,C=r?`${n}--${c}`:n,b=M.useRef(0);return M.useLayoutEffect(()=>{const E=p.current,_=S.split(" "),T=P=>{P.target===p.current&&(y(),E.removeEventListener("animationend",T),E.removeEventListener("animationcancel",T),b.current===0&&P.type!=="animationcancel"&&E.classList.remove(..._))};E.classList.add(..._),E.addEventListener("animationend",T),E.addEventListener("animationcancel",T)},[]),M.useEffect(()=>{const E=p.current,_=()=>{E.removeEventListener("animationend",_),i?iP(E,h,s):h()};m||(u?_():(b.current=1,E.className+=` ${C}`,E.addEventListener("animationend",_)))},[m]),_e.createElement(_e.Fragment,null,a)}}function e_(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const It=new Map;let yl=[];const Bp=new Set,sP=t=>Bp.forEach(e=>e(t)),fS=()=>It.size>0;function pS(t,e){var n;if(e)return!((n=It.get(e))==null||!n.isToastActive(t));let r=!1;return It.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function mS(t,e){zp(t)&&(fS()||yl.push({content:t,options:e}),It.forEach(n=>{n.buildToast(t,e)}))}function t_(t,e){It.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function oP(t){const{subscribe:e,getSnapshot:n,setProps:r}=M.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const c=function(h,p,m){let y=1,S=0,C=[],b=[],E=[],_=p;const T=new Map,P=new Set,D=()=>{E=Array.from(T.values()),P.forEach(v=>v())},O=v=>{b=v==null?[]:b.filter(I=>I!==v),D()},w=v=>{const{toastId:I,onOpen:R,updateId:N,children:k}=v.props,A=N==null;v.staleId&&T.delete(v.staleId),T.set(I,v),b=[...b,v.props.toastId].filter(F=>F!==v.staleId),D(),m(e_(v,A?"added":"updated")),A&&Ht(R)&&R(M.isValidElement(k)&&k.props)};return{id:h,props:_,observe:v=>(P.add(v),()=>P.delete(v)),toggle:(v,I)=>{T.forEach(R=>{I!=null&&I!==R.props.toastId||Ht(R.toggle)&&R.toggle(v)})},removeToast:O,toasts:T,clearQueue:()=>{S-=C.length,C=[]},buildToast:(v,I)=>{if((G=>{let{containerId:q,toastId:Z,updateId:ae}=G;const fe=q?q!==h:h!==1,Ee=T.has(Z)&&ae==null;return fe||Ee})(I))return;const{toastId:R,updateId:N,data:k,staleId:A,delay:F}=I,Y=()=>{O(R)},ue=N==null;ue&&S++;const ee={..._,style:_.toastStyle,key:y++,...Object.fromEntries(Object.entries(I).filter(G=>{let[q,Z]=G;return Z!=null})),toastId:R,updateId:N,data:k,closeToast:Y,isIn:!1,className:su(I.className||_.toastClassName),bodyClassName:su(I.bodyClassName||_.bodyClassName),progressClassName:su(I.progressClassName||_.progressClassName),autoClose:!I.isLoading&&($=I.autoClose,j=_.autoClose,$===!1||gl($)&&$>0?$:j),deleteToast(){const G=T.get(R),{onClose:q,children:Z}=G.props;Ht(q)&&q(M.isValidElement(Z)&&Z.props),m(e_(G,"removed")),T.delete(R),S--,S<0&&(S=0),C.length>0?w(C.shift()):D()}};var $,j;ee.closeButton=_.closeButton,I.closeButton===!1||zp(I.closeButton)?ee.closeButton=I.closeButton:I.closeButton===!0&&(ee.closeButton=!zp(_.closeButton)||_.closeButton);let V=v;M.isValidElement(v)&&!Zi(v.type)?V=M.cloneElement(v,{closeToast:Y,toastProps:ee,data:k}):Ht(v)&&(V=v({closeToast:Y,toastProps:ee,data:k}));const z={content:V,props:ee,staleId:A};_.limit&&_.limit>0&&S>_.limit&&ue?C.push(z):gl(F)?setTimeout(()=>{w(z)},F):w(z)},setProps(v){_=v},setToggle:(v,I)=>{T.get(v).toggle=I},isToastActive:v=>b.some(I=>I===v),getSnapshot:()=>E}}(o,s,sP);It.set(o,c);const u=c.observe(a);return yl.forEach(h=>mS(h.content,h.options)),yl=[],()=>{u(),It.delete(o)}},setProps(a){var c;(c=It.get(o))==null||c.setProps(a)},getSnapshot(){var a;return(a=It.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=M.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return t.newestOnTop&&i.reverse(),i.forEach(a=>{const{position:c}=a.props;o.has(c)||o.set(c,[]),o.get(c).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:pS,count:i==null?void 0:i.length}}function aP(t){const[e,n]=M.useState(!1),[r,i]=M.useState(!1),s=M.useRef(null),o=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:u,onClick:h,closeOnClick:p}=t;var m,y;function S(){n(!0)}function C(){n(!1)}function b(T){const P=s.current;o.canDrag&&P&&(o.didMove=!0,e&&C(),o.delta=t.draggableDirection==="x"?T.clientX-o.start:T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1),P.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function E(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",E);const T=s.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}(y=It.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||y.setToggle(m.id,m.fn),M.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||C(),window.addEventListener("focus",S),window.addEventListener("blur",C),()=>{window.removeEventListener("focus",S),window.removeEventListener("blur",C)}},[t.pauseOnFocusLoss]);const _={onPointerDown:function(T){if(t.draggable===!0||t.draggable===T.pointerType){o.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",E);const P=s.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(T){const{top:P,bottom:D,left:O,right:w}=s.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=O&&T.clientX<=w&&T.clientY>=P&&T.clientY<=D?C():S()}};return a&&c&&(_.onMouseEnter=C,t.stacked||(_.onMouseLeave=S)),p&&(_.onClick=T=>{h&&h(T),o.canCloseOnClick&&u()}),{playToast:S,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function lP(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:c,progress:u,rtl:h,isIn:p,theme:m}=t;const y=s||c&&u===0,S={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};c&&(S.transform=`scaleX(${u})`);const C=Yr("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),b=Ht(o)?o({rtl:h,type:i,defaultClassName:C}):Yr(C,o),E={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{p&&r()}};return _e.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},_e.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),_e.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:b,style:S,...E}))}let cP=1;const gS=()=>""+cP++;function uP(t){return t&&(Zi(t.toastId)||gl(t.toastId))?t.toastId:gS()}function Ba(t,e){return mS(t,e),e.toastId}function Ku(t,e){return{...e,type:e&&e.type||t,toastId:uP(e)}}function jc(t){return(e,n)=>Ba(e,Ku(t,n))}function ge(t,e){return Ba(t,Ku("default",e))}ge.loading=(t,e)=>Ba(t,Ku("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ge.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Zi(i)?ge.loading(i,n):ge.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,p,m)=>{if(p==null)return void ge.dismiss(r);const y={type:h,...a,...n,data:m},S=Zi(p)?{render:p}:p;return r?ge.update(r,{...y,...S}):ge(S.render,{...y,...S}),m},u=Ht(t)?t():t;return u.then(h=>c("success",o,h)).catch(h=>c("error",s,h)),u},ge.success=jc("success"),ge.info=jc("info"),ge.error=jc("error"),ge.warning=jc("warning"),ge.warn=ge.warning,ge.dark=(t,e)=>Ba(t,Ku("default",{theme:"dark",...e})),ge.dismiss=function(t){(function(e){var n;if(fS()){if(e==null||Zi(n=e)||gl(n))It.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=It.get(e.containerId);r?r.removeToast(e.id):It.forEach(i=>{i.removeToast(e.id)})}}else yl=yl.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ge.clearWaitingQueue=function(t){t===void 0&&(t={}),It.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ge.isActive=pS,ge.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=It.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:gS()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Ba(o,s)}},ge.done=t=>{ge.update(t,{progress:1})},ge.onChange=function(t){return Bp.add(t),()=>{Bp.delete(t)}},ge.play=t=>t_(!0,t),ge.pause=t=>t_(!1,t);const dP=typeof window<"u"?M.useLayoutEffect:M.useEffect,Vc=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return _e.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},hf={info:function(t){return _e.createElement(Vc,{...t},_e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return _e.createElement(Vc,{...t},_e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return _e.createElement(Vc,{...t},_e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return _e.createElement(Vc,{...t},_e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return _e.createElement("div",{className:"Toastify__spinner"})}},hP=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=aP(t),{closeButton:o,children:a,autoClose:c,onClick:u,type:h,hideProgressBar:p,closeToast:m,transition:y,position:S,className:C,style:b,bodyClassName:E,bodyStyle:_,progressClassName:T,progressStyle:P,updateId:D,role:O,progress:w,rtl:v,toastId:I,deleteToast:R,isIn:N,isLoading:k,closeOnClick:A,theme:F}=t,Y=Yr("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":v},{"Toastify__toast--close-on-click":A}),ue=Ht(C)?C({rtl:v,position:S,type:h,defaultClassName:Y}):Yr(Y,C),ee=function(z){let{theme:G,type:q,isLoading:Z,icon:ae}=z,fe=null;const Ee={theme:G,type:q};return ae===!1||(Ht(ae)?fe=ae({...Ee,isLoading:Z}):M.isValidElement(ae)?fe=M.cloneElement(ae,Ee):Z?fe=hf.spinner():(Fe=>Fe in hf)(q)&&(fe=hf[q](Ee))),fe}(t),$=!!w||!c,j={closeToast:m,type:h,theme:F};let V=null;return o===!1||(V=Ht(o)?o(j):M.isValidElement(o)?M.cloneElement(o,j):function(z){let{closeToast:G,theme:q,ariaLabel:Z="close"}=z;return _e.createElement("button",{className:`Toastify__close-button Toastify__close-button--${q}`,type:"button",onClick:ae=>{ae.stopPropagation(),G(ae)},"aria-label":Z},_e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},_e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(j)),_e.createElement(y,{isIn:N,done:R,position:S,preventExitTransition:n,nodeRef:r,playToast:s},_e.createElement("div",{id:I,onClick:u,"data-in":N,className:ue,...i,style:b,ref:r},_e.createElement("div",{...N&&{role:O},className:Ht(E)?E({type:h}):Yr("Toastify__toast-body",E),style:_},ee!=null&&_e.createElement("div",{className:Yr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},ee),_e.createElement("div",null,a)),V,_e.createElement(lP,{...D&&!$?{key:`pb-${D}`}:{},rtl:v,theme:F,delay:c,isRunning:e,isIn:N,closeToast:m,hide:p,type:h,style:P,className:T,controlledProgress:$,progress:w||0})))},Wd=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},fP=$d(Wd("bounce",!0));$d(Wd("slide",!0));$d(Wd("zoom"));$d(Wd("flip"));const pP={position:"top-right",transition:fP,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Hd(t){let e={...pP,...t};const n=t.stacked,[r,i]=M.useState(!0),s=M.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=oP(e),{className:u,style:h,rtl:p,containerId:m}=e;function y(C){const b=Yr("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":p});return Ht(u)?u({position:C,rtl:p,defaultClassName:b}):Yr(b,su(u))}function S(){n&&(i(!0),ge.play())}return dP(()=>{if(n){var C;const b=s.current.querySelectorAll('[data-in="true"]'),E=12,_=(C=e.position)==null?void 0:C.includes("top");let T=0,P=0;Array.from(b).reverse().forEach((D,O)=>{const w=D;w.classList.add("Toastify__toast--stacked"),O>0&&(w.dataset.collapsed=`${r}`),w.dataset.pos||(w.dataset.pos=_?"top":"bot");const v=T*(r?.2:1)+(r?0:E*O);w.style.setProperty("--y",`${_?v:-1*v}px`),w.style.setProperty("--g",`${E}`),w.style.setProperty("--s",""+(1-(r?P:0))),T+=w.offsetHeight,P+=.025})}},[r,c,n]),_e.createElement("div",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),ge.pause())},onMouseLeave:S},o((C,b)=>{const E=b.length?{...h}:{...h,pointerEvents:"none"};return _e.createElement("div",{className:y(C),style:E,key:`container-${C}`},b.map(_=>{let{content:T,props:P}=_;return _e.createElement(hP,{...P,stacked:n,collapseAll:S,isIn:a(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},T)}))}))}var n_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new gP;const m=s<<2|a>>4;if(r.push(m),u!==64){const y=a<<4&240|u>>2;if(r.push(y),p!==64){const S=u<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yP=function(t){const e=yS(t);return vS.encodeByteArray(e,!0)},Yu=function(t){return yP(t).replace(/\./g,"")},_S=function(t){try{return vS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=()=>vP().__FIREBASE_DEFAULTS__,EP=()=>{if(typeof process>"u"||typeof n_>"u")return;const t=n_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_S(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return _P()||EP()||wP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ES=t=>{var e,n;return(n=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TP=t=>{const e=ES(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wS=()=>{var t;return(t=Gd())===null||t===void 0?void 0:t.config},TS=t=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yu(JSON.stringify(n)),Yu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function bP(){var t;const e=(t=Gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kP(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PP(){return!bP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NP(){try{return typeof indexedDB=="object"}catch{return!1}}function OP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LP,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Tr(i,a,r)}}function DP(t,e){return t.replace(MP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const MP=/\{\$([^}]+)}/g;function jP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(r_(s)&&r_(o)){if(!Qu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ia(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ba(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VP(t,e){const n=new FP(t,e);return n.subscribe.bind(n)}class FP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ff),i.error===void 0&&(i.error=ff),i.complete===void 0&&(i.complete=ff);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ff(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zP=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($P(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BP(t){return t===Ui?void 0:t}function $P(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const HP={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},GP=de.INFO,qP={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},KP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ig{constructor(e){this.name=e,this._logLevel=GP,this._logHandler=KP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const YP=(t,e)=>e.some(n=>t instanceof n);let i_,s_;function QP(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XP(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SS=new WeakMap,$p=new WeakMap,xS=new WeakMap,pf=new WeakMap,bg=new WeakMap;function JP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SS.set(n,t)}).catch(()=>{}),bg.set(e,t),e}function ZP(t){if($p.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$p.set(t,e)}let Wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eN(t){Wp=t(Wp)}function tN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mf(this),e,...n);return xS.set(r,e.sort?e.sort():[e]),si(r)}:XP().includes(t)?function(...e){return t.apply(mf(this),e),si(SS.get(this))}:function(...e){return si(t.apply(mf(this),e))}}function nN(t){return typeof t=="function"?tN(t):(t instanceof IDBTransaction&&ZP(t),YP(t,QP())?new Proxy(t,Wp):t)}function si(t){if(t instanceof IDBRequest)return JP(t);if(pf.has(t))return pf.get(t);const e=nN(t);return e!==t&&(pf.set(t,e),bg.set(e,t)),e}const mf=t=>bg.get(t);function rN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",c=>{r(si(o.result),c.oldVersion,c.newVersion,si(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iN=["get","getKey","getAll","getAllKeys","count"],sN=["put","add","delete","clear"],gf=new Map;function o_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gf.get(e))return gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iN.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return gf.set(e,s),s}eN(t=>({...t,get:(e,n,r)=>o_(e,n)||t.get(e,n,r),has:(e,n)=>!!o_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hp="@firebase/app",a_="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Ig("@firebase/app"),lN="@firebase/app-compat",cN="@firebase/analytics-compat",uN="@firebase/analytics",dN="@firebase/app-check-compat",hN="@firebase/app-check",fN="@firebase/auth",pN="@firebase/auth-compat",mN="@firebase/database",gN="@firebase/data-connect",yN="@firebase/database-compat",vN="@firebase/functions",_N="@firebase/functions-compat",EN="@firebase/installations",wN="@firebase/installations-compat",TN="@firebase/messaging",SN="@firebase/messaging-compat",xN="@firebase/performance",IN="@firebase/performance-compat",bN="@firebase/remote-config",CN="@firebase/remote-config-compat",AN="@firebase/storage",RN="@firebase/storage-compat",kN="@firebase/firestore",PN="@firebase/vertexai",NN="@firebase/firestore-compat",ON="firebase",LN="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="[DEFAULT]",DN={[Hp]:"fire-core",[lN]:"fire-core-compat",[uN]:"fire-analytics",[cN]:"fire-analytics-compat",[hN]:"fire-app-check",[dN]:"fire-app-check-compat",[fN]:"fire-auth",[pN]:"fire-auth-compat",[mN]:"fire-rtdb",[gN]:"fire-data-connect",[yN]:"fire-rtdb-compat",[vN]:"fire-fn",[_N]:"fire-fn-compat",[EN]:"fire-iid",[wN]:"fire-iid-compat",[TN]:"fire-fcm",[SN]:"fire-fcm-compat",[xN]:"fire-perf",[IN]:"fire-perf-compat",[bN]:"fire-rc",[CN]:"fire-rc-compat",[AN]:"fire-gcs",[RN]:"fire-gcs-compat",[kN]:"fire-fst",[NN]:"fire-fst-compat",[PN]:"fire-vertex","fire-js":"fire-js",[ON]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,MN=new Map,qp=new Map;function l_(t,e){try{t.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xo(t){const e=t.name;if(qp.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,t);for(const n of Xu.values())l_(n,t);for(const n of MN.values())l_(n,t);return!0}function Cg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new Fl("app","Firebase",jN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=LN;function mn(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=wS()),!n)throw oi.create("no-options");const s=Xu.get(i);if(s){if(Qu(n,s.options)&&Qu(r,s.config))return s;throw oi.create("duplicate-app",{appName:i})}const o=new WP(i);for(const c of qp.values())o.addComponent(c);const a=new VN(n,r,o);return Xu.set(i,a),a}function IS(t=Gp){const e=Xu.get(t);if(!e&&t===Gp&&wS())return mn();if(!e)throw oi.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let i=(r=DN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(a.join(" "));return}xo(new ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebase-heartbeat-database",UN=1,vl="firebase-heartbeat-store";let yf=null;function bS(){return yf||(yf=rN(FN,UN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vl)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),yf}async function zN(t){try{const n=(await bS()).transaction(vl),r=await n.objectStore(vl).get(CS(t));return await n.done,r}catch(e){if(e instanceof Tr)fr.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function c_(t,e){try{const r=(await bS()).transaction(vl,"readwrite");await r.objectStore(vl).put(e,CS(t)),await r.done}catch(n){if(n instanceof Tr)fr.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(r.message)}}}function CS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1024,$N=30*24*60*60*1e3;class WN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=$N}),this._storage.overwrite(this._heartbeatsCache))}catch(r){fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u_(),{heartbeatsToSend:r,unsentEntries:i}=HN(this._heartbeatsCache.heartbeats),s=Yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fr.warn(n),""}}}function u_(){return new Date().toISOString().substring(0,10)}function HN(t,e=BN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),d_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NP()?OP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function d_(t){return Yu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){xo(new ls("platform-logger",e=>new oN(e),"PRIVATE")),xo(new ls("heartbeat",e=>new WN(e),"PRIVATE")),ai(Hp,a_,t),ai(Hp,a_,"esm2017"),ai("fire-js","")}qN("");var KN="firebase",YN="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(KN,YN,"app");const An={apiKey:"AIzaSyDAFPLwyruXowFvMY-hip30Y0Sb9P2gjhw",authDomain:"vexed-11745.firebaseapp.com",projectId:"vexed-11745",storageBucket:"vexed-11745.firebasestorage.app",messagingSenderId:"286672434784",appId:"1:286672434784:web:9692bd3121e93743d7b505",measurementId:"G-SQE6KZ21TE"};function Ag(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QN=AS,RS=new Fl("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Ig("@firebase/auth");function XN(t,...e){Ju.logLevel<=de.WARN&&Ju.warn(`Auth (${Uo}): ${t}`,...e)}function ou(t,...e){Ju.logLevel<=de.ERROR&&Ju.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw kg(t,...e)}function bn(t,...e){return kg(t,...e)}function Rg(t,e,n){const r=Object.assign(Object.assign({},QN()),{[e]:n});return new Fl("auth","Firebase",r).create(e,{appName:t.name})}function sr(t){return Rg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),Rg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RS.create(t,...e)}function re(t,e,...n){if(!t)throw kg(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ou(e),new Error(e)}function pr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZN(){return h_()==="http:"||h_()==="https:"}function h_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZN()||AP()||"connection"in navigator)?navigator.onLine:!0}function tO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=IP()||RP()}get(){return eO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new zl(3e4,6e4);function xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sr(t,e,n,r,i={}){return PS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ul(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return CP()||(u.referrerPolicy="no-referrer"),kS.fetch()(NS(t,t.config.apiHost,n,a),u)})}async function PS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nO),e);try{const i=new sO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Fc(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Rg(t,h,u);pn(t,h)}}catch(i){if(i instanceof Tr)throw i;pn(t,"network-request-failed",{message:String(i)})}}async function Bl(t,e,n,r,i={}){const s=await Sr(t,e,n,r,i);return"mfaPendingCredential"in s&&pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function NS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Pg(t.config,i):`${t.config.apiScheme}://${i}`}function iO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),rO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bn(t,e,r);return i.customData._tokenResponse=n,i}function f_(t){return t!==void 0&&t.enterprise!==void 0}class oO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aO(t,e){return Sr(t,"GET","/v2/recaptchaConfig",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e){return Sr(t,"POST","/v1/accounts:delete",e)}async function OS(t,e){return Sr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cO(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=Ng(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$a(vf(i.auth_time)),issuedAtTime:$a(vf(i.iat)),expirationTime:$a(vf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function Ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ou("JWT malformed, contained fewer than 3 sections"),null;try{const i=_S(n);return i?JSON.parse(i):(ou("Failed to decode base64 JWT payload"),null)}catch(i){return ou("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p_(t){const e=Ng(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&uO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$a(this.lastLoginAt),this.creationTime=$a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Io(t,OS(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?LS(s.providerUserInfo):[],a=fO(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function hO(t){const e=Ft(t);await Zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LS(t){return t.map(e=>{var{providerId:n}=e,r=Ag(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e){const n=await PS(t,{},async()=>{const r=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=NS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mO(t,e){return Sr(t,"POST","/v2/accounts:revokeToken",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=p_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await pO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new uo;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cO(this,e)}reload(){return hO(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await Io(this,lO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:P,isAnonymous:D,providerData:O,stsTokenManager:w}=n;re(T&&w,e,"internal-error");const v=uo.fromJSON(this.name,w);re(typeof T=="string",e,"internal-error"),Or(p,e.name),Or(m,e.name),re(typeof P=="boolean",e,"internal-error"),re(typeof D=="boolean",e,"internal-error"),Or(y,e.name),Or(S,e.name),Or(C,e.name),Or(b,e.name),Or(E,e.name),Or(_,e.name);const I=new nr({uid:T,auth:e,email:m,emailVerified:P,displayName:p,isAnonymous:D,photoURL:S,phoneNumber:y,tenantId:C,stsTokenManager:v,createdAt:E,lastLoginAt:_});return O&&Array.isArray(O)&&(I.providerData=O.map(R=>Object.assign({},R))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new uo;i.updateFromServerResponse(n);const s=new nr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?LS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new uo;a.updateFromIdToken(r);const c=new nr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Yp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;function rr(t){pr(t instanceof Function,"Expected a class definition");let e=m_.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DS.type="NONE";const g_=DS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e,n){return`firebase:${t}:${e}:${n}`}class ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=au(this.userKey,i.apiKey,s),this.fullPersistenceKey=au("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ho(rr(g_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||rr(g_);const o=au(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const p=nr._fromJSON(e,h);u!==s&&(a=p),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ho(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ho(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zS(e))return"Blackberry";if(BS(e))return"Webos";if(jS(e))return"Safari";if((e.includes("chrome/")||VS(e))&&!e.includes("edge/"))return"Chrome";if(US(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MS(t=Tt()){return/firefox\//i.test(t)}function jS(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VS(t=Tt()){return/crios\//i.test(t)}function FS(t=Tt()){return/iemobile/i.test(t)}function US(t=Tt()){return/android/i.test(t)}function zS(t=Tt()){return/blackberry/i.test(t)}function BS(t=Tt()){return/webos/i.test(t)}function Og(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gO(t=Tt()){var e;return Og(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yO(){return kP()&&document.documentMode===10}function $S(t=Tt()){return Og(t)||US(t)||BS(t)||zS(t)||/windows phone/i.test(t)||FS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e=[]){let n;switch(t){case"Browser":n=y_(Tt());break;case"Worker":n=`${y_(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e={}){return Sr(t,"GET","/v2/passwordPolicy",xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=6;class wO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:EO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new vO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await OS(this,{idToken:e}),r=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(sr(this));const n=e?Ft(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _O(this),n=new wO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ii(t){return Ft(t)}class v_{constructor(e){this.auth=e,this.observer=null,this.addObserver=VP(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SO(t){qd=t}function HS(t){return qd.loadJS(t)}function xO(){return qd.recaptchaEnterpriseScript}function IO(){return qd.gapiScript}function bO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CO{constructor(){this.enterprise=new AO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RO="recaptcha-enterprise",GS="NO_RECAPTCHA";class kO{constructor(e){this.type=RO,this.auth=Ii(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{aO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new oO(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;f_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(GS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CO().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&f_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xO();c.length!==0&&(c+=a),HS(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function __(t,e,n,r=!1,i=!1){const s=new kO(t);let o;if(i)o=GS;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Qp(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await __(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await __(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e){const n=Cg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qu(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function NO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OO(t,e,n){const r=Ii(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=qS(e),{host:o,port:a}=LO(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),DO()}function qS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LO(t){const e=qS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:E_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:E_(o)}}}function E_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function MO(t,e){return Sr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){return Bl(t,"POST","/v1/accounts:signInWithPassword",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e){return Bl(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}async function FO(t,e){return Bl(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Lg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qp(e,n,"signInWithPassword",jO);case"emailLink":return VO(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qp(e,r,"signUpPassword",MO);case"emailLink":return FO(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e){return Bl(t,"POST","/v1/accounts:signInWithIdp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="http://localhost";class cs extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ag(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new cs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:UO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BO(t){const e=Ia(ba(t)).link,n=e?Ia(ba(e)).deep_link_id:null,r=Ia(ba(t)).deep_link_id;return(r?Ia(ba(r)).link:null)||r||n||e||t}class Dg{constructor(e){var n,r,i,s,o,a;const c=Ia(ba(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=zO((i=c.mode)!==null&&i!==void 0?i:null);re(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=BO(e);try{return new Dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return _l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dg.parseLink(n);return re(r,"argument-error"),_l._fromEmailAndCode(e,r.code,r.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Mg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends $l{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cs._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jn.credential(n,r)}catch{return null}}}Jn.GOOGLE_SIGN_IN_METHOD="google.com";Jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends $l{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends $l{constructor(){super("twitter.com")}static credential(e,n){return cs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e){return Bl(t,"POST","/v1/accounts:signUp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await nr._fromIdTokenResponse(e,r,i),o=w_(r);return new us({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=w_(r);return new us({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function w_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ed(e,n,r,i)}}function KS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(t,s,e,r):s})}async function WO(t,e,n=!1){const r=await Io(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(sr(r));const i="reauthenticate";try{const s=await Io(t,KS(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=Ng(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),us._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e,n=!1){if(Tn(t.app))return Promise.reject(sr(t));const r="signIn",i=await KS(t,r,e),s=await us._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function GO(t,e){return YS(Ii(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(t){const e=Ii(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qO(t,e,n){if(Tn(t.app))return Promise.reject(sr(t));const r=Ii(t),o=await Qp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$O).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&QS(t),c}),a=await us._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function KO(t,e,n){return Tn(t.app)?Promise.reject(sr(t)):GO(Ft(t),zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){return Sr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Io(r,YO(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function XO(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function JO(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function bi(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function Wl(t){return Ft(t).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=1e3,e4=10;class JS extends XS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);yO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,e4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JS.type="LOCAL";const t4=JS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends XS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZS.type="SESSION";const ex=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await n4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=jg("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function i4(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function s4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function a4(){return tx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="firebaseLocalStorageDb",l4=1,nd="firebaseLocalStorage",rx="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yd(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function c4(){const t=indexedDB.deleteDatabase(nx);return new Hl(t).toPromise()}function Xp(){const t=indexedDB.open(nx,l4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nd,{keyPath:rx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),await c4(),e(await Xp()))})})}async function T_(t,e,n){const r=Yd(t,!0).put({[rx]:e,value:n});return new Hl(r).toPromise()}async function u4(t,e){const n=Yd(t,!1).get(e),r=await new Hl(n).toPromise();return r===void 0?null:r.value}function S_(t,e){const n=Yd(t,!0).delete(e);return new Hl(n).toPromise()}const d4=800,h4=3;class ix{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>h4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(a4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await s4(),!this.activeServiceWorker)return;this.sender=new r4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await T_(e,td,"1"),await S_(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>T_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>u4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yd(i,!1).getAll();return new Hl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ix.type="LOCAL";const f4=ix;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e){return e?rr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p4(t){return YS(t.auth,new Vg(t),t.bypassAuthState)}function m4(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),HO(n,new Vg(t),t.bypassAuthState)}async function g4(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),WO(n,new Vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p4;case"linkViaPopup":case"linkViaRedirect":return g4;case"reauthViaPopup":case"reauthViaRedirect":return m4;default:pn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new zl(2e3,1e4);async function v4(t,e,n){if(Tn(t.app))return Promise.reject(bn(t,"operation-not-supported-in-this-environment"));const r=Ii(t);JN(t,e,Mg);const i=sx(r,n);return new Gi(r,"signInViaPopup",e,i).executeNotNull()}class Gi extends ox{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gi.currentPopupAction&&Gi.currentPopupAction.cancel(),Gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y4.get())};e()}}Gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="pendingRedirect",lu=new Map;class E4 extends ox{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lu.get(this.auth._key());if(!e){try{const r=await w4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lu.set(this.auth._key(),e)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w4(t,e){const n=x4(e),r=S4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function T4(t,e){lu.set(t._key(),e)}function S4(t){return rr(t._redirectPersistence)}function x4(t){return au(_4,t.config.apiKey,t.name)}async function I4(t,e,n=!1){if(Tn(t.app))return Promise.reject(sr(t));const r=Ii(t),i=sx(r,e),o=await new E4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=10*60*1e3;class C4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ax(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b4&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(e))}saveEventToCache(e){this.cachedEventUids.add(x_(e)),this.lastProcessedEventTime=Date.now()}}function x_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ax({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ax(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e={}){return Sr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P4=/^https?/;async function N4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R4(t);for(const n of e)try{if(O4(n))return}catch{}pn(t,"unauthorized-domain")}function O4(t){const e=Kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P4.test(n))return!1;if(k4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new zl(3e4,6e4);function I_(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D4(t){return new Promise((e,n)=>{var r,i,s;function o(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),n(bn(t,"network-request-failed"))},timeout:L4.get()})}if(!((i=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fn().gapi)===null||s===void 0)&&s.load)o();else{const a=bO("iframefcb");return Fn()[a]=()=>{gapi.load?o():n(bn(t,"network-request-failed"))},HS(`${IO()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw cu=null,e})}let cu=null;function M4(t){return cu=cu||D4(t),cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new zl(5e3,15e3),V4="__/auth/iframe",F4="emulator/auth/iframe",U4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B4(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pg(e,F4):`https://${t.config.authDomain}/${V4}`,r={apiKey:e.apiKey,appName:t.name,v:Uo},i=z4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ul(r).slice(1)}`}async function $4(t){const e=await M4(t),n=Fn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:B4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=bn(t,"network-request-failed"),a=Fn().setTimeout(()=>{s(o)},j4.get());function c(){Fn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H4=500,G4=600,q4="_blank",K4="http://localhost";class b_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y4(t,e,n,r=H4,i=G4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},W4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Tt().toLowerCase();n&&(a=VS(u)?q4:n),MS(u)&&(e=e||K4,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(gO(u)&&a!=="_self")return Q4(e||"",a),new b_(null);const p=window.open(e||"",a,h);re(p,t,"popup-blocked");try{p.focus()}catch{}return new b_(p)}function Q4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="__/auth/handler",J4="emulator/auth/handler",Z4=encodeURIComponent("fac");async function C_(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:i};if(e instanceof Mg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof $l){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${Z4}=${encodeURIComponent(c)}`:"";return`${eL(t)}?${Ul(a).slice(1)}${u}`}function eL({config:t}){return t.emulator?Pg(t,J4):`https://${t.authDomain}/${X4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="webStorageSupport";class tL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ex,this._completeRedirectFn=I4,this._overrideRedirectResult=T4}async _openPopup(e,n,r,i){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await C_(e,n,r,Kp(),i);return Y4(e,o,jg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await C_(e,n,r,Kp(),i);return i4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $4(e),r=new C4(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_f,{type:_f},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_f];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $S()||jS()||Og()}}const nL=tL;var A_="@firebase/auth",R_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sL(t){xo(new ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WS(t)},u=new TO(r,i,s,c);return NO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xo(new ls("auth-internal",e=>{const n=Ii(e.getProvider("auth").getImmediate());return(r=>new rL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(A_,R_,iL(t)),ai(A_,R_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=5*60,aL=TS("authIdTokenMaxAge")||oL;let k_=null;const lL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aL)return;const i=n==null?void 0:n.token;k_!==i&&(k_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rn(t=IS()){const e=Cg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PO(t,{popupRedirectResolver:nL,persistence:[f4,t4,ex]}),r=TS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=lL(s.toString());JO(n,o,()=>o(n.currentUser)),XO(n,a=>o(a))}}const i=ES("auth");return i&&OO(n,`http://${i}`),n}function cL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=bn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sL("Browser");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,lx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function I(){}I.prototype=v.prototype,w.D=v.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(R,N,k){for(var A=Array(arguments.length-2),F=2;F<arguments.length;F++)A[F-2]=arguments[F];return v.prototype[N].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,I){I||(I=0);var R=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)R[N]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(N=0;16>N;++N)R[N]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=w.g[0],I=w.g[1],N=w.g[2];var k=w.g[3],A=v+(k^I&(N^k))+R[0]+3614090360&4294967295;v=I+(A<<7&4294967295|A>>>25),A=k+(N^v&(I^N))+R[1]+3905402710&4294967295,k=v+(A<<12&4294967295|A>>>20),A=N+(I^k&(v^I))+R[2]+606105819&4294967295,N=k+(A<<17&4294967295|A>>>15),A=I+(v^N&(k^v))+R[3]+3250441966&4294967295,I=N+(A<<22&4294967295|A>>>10),A=v+(k^I&(N^k))+R[4]+4118548399&4294967295,v=I+(A<<7&4294967295|A>>>25),A=k+(N^v&(I^N))+R[5]+1200080426&4294967295,k=v+(A<<12&4294967295|A>>>20),A=N+(I^k&(v^I))+R[6]+2821735955&4294967295,N=k+(A<<17&4294967295|A>>>15),A=I+(v^N&(k^v))+R[7]+4249261313&4294967295,I=N+(A<<22&4294967295|A>>>10),A=v+(k^I&(N^k))+R[8]+1770035416&4294967295,v=I+(A<<7&4294967295|A>>>25),A=k+(N^v&(I^N))+R[9]+2336552879&4294967295,k=v+(A<<12&4294967295|A>>>20),A=N+(I^k&(v^I))+R[10]+4294925233&4294967295,N=k+(A<<17&4294967295|A>>>15),A=I+(v^N&(k^v))+R[11]+2304563134&4294967295,I=N+(A<<22&4294967295|A>>>10),A=v+(k^I&(N^k))+R[12]+1804603682&4294967295,v=I+(A<<7&4294967295|A>>>25),A=k+(N^v&(I^N))+R[13]+4254626195&4294967295,k=v+(A<<12&4294967295|A>>>20),A=N+(I^k&(v^I))+R[14]+2792965006&4294967295,N=k+(A<<17&4294967295|A>>>15),A=I+(v^N&(k^v))+R[15]+1236535329&4294967295,I=N+(A<<22&4294967295|A>>>10),A=v+(N^k&(I^N))+R[1]+4129170786&4294967295,v=I+(A<<5&4294967295|A>>>27),A=k+(I^N&(v^I))+R[6]+3225465664&4294967295,k=v+(A<<9&4294967295|A>>>23),A=N+(v^I&(k^v))+R[11]+643717713&4294967295,N=k+(A<<14&4294967295|A>>>18),A=I+(k^v&(N^k))+R[0]+3921069994&4294967295,I=N+(A<<20&4294967295|A>>>12),A=v+(N^k&(I^N))+R[5]+3593408605&4294967295,v=I+(A<<5&4294967295|A>>>27),A=k+(I^N&(v^I))+R[10]+38016083&4294967295,k=v+(A<<9&4294967295|A>>>23),A=N+(v^I&(k^v))+R[15]+3634488961&4294967295,N=k+(A<<14&4294967295|A>>>18),A=I+(k^v&(N^k))+R[4]+3889429448&4294967295,I=N+(A<<20&4294967295|A>>>12),A=v+(N^k&(I^N))+R[9]+568446438&4294967295,v=I+(A<<5&4294967295|A>>>27),A=k+(I^N&(v^I))+R[14]+3275163606&4294967295,k=v+(A<<9&4294967295|A>>>23),A=N+(v^I&(k^v))+R[3]+4107603335&4294967295,N=k+(A<<14&4294967295|A>>>18),A=I+(k^v&(N^k))+R[8]+1163531501&4294967295,I=N+(A<<20&4294967295|A>>>12),A=v+(N^k&(I^N))+R[13]+2850285829&4294967295,v=I+(A<<5&4294967295|A>>>27),A=k+(I^N&(v^I))+R[2]+4243563512&4294967295,k=v+(A<<9&4294967295|A>>>23),A=N+(v^I&(k^v))+R[7]+1735328473&4294967295,N=k+(A<<14&4294967295|A>>>18),A=I+(k^v&(N^k))+R[12]+2368359562&4294967295,I=N+(A<<20&4294967295|A>>>12),A=v+(I^N^k)+R[5]+4294588738&4294967295,v=I+(A<<4&4294967295|A>>>28),A=k+(v^I^N)+R[8]+2272392833&4294967295,k=v+(A<<11&4294967295|A>>>21),A=N+(k^v^I)+R[11]+1839030562&4294967295,N=k+(A<<16&4294967295|A>>>16),A=I+(N^k^v)+R[14]+4259657740&4294967295,I=N+(A<<23&4294967295|A>>>9),A=v+(I^N^k)+R[1]+2763975236&4294967295,v=I+(A<<4&4294967295|A>>>28),A=k+(v^I^N)+R[4]+1272893353&4294967295,k=v+(A<<11&4294967295|A>>>21),A=N+(k^v^I)+R[7]+4139469664&4294967295,N=k+(A<<16&4294967295|A>>>16),A=I+(N^k^v)+R[10]+3200236656&4294967295,I=N+(A<<23&4294967295|A>>>9),A=v+(I^N^k)+R[13]+681279174&4294967295,v=I+(A<<4&4294967295|A>>>28),A=k+(v^I^N)+R[0]+3936430074&4294967295,k=v+(A<<11&4294967295|A>>>21),A=N+(k^v^I)+R[3]+3572445317&4294967295,N=k+(A<<16&4294967295|A>>>16),A=I+(N^k^v)+R[6]+76029189&4294967295,I=N+(A<<23&4294967295|A>>>9),A=v+(I^N^k)+R[9]+3654602809&4294967295,v=I+(A<<4&4294967295|A>>>28),A=k+(v^I^N)+R[12]+3873151461&4294967295,k=v+(A<<11&4294967295|A>>>21),A=N+(k^v^I)+R[15]+530742520&4294967295,N=k+(A<<16&4294967295|A>>>16),A=I+(N^k^v)+R[2]+3299628645&4294967295,I=N+(A<<23&4294967295|A>>>9),A=v+(N^(I|~k))+R[0]+4096336452&4294967295,v=I+(A<<6&4294967295|A>>>26),A=k+(I^(v|~N))+R[7]+1126891415&4294967295,k=v+(A<<10&4294967295|A>>>22),A=N+(v^(k|~I))+R[14]+2878612391&4294967295,N=k+(A<<15&4294967295|A>>>17),A=I+(k^(N|~v))+R[5]+4237533241&4294967295,I=N+(A<<21&4294967295|A>>>11),A=v+(N^(I|~k))+R[12]+1700485571&4294967295,v=I+(A<<6&4294967295|A>>>26),A=k+(I^(v|~N))+R[3]+2399980690&4294967295,k=v+(A<<10&4294967295|A>>>22),A=N+(v^(k|~I))+R[10]+4293915773&4294967295,N=k+(A<<15&4294967295|A>>>17),A=I+(k^(N|~v))+R[1]+2240044497&4294967295,I=N+(A<<21&4294967295|A>>>11),A=v+(N^(I|~k))+R[8]+1873313359&4294967295,v=I+(A<<6&4294967295|A>>>26),A=k+(I^(v|~N))+R[15]+4264355552&4294967295,k=v+(A<<10&4294967295|A>>>22),A=N+(v^(k|~I))+R[6]+2734768916&4294967295,N=k+(A<<15&4294967295|A>>>17),A=I+(k^(N|~v))+R[13]+1309151649&4294967295,I=N+(A<<21&4294967295|A>>>11),A=v+(N^(I|~k))+R[4]+4149444226&4294967295,v=I+(A<<6&4294967295|A>>>26),A=k+(I^(v|~N))+R[11]+3174756917&4294967295,k=v+(A<<10&4294967295|A>>>22),A=N+(v^(k|~I))+R[2]+718787259&4294967295,N=k+(A<<15&4294967295|A>>>17),A=I+(k^(N|~v))+R[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+k&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var I=v-this.blockSize,R=this.B,N=this.h,k=0;k<v;){if(N==0)for(;k<=I;)i(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<v;)if(R[N++]=w.charCodeAt(k++),N==this.blockSize){i(this,R),N=0;break}}else for(;k<v;)if(R[N++]=w[k++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var I=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=I&255,I/=256;for(this.u(w),w=Array(16),v=I=0;4>v;++v)for(var R=0;32>R;R+=8)w[I++]=this.g[v]>>>R&255;return w};function s(w,v){var I=a;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=v(w)}function o(w,v){this.h=v;for(var I=[],R=!0,N=w.length-1;0<=N;N--){var k=w[N]|0;R&&k==v||(I[N]=k,R=!1)}this.g=I}var a={};function c(w){return-128<=w&&128>w?s(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return b(u(-w));for(var v=[],I=1,R=0;w>=I;R++)v[R]=w/I|0,I*=4294967296;return new o(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return b(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(v,8)),R=p,N=0;N<w.length;N+=8){var k=Math.min(8,w.length-N),A=parseInt(w.substring(N,N+k),v);8>k?(k=u(Math.pow(v,k)),R=R.j(k).add(u(A))):(R=R.j(I),R=R.add(u(A)))}return R}var p=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(C(this))return-b(this).m();for(var w=0,v=1,I=0;I<this.g.length;I++){var R=this.i(I);w+=(0<=R?R:4294967296+R)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(C(this))return"-"+b(this).toString(w);for(var v=u(Math.pow(w,6)),I=this,R="";;){var N=P(I,v).g;I=E(I,N.j(v));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=N,S(I))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function C(w){return w.h==-1}t.l=function(w){return w=E(this,w),C(w)?-1:S(w)?0:1};function b(w){for(var v=w.g.length,I=[],R=0;R<v;R++)I[R]=~w.g[R];return new o(I,~w.h).add(m)}t.abs=function(){return C(this)?b(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],R=0,N=0;N<=v;N++){var k=R+(this.i(N)&65535)+(w.i(N)&65535),A=(k>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);R=A>>>16,k&=65535,A&=65535,I[N]=A<<16|k}return new o(I,I[I.length-1]&-2147483648?-1:0)};function E(w,v){return w.add(b(v))}t.j=function(w){if(S(this)||S(w))return p;if(C(this))return C(w)?b(this).j(b(w)):b(b(this).j(w));if(C(w))return b(this.j(b(w)));if(0>this.l(y)&&0>w.l(y))return u(this.m()*w.m());for(var v=this.g.length+w.g.length,I=[],R=0;R<2*v;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<w.g.length;N++){var k=this.i(R)>>>16,A=this.i(R)&65535,F=w.i(N)>>>16,Y=w.i(N)&65535;I[2*R+2*N]+=A*Y,_(I,2*R+2*N),I[2*R+2*N+1]+=k*Y,_(I,2*R+2*N+1),I[2*R+2*N+1]+=A*F,_(I,2*R+2*N+1),I[2*R+2*N+2]+=k*F,_(I,2*R+2*N+2)}for(R=0;R<v;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=v;R<2*v;R++)I[R]=0;return new o(I,0)};function _(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function T(w,v){this.g=w,this.h=v}function P(w,v){if(S(v))throw Error("division by zero");if(S(w))return new T(p,p);if(C(w))return v=P(b(w),v),new T(b(v.g),b(v.h));if(C(v))return v=P(w,b(v)),new T(b(v.g),v.h);if(30<w.g.length){if(C(w)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,R=v;0>=R.l(w);)I=D(I),R=D(R);var N=O(I,1),k=O(R,1);for(R=O(R,2),I=O(I,2);!S(R);){var A=k.add(R);0>=A.l(w)&&(N=N.add(I),k=A),R=O(R,1),I=O(I,1)}return v=E(w,N.j(v)),new T(N,v)}for(N=p;0<=w.l(v);){for(I=Math.max(1,Math.floor(w.m()/v.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=u(I),A=k.j(v);C(A)||0<A.l(w);)I-=R,k=u(I),A=k.j(v);S(k)&&(k=m),N=N.add(k),w=E(w,A)}return new T(N,w)}t.A=function(w){return P(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],R=0;R<v;R++)I[R]=this.i(R)&w.i(R);return new o(I,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],R=0;R<v;R++)I[R]=this.i(R)|w.i(R);return new o(I,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],R=0;R<v;R++)I[R]=this.i(R)^w.i(R);return new o(I,this.h^w.h)};function D(w){for(var v=w.g.length+1,I=[],R=0;R<v;R++)I[R]=w.i(R)<<1|w.i(R-1)>>>31;return new o(I,w.h)}function O(w,v){var I=v>>5;v%=32;for(var R=w.g.length-I,N=[],k=0;k<R;k++)N[k]=0<v?w.i(k+I)>>>v|w.i(k+I+1)<<32-v:w.i(k+I);return new o(N,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,es=o}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cx,Ca,ux,uu,Jp,dx,hx,fx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var g=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var L=l[x];if(!(L in g))break e;g=g[L]}l=l[l.length-1],x=g[l],d=d(x),d!=x&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var g=0,x=!1,L={next:function(){if(!x&&g<l.length){var U=g++;return{value:d(U,l[U]),done:!1}}return x=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,g){return l.call.apply(l.bind,arguments)}function p(l,d,g){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,x),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function m(l,d,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var x=g.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function S(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(x,L,U){for(var K=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)K[Se-2]=arguments[Se];return d.prototype[L].apply(x,K)}}function C(l){const d=l.length;if(0<d){const g=Array(d);for(let x=0;x<d;x++)g[x]=l[x];return g}return[]}function b(l,d){for(let g=1;g<arguments.length;g++){const x=arguments[g];if(c(x)){const L=l.length||0,U=x.length||0;l.length=L+U;for(let K=0;K<U;K++)l[L+K]=x[K]}else l.push(x)}}class E{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function P(l){return P[" "](l),l}P[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(l,d,g){for(const x in l)d.call(g,l[x],x,l)}function w(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function v(l){const d={};for(const g in l)d[g]=l[g];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,d){let g,x;for(let L=1;L<arguments.length;L++){x=arguments[L];for(g in x)l[g]=x[g];for(let U=0;U<I.length;U++)g=I[U],Object.prototype.hasOwnProperty.call(x,g)&&(l[g]=x[g])}}function N(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function k(l){a.setTimeout(()=>{throw l},0)}function A(){var l=j;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class F{constructor(){this.h=this.g=null}add(d,g){const x=Y.get();x.set(d,g),this.h?this.h.next=x:this.g=x,this.h=x}}var Y=new E(()=>new ue,l=>l.reset());class ue{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,$=!1,j=new F,V=()=>{const l=a.Promise.resolve(void 0);ee=()=>{l.then(z)}};var z=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){k(g)}var d=Y;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}$=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,d),a.removeEventListener("test",g,d)}catch{}return l}();function ae(l,d){if(q.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(D){e:{try{P(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:fe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ae.aa.h.call(this)}}S(ae,q);var fe={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Ai(l,d,g,x,L){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!x,this.ha=L,this.key=++Fe,this.da=this.fa=!1}function nn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Rt(l){this.src=l,this.g={},this.h=0}Rt.prototype.add=function(l,d,g,x,L){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var K=xs(l,d,x,L);return-1<K?(d=l[K],g||(d.fa=!1)):(d=new Ai(d,this.src,U,!!x,L),d.fa=g,l.push(d)),d};function Ss(l,d){var g=d.type;if(g in l.g){var x=l.g[g],L=Array.prototype.indexOf.call(x,d,void 0),U;(U=0<=L)&&Array.prototype.splice.call(x,L,1),U&&(nn(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function xs(l,d,g,x){for(var L=0;L<l.length;++L){var U=l[L];if(!U.da&&U.listener==d&&U.capture==!!g&&U.ha==x)return L}return-1}var Is="closure_lm_"+(1e6*Math.random()|0),bs={};function qo(l,d,g,x,L){if(Array.isArray(d)){for(var U=0;U<d.length;U++)qo(l,d[U],g,x,L);return null}return g=Xo(g),l&&l[Ee]?l.K(d,g,u(x)?!!x.capture:!!x,L):mh(l,d,g,!1,x,L)}function mh(l,d,g,x,L,U){if(!d)throw Error("Invalid event type");var K=u(L)?!!L.capture:!!L,Se=Yo(l);if(Se||(l[Is]=Se=new Rt(l)),g=Se.add(d,g,x,K,U),g.proxy)return g;if(x=Jl(),g.proxy=x,x.src=l,x.listener=g,l.addEventListener)Z||(L=K),L===void 0&&(L=!1),l.addEventListener(d.toString(),x,L);else if(l.attachEvent)l.attachEvent(ec(d.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Jl(){function l(g){return d.call(l.src,l.listener,g)}const d=tc;return l}function Zl(l,d,g,x,L){if(Array.isArray(d))for(var U=0;U<d.length;U++)Zl(l,d[U],g,x,L);else x=u(x)?!!x.capture:!!x,g=Xo(g),l&&l[Ee]?(l=l.i,d=String(d).toString(),d in l.g&&(U=l.g[d],g=xs(U,g,x,L),-1<g&&(nn(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete l.g[d],l.h--)))):l&&(l=Yo(l))&&(d=l.g[d.toString()],l=-1,d&&(l=xs(d,g,x,L)),(g=-1<l?d[l]:null)&&Ko(g))}function Ko(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Ee])Ss(d.i,l);else{var g=l.type,x=l.proxy;d.removeEventListener?d.removeEventListener(g,x,l.capture):d.detachEvent?d.detachEvent(ec(g),x):d.addListener&&d.removeListener&&d.removeListener(x),(g=Yo(d))?(Ss(g,l),g.h==0&&(g.src=null,d[Is]=null)):nn(l)}}}function ec(l){return l in bs?bs[l]:bs[l]="on"+l}function tc(l,d){if(l.da)l=!0;else{d=new ae(d,this);var g=l.listener,x=l.ha||l.src;l.fa&&Ko(l),l=g.call(x,d)}return l}function Yo(l){return l=l[Is],l instanceof Rt?l:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(l){return typeof l=="function"?l:(l[Qo]||(l[Qo]=function(d){return l.handleEvent(d)}),l[Qo])}function He(){G.call(this),this.i=new Rt(this),this.M=this,this.F=null}S(He,G),He.prototype[Ee]=!0,He.prototype.removeEventListener=function(l,d,g,x){Zl(this,l,d,g,x)};function Ue(l,d){var g,x=l.F;if(x)for(g=[];x;x=x.F)g.push(x);if(l=l.M,x=d.type||d,typeof d=="string")d=new q(d,l);else if(d instanceof q)d.target=d.target||l;else{var L=d;d=new q(x,l),R(d,L)}if(L=!0,g)for(var U=g.length-1;0<=U;U--){var K=d.g=g[U];L=Cs(K,x,!0,d)&&L}if(K=d.g=l,L=Cs(K,x,!0,d)&&L,L=Cs(K,x,!1,d)&&L,g)for(U=0;U<g.length;U++)K=d.g=g[U],L=Cs(K,x,!1,d)&&L}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],x=0;x<g.length;x++)nn(g[x]);delete l.g[d],l.h--}}this.F=null},He.prototype.K=function(l,d,g,x){return this.i.add(String(l),d,!1,g,x)},He.prototype.L=function(l,d,g,x){return this.i.add(String(l),d,!0,g,x)};function Cs(l,d,g,x){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,U=0;U<d.length;++U){var K=d[U];if(K&&!K.da&&K.capture==g){var Se=K.listener,it=K.ha||K.src;K.fa&&Ss(l.i,K),L=Se.call(it,x)!==!1&&L}}return L&&!x.defaultPrevented}function nc(l,d,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function Jo(l){l.g=nc(()=>{l.g=null,l.i&&(l.i=!1,Jo(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class rc extends G{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Jo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(l){G.call(this),this.h=l,this.g={}}S(xr,G);var ic=[];function Ut(l){O(l.g,function(d,g){this.g.hasOwnProperty(g)&&Ko(d)},l),l.g={}}xr.prototype.N=function(){xr.aa.N.call(this),Ut(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ge=a.JSON.stringify,rn=a.JSON.parse,Gn=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function sn(){}sn.prototype.h=null;function Ir(l){return l.h||(l.h=l.i())}function Ri(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function As(){q.call(this,"d")}S(As,q);function Rs(){q.call(this,"c")}S(Rs,q);var qn={},Zo=null;function ks(){return Zo=Zo||new He}qn.La="serverreachability";function ki(l){q.call(this,qn.La,l)}S(ki,q);function Pi(l){const d=ks();Ue(d,new ki(d))}qn.STAT_EVENT="statevent";function Ni(l,d){q.call(this,qn.STAT_EVENT,l),this.stat=d}S(Ni,q);function qe(l){const d=ks();Ue(d,new Ni(d,l))}qn.Ma="timingevent";function sc(l,d){q.call(this,qn.Ma,l),this.size=d}S(sc,q);function Oi(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function St(l,d,g,x,L,U){l.info(function(){if(l.g)if(U)for(var K="",Se=U.split("&"),it=0;it<Se.length;it++){var ve=Se[it].split("=");if(1<ve.length){var ht=ve[0];ve=ve[1];var ft=ht.split("_");K=2<=ft.length&&ft[1]=="type"?K+(ht+"="+ve+"&"):K+(ht+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+x+") [attempt "+L+"]: "+d+`
`+g+`
`+K})}function ea(l,d,g,x,L,U,K){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+L+"]: "+d+`
`+g+`
`+U+" "+K})}function Cr(l,d,g,x){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+yh(l,g)+(x?" "+x:"")})}function gh(l,d){l.info(function(){return"TIMEOUT: "+d})}Li.prototype.info=function(){};function yh(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var x=g[l];if(!(2>x.length)){var L=x[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return Ge(g)}catch{return d}}var Ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vh;function oc(){}S(oc,sn),oc.prototype.g=function(){return new XMLHttpRequest},oc.prototype.i=function(){return{}},vh=new oc;function Ar(l,d,g,x){this.j=l,this.i=d,this.l=g,this.R=x||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xy}function xy(){this.i=null,this.g="",this.h=!1}var Iy={},_h={};function Eh(l,d,g){l.L=1,l.v=uc(Kn(d)),l.m=g,l.P=!0,by(l,null)}function by(l,d){l.F=Date.now(),ac(l),l.A=Kn(l.v);var g=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),Uy(g.i,"t",x),l.C=0,g=l.j.J,l.h=new xy,l.g=iv(l.j,g?d:null,!l.m),0<l.O&&(l.M=new rc(m(l.Y,l,l.g),l.O)),d=l.U,g=l.g,x=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(ic[0]=L.toString()),L=ic);for(var U=0;U<L.length;U++){var K=qo(g,L[U],x||d.handleEvent,!1,d.h||d);if(!K)break;d.g[K.key]=K}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Pi(),St(l.i,l.u,l.A,l.l,l.R,l.m)}Ar.prototype.ca=function(l){l=l.target;const d=this.M;d&&Yn(l)==3?d.j():this.Y(l)},Ar.prototype.Y=function(l){try{if(l==this.g)e:{const ft=Yn(this.g);var d=this.g.Ba();const Ls=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||qy(this.g)))){this.J||ft!=4||d==7||(d==8||0>=Ls?Pi(3):Pi(2)),wh(this);var g=this.g.Z();this.X=g;t:if(Cy(this)){var x=qy(this.g);l="";var L=x.length,U=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),ta(this);var K="";break t}this.h.i=new a.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(x[d],{stream:!(U&&d==L-1)});x.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=g==200,ea(this.i,this.u,this.A,this.l,this.R,ft,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,it=this.g;if((Se=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Se)){var ve=Se;break t}}ve=null}if(g=ve)Cr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Th(this,g);else{this.o=!1,this.s=3,qe(12),Di(this),ta(this);break e}}if(this.P){g=!0;let gn;for(;!this.J&&this.C<K.length;)if(gn=lb(this,K),gn==_h){ft==4&&(this.s=4,qe(14),g=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Iy){this.s=4,qe(15),Cr(this.i,this.l,K,"[Invalid Chunk]"),g=!1;break}else Cr(this.i,this.l,gn,null),Th(this,gn);if(Cy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||K.length!=0||this.h.h||(this.s=1,qe(16),g=!1),this.o=this.o&&g,!g)Cr(this.i,this.l,K,"[Invalid Chunked Response]"),Di(this),ta(this);else if(0<K.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Ah(ht),ht.M=!0,qe(11))}}else Cr(this.i,this.l,K,null),Th(this,K);ft==4&&Di(this),this.o&&!this.J&&(ft==4?ev(this.j,this):(this.o=!1,ac(this)))}else Ib(this.g),g==400&&0<K.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),Di(this),ta(this)}}}catch{}finally{}};function Cy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function lb(l,d){var g=l.C,x=d.indexOf(`
`,g);return x==-1?_h:(g=Number(d.substring(g,x)),isNaN(g)?Iy:(x+=1,x+g>d.length?_h:(d=d.slice(x,x+g),l.C=x+g,d)))}Ar.prototype.cancel=function(){this.J=!0,Di(this)};function ac(l){l.S=Date.now()+l.I,Ay(l,l.I)}function Ay(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Oi(m(l.ba,l),d)}function wh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ar.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(gh(this.i,this.A),this.L!=2&&(Pi(),qe(17)),Di(this),this.s=2,ta(this)):Ay(this,this.S-l)};function ta(l){l.j.G==0||l.J||ev(l.j,l)}function Di(l){wh(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Ut(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Th(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Sh(g.h,l))){if(!l.K&&Sh(g.h,l)&&g.G==3){try{var x=g.Da.g.parse(d)}catch{x=null}if(Array.isArray(x)&&x.length==3){var L=x;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)gc(g),pc(g);else break e;Ch(g),qe(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Oi(m(g.Za,g),6e3));if(1>=Py(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ji(g,11)}else if((l.K||g.g==l)&&gc(g),!_(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let ve=L[d];if(g.T=ve[0],ve=ve[1],g.G==2)if(ve[0]=="c"){g.K=ve[1],g.ia=ve[2];const ht=ve[3];ht!=null&&(g.la=ht,g.j.info("VER="+g.la));const ft=ve[4];ft!=null&&(g.Aa=ft,g.j.info("SVER="+g.Aa));const Ls=ve[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(x=1.5*Ls,g.L=x,g.j.info("backChannelRequestTimeoutMs_="+x)),x=g;const gn=l.g;if(gn){const vc=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vc){var U=x.h;U.g||vc.indexOf("spdy")==-1&&vc.indexOf("quic")==-1&&vc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(xh(U,U.h),U.h=null))}if(x.D){const Rh=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rh&&(x.ya=Rh,be(x.I,x.D,Rh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),x=g;var K=l;if(x.qa=rv(x,x.J?x.ia:null,x.W),K.K){Ny(x.h,K);var Se=K,it=x.L;it&&(Se.I=it),Se.B&&(wh(Se),ac(Se)),x.g=K}else Jy(x);0<g.i.length&&mc(g)}else ve[0]!="stop"&&ve[0]!="close"||ji(g,7);else g.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ji(g,7):bh(g):ve[0]!="noop"&&g.l&&g.l.ta(ve),g.v=0)}}Pi(4)}catch{}}var cb=class{constructor(l,d){this.g=l,this.map=d}};function Ry(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ky(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Py(l){return l.h?1:l.g?l.g.size:0}function Sh(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function xh(l,d){l.g?l.g.add(d):l.h=d}function Ny(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Ry.prototype.cancel=function(){if(this.i=Oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Oy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return C(l.i)}function ub(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],g=l.length,x=0;x<g;x++)d.push(l[x]);return d}d=[],g=0;for(x in l)d[g++]=l[x];return d}function db(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const x in l)d[g++]=x;return d}}}function Ly(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=db(l),x=ub(l),L=x.length,U=0;U<L;U++)d.call(void 0,x[U],g&&g[U],l)}var Dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hb(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var x=l[g].indexOf("="),L=null;if(0<=x){var U=l[g].substring(0,x);L=l[g].substring(x+1)}else U=l[g];d(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Mi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Mi){this.h=l.h,lc(this,l.j),this.o=l.o,this.g=l.g,cc(this,l.s),this.l=l.l;var d=l.i,g=new ia;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),My(this,g),this.m=l.m}else l&&(d=String(l).match(Dy))?(this.h=!1,lc(this,d[1]||"",!0),this.o=na(d[2]||""),this.g=na(d[3]||"",!0),cc(this,d[4]),this.l=na(d[5]||"",!0),My(this,d[6]||"",!0),this.m=na(d[7]||"")):(this.h=!1,this.i=new ia(null,this.h))}Mi.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ra(d,jy,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ra(d,jy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ra(g,g.charAt(0)=="/"?mb:pb,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ra(g,yb)),l.join("")};function Kn(l){return new Mi(l)}function lc(l,d,g){l.j=g?na(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function cc(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function My(l,d,g){d instanceof ia?(l.i=d,vb(l.i,l.h)):(g||(d=ra(d,gb)),l.i=new ia(d,l.h))}function be(l,d,g){l.i.set(d,g)}function uc(l){return be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function na(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ra(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,fb),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function fb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var jy=/[#\/\?@]/g,pb=/[#\?:]/g,mb=/[#\?]/g,gb=/[#\?@]/g,yb=/#/g;function ia(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Rr(l){l.g||(l.g=new Map,l.h=0,l.i&&hb(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=ia.prototype,t.add=function(l,d){Rr(this),this.i=null,l=Ns(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function Vy(l,d){Rr(l),d=Ns(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Fy(l,d){return Rr(l),d=Ns(l,d),l.g.has(d)}t.forEach=function(l,d){Rr(this),this.g.forEach(function(g,x){g.forEach(function(L){l.call(d,L,x,this)},this)},this)},t.na=function(){Rr(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let x=0;x<d.length;x++){const L=l[x];for(let U=0;U<L.length;U++)g.push(d[x])}return g},t.V=function(l){Rr(this);let d=[];if(typeof l=="string")Fy(this,l)&&(d=d.concat(this.g.get(Ns(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},t.set=function(l,d){return Rr(this),this.i=null,l=Ns(this,l),Fy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Uy(l,d,g){Vy(l,d),0<g.length&&(l.i=null,l.g.set(Ns(l,d),C(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var x=d[g];const U=encodeURIComponent(String(x)),K=this.V(x);for(x=0;x<K.length;x++){var L=U;K[x]!==""&&(L+="="+encodeURIComponent(String(K[x]))),l.push(L)}}return this.i=l.join("&")};function Ns(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function vb(l,d){d&&!l.j&&(Rr(l),l.i=null,l.g.forEach(function(g,x){var L=x.toLowerCase();x!=L&&(Vy(this,x),Uy(this,L,g))},l)),l.j=d}function _b(l,d){const g=new Li;if(a.Image){const x=new Image;x.onload=y(kr,g,"TestLoadImage: loaded",!0,d,x),x.onerror=y(kr,g,"TestLoadImage: error",!1,d,x),x.onabort=y(kr,g,"TestLoadImage: abort",!1,d,x),x.ontimeout=y(kr,g,"TestLoadImage: timeout",!1,d,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else d(!1)}function Eb(l,d){const g=new Li,x=new AbortController,L=setTimeout(()=>{x.abort(),kr(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:x.signal}).then(U=>{clearTimeout(L),U.ok?kr(g,"TestPingServer: ok",!0,d):kr(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),kr(g,"TestPingServer: error",!1,d)})}function kr(l,d,g,x,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),x(g)}catch{}}function wb(){this.g=new Gn}function Tb(l,d,g){const x=g||"";try{Ly(l,function(L,U){let K=L;u(L)&&(K=Ge(L)),d.push(x+U+"="+encodeURIComponent(K))})}catch(L){throw d.push(x+"type="+encodeURIComponent("_badmap")),L}}function dc(l){this.l=l.Ub||null,this.j=l.eb||!1}S(dc,sn),dc.prototype.g=function(){return new hc(this.l,this.j)},dc.prototype.i=function(l){return function(){return l}}({});function hc(l,d){He.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(hc,He),t=hc.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,oa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function zy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?sa(this):oa(this),this.readyState==3&&zy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,sa(this))},t.Qa=function(l){this.g&&(this.response=l,sa(this))},t.ga=function(){this.g&&sa(this)};function sa(l){l.readyState=4,l.l=null,l.j=null,l.v=null,oa(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function oa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function By(l){let d="";return O(l,function(g,x){d+=x,d+=":",d+=g,d+=`\r
`}),d}function Ih(l,d,g){e:{for(x in g){var x=!1;break e}x=!0}x||(g=By(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):be(l,d,g))}function Me(l){He.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,He);var Sb=/^https?$/i,xb=["POST","PUT"];t=Me.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,g,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vh.g(),this.v=this.o?Ir(this.o):Ir(vh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(U){$y(this,U);return}if(l=g||"",g=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var L in x)g.set(L,x[L]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const U of x.keys())g.set(U,x.get(U));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xb,d,void 0))||x||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of g)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gy(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){$y(this,U)}};function $y(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Wy(l),fc(l)}function Wy(l){l.A||(l.A=!0,Ue(l,"complete"),Ue(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ue(this,"complete"),Ue(this,"abort"),fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hy(this):this.bb())},t.bb=function(){Hy(this)};function Hy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Yn(l)!=4||l.Z()!=2)){if(l.u&&Yn(l)==4)nc(l.Ea,0,l);else if(Ue(l,"readystatechange"),Yn(l)==4){l.h=!1;try{const K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var x;if(x=K===0){var L=String(l.D).match(Dy)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),x=!Sb.test(L?L.toLowerCase():"")}g=x}if(g)Ue(l,"complete"),Ue(l,"success");else{l.m=6;try{var U=2<Yn(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",Wy(l)}}finally{fc(l)}}}}function fc(l,d){if(l.g){Gy(l);const g=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Ue(l,"ready");try{g.onreadystatechange=x}catch{}}}function Gy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),rn(d)}};function qy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ib(l){const d={};l=(l.g&&2<=Yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(_(l[x]))continue;var g=N(l[x]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=d[L]||[];d[L]=U,U.push(g)}w(d,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function Ky(l){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,l),this.cb=aa("retryDelaySeedMs",1e4,l),this.Wa=aa("forwardChannelMaxRetries",2,l),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ry(l&&l.concurrentRequestLimit),this.Da=new wb,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ky.prototype,t.la=8,t.G=1,t.connect=function(l,d,g,x){qe(0),this.W=l,this.H=d||{},g&&x!==void 0&&(this.H.OSID=g,this.H.OAID=x),this.F=this.X,this.I=rv(this,null,this.W),mc(this)};function bh(l){if(Yy(l),l.G==3){var d=l.U++,g=Kn(l.I);if(be(g,"SID",l.K),be(g,"RID",d),be(g,"TYPE","terminate"),la(l,g),d=new Ar(l,l.j,d),d.L=2,d.v=uc(Kn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=d.v,g=!0),g||(d.g=iv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ac(d)}nv(l)}function pc(l){l.g&&(Ah(l),l.g.cancel(),l.g=null)}function Yy(l){pc(l),l.u&&(a.clearTimeout(l.u),l.u=null),gc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function mc(l){if(!ky(l.h)&&!l.s){l.s=!0;var d=l.Ga;ee||V(),$||(ee(),$=!0),j.add(d,l),l.B=0}}function bb(l,d){return Py(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Oi(m(l.Ga,l,d),tv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Ar(this,this.j,l);let U=this.o;if(this.S&&(U?(U=v(U),R(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var x=this.i[g];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(d+=x,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Xy(this,L,d),g=Kn(this.I),be(g,"RID",l),be(g,"CVER",22),this.D&&be(g,"X-HTTP-Session-Id",this.D),la(this,g),U&&(this.O?d="headers="+encodeURIComponent(String(By(U)))+"&"+d:this.m&&Ih(g,this.m,U)),xh(this.h,L),this.Ua&&be(g,"TYPE","init"),this.P?(be(g,"$req",d),be(g,"SID","null"),L.T=!0,Eh(L,g,null)):Eh(L,g,d),this.G=2}}else this.G==3&&(l?Qy(this,l):this.i.length==0||ky(this.h)||Qy(this))};function Qy(l,d){var g;d?g=d.l:g=l.U++;const x=Kn(l.I);be(x,"SID",l.K),be(x,"RID",g),be(x,"AID",l.T),la(l,x),l.m&&l.o&&Ih(x,l.m,l.o),g=new Ar(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Xy(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),xh(l.h,g),Eh(g,x,d)}function la(l,d){l.H&&O(l.H,function(g,x){be(d,x,g)}),l.l&&Ly({},function(g,x){be(d,x,g)})}function Xy(l,d,g){g=Math.min(l.i.length,g);var x=l.l?m(l.l.Na,l.l,l):null;e:{var L=l.i;let U=-1;for(;;){const K=["count="+g];U==-1?0<g?(U=L[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let Se=!0;for(let it=0;it<g;it++){let ve=L[it].g;const ht=L[it].map;if(ve-=U,0>ve)U=Math.max(0,L[it].g-100),Se=!1;else try{Tb(ht,K,"req"+ve+"_")}catch{x&&x(ht)}}if(Se){x=K.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,x}function Jy(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ee||V(),$||(ee(),$=!0),j.add(d,l),l.v=0}}function Ch(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Oi(m(l.Fa,l),tv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Zy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Oi(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),pc(this),Zy(this))};function Ah(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Zy(l){l.g=new Ar(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Kn(l.qa);be(d,"RID","rpc"),be(d,"SID",l.K),be(d,"AID",l.T),be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&be(d,"TO",l.ja),be(d,"TYPE","xmlhttp"),la(l,d),l.m&&l.o&&Ih(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=uc(Kn(d)),g.m=null,g.P=!0,by(g,l)}t.Za=function(){this.C!=null&&(this.C=null,pc(this),Ch(this),qe(19))};function gc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ev(l,d){var g=null;if(l.g==d){gc(l),Ah(l),l.g=null;var x=2}else if(Sh(l.h,d))g=d.D,Ny(l.h,d),x=1;else return;if(l.G!=0){if(d.o)if(x==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;x=ks(),Ue(x,new sc(x,g)),mc(l)}else Jy(l);else if(L=d.s,L==3||L==0&&0<d.X||!(x==1&&bb(l,d)||x==2&&Ch(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),L){case 1:ji(l,5);break;case 4:ji(l,10);break;case 3:ji(l,6);break;default:ji(l,2)}}}function tv(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function ji(l,d){if(l.j.info("Error code "+d),d==2){var g=m(l.fb,l),x=l.Xa;const L=!x;x=new Mi(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lc(x,"https"),uc(x),L?_b(x.toString(),g):Eb(x.toString(),g)}else qe(2);l.G=0,l.l&&l.l.sa(d),nv(l),Yy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function nv(l){if(l.G=0,l.ka=[],l.l){const d=Oy(l.h);(d.length!=0||l.i.length!=0)&&(b(l.ka,d),b(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function rv(l,d,g){var x=g instanceof Mi?Kn(g):new Mi(g);if(x.g!="")d&&(x.g=d+"."+x.g),cc(x,x.s);else{var L=a.location;x=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var U=new Mi(null);x&&lc(U,x),d&&(U.g=d),L&&cc(U,L),g&&(U.l=g),x=U}return g=l.D,d=l.ya,g&&d&&be(x,g,d),be(x,"VER",l.la),la(l,x),x}function iv(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Me(new dc({eb:g})):new Me(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sv(){}t=sv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yc(){}yc.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){He.call(this),this.g=new Ky(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!_(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Os(this)}S(zt,He),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){bh(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Ge(l),l=g);d.i.push(new cb(d.Ya++,l)),d.G==3&&mc(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,bh(this.g),delete this.g,zt.aa.N.call(this)};function ov(l){As.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}S(ov,As);function av(){Rs.call(this),this.status=1}S(av,Rs);function Os(l){this.g=l}S(Os,sv),Os.prototype.ua=function(){Ue(this.g,"a")},Os.prototype.ta=function(l){Ue(this.g,new ov(l))},Os.prototype.sa=function(l){Ue(this.g,new av)},Os.prototype.ra=function(){Ue(this.g,"b")},yc.prototype.createWebChannel=yc.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,fx=function(){return new yc},hx=function(){return ks()},dx=qn,Jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,uu=Ps,Sy.COMPLETE="complete",ux=Sy,Ri.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",He.prototype.listen=He.prototype.K,Ca=Ri,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,cx=Me}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Ig("@firebase/firestore");function js(){return ds.logLevel}function Q(t,...e){if(ds.logLevel<=de.DEBUG){const n=e.map(Fg);ds.debug(`Firestore (${Bo}): ${t}`,...n)}}function mr(t,...e){if(ds.logLevel<=de.ERROR){const n=e.map(Fg);ds.error(`Firestore (${Bo}): ${t}`,...n)}}function bo(t,...e){if(ds.logLevel<=de.WARN){const n=e.map(Fg);ds.warn(`Firestore (${Bo}): ${t}`,...n)}}function Fg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+t;throw mr(e),new Error(e)}function we(t,e){t||ie()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class dL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hL{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new px(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new vt(e)}}class fL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){we(this.o===void 0);const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new mL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Co(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Ze(0,0))}static max(){return new se(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return El.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends El{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const vL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends El{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return vL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ve.fromString(e))}static fromName(e){return new ne(Ve.fromString(e).popFirst(5))}static empty(){return new ne(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ve(e.slice()))}}function _L(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new mi(i,ne.empty(),e)}function EL(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(se.min(),ne.empty(),-1)}static max(){return new mi(se.max(),ne.empty(),-1)}}function wL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==TL)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Qd.oe=-1;function Xd(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function IL(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O_(e)),e=CL(t.get(n),e);return O_(e)}function CL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function O_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new at(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new rt(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yx("Invalid base64 string: "+s):s}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const AL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(we(!!t),typeof t=="string"){let e=0;const n=AL.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jd(t){const e=t.mapValue.fields.__previous_value__;return Ug(e)?Jd(e):e}function wl(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Tl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ug(t)?4:PL(t)?9007199254740991:kL(t)?10:11:ie()}function Wn(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wl(t).isEqual(wl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gi(i.timestampValue),a=gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yi(i.bytesValue).isEqual(yi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ze(i.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ze(i.integerValue)===ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ze(i.doubleValue),a=ze(s.doubleValue);return o===a?rd(o)===rd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Co(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(L_(o)!==L_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Wn(o[c],a[c])))return!1;return!0}(t,e);default:return ie()}}function Sl(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ze(s.integerValue||s.doubleValue),c=ze(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return M_(t.timestampValue,e.timestampValue);case 4:return M_(wl(t),wl(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){const a=yi(s),c=yi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=me(a[u],c[u]);if(h!==0)return h}return me(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=me(ze(s.latitude),ze(o.latitude));return a!==0?a:me(ze(s.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return j_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,h;const p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(c=m.value)===null||c===void 0?void 0:c.arrayValue,C=me(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:j_(y,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Bc.mapValue&&o===Bc.mapValue)return 0;if(s===Bc.mapValue)return 1;if(o===Bc.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=me(c[p],h[p]);if(m!==0)return m;const y=Ao(a[c[p]],u[h[p]]);if(y!==0)return y}return me(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ie()}}function M_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=gi(t),r=gi(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function j_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ao(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function Ro(t){return Zp(t)}function Zp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zp(n.fields[o])}`;return i+"}"}(t.mapValue):ie()}function du(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jd(t);return e?16+du(e):16;case 5:return 2*t.stringValue.length;case 6:return yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+du(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return _s(r.fields,(s,o)=>{i+=s.length+du(o)}),i}(t.mapValue);default:throw ie()}}function em(t){return!!t&&"integerValue"in t}function zg(t){return!!t&&"arrayValue"in t}function V_(t){return!!t&&"nullValue"in t}function F_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hu(t){return!!t&&"mapValue"in t}function kL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Wa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_s(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ln(Wa(this.value))}}function vx(t){const e=[];return _s(t.fields,(n,r)=>{const i=new lt([n]);if(hu(r)){const s=vx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Et(e,0,se.min(),se.min(),se.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Et(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new Et(e,2,n,se.min(),se.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,se.min(),se.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function U_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function NL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{}class Qe extends _x{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LL(e,n,r):n==="array-contains"?new jL(e,r):n==="in"?new VL(e,r):n==="not-in"?new FL(e,r):n==="array-contains-any"?new UL(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DL(e,r):new ML(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ao(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends _x{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return Ex(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ex(t){return t.op==="and"}function wx(t){return OL(t)&&Ex(t)}function OL(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function tm(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Ro(t.value);if(wx(t))return t.filters.map(e=>tm(e)).join(",");{const e=t.filters.map(n=>tm(n)).join(",");return`${t.op}(${e})`}}function Tx(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Wn(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Tx(o,i.filters[a]),!0):!1}(t,e):void ie()}function Sx(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(Sx).join(" ,")+"}"}(t):"Filter"}class LL extends Qe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class DL extends Qe{constructor(e,n){super(e,"in",n),this.keys=xx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ML extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=xx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class jL extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zg(n)&&Sl(n.arrayValue,this.value)}}class VL extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class FL extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sl(this.value.arrayValue,n)}}class UL extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function B_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zL(t,e,n,r,i,s,o)}function Bg(t){const e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ro(r)).join(",")),e.ue=n}return e.ue}function $g(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z_(t.startAt,e.startAt)&&z_(t.endAt,e.endAt)}function nm(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BL(t,e,n,r,i,s,o,a){return new Zd(t,e,n,r,i,s,o,a)}function Wg(t){return new Zd(t)}function $_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $L(t){return t.collectionGroup!==null}function Ha(t){const e=oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rt(lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new sd(s,r))}),n.has(lt.keyField().canonicalString())||e.ce.push(new sd(lt.keyField(),r))}return e.ce}function Un(t){const e=oe(t);return e.le||(e.le=WL(e,Ha(t))),e.le}function WL(t,e){if(t.limitType==="F")return B_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sd(i.field,s)});const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return B_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rm(t,e,n){return new Zd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eh(t,e){return $g(Un(t),Un(e))&&t.limitType===e.limitType}function Ix(t){return`${Bg(Un(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Sx(i)).join(", ")}]`),Xd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ro(i)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function th(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ha(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=U_(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ha(r),i)||r.endAt&&!function(o,a,c){const u=U_(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ha(r),i))}(t,e)}function HL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bx(t){return(e,n)=>{let r=!1;for(const i of Ha(t)){const s=GL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GL(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ao(c,u):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new De(ne.comparator);function gr(){return qL}const Cx=new De(ne.comparator);function Aa(...t){let e=Cx;for(const n of t)e=e.insert(n.key,n);return e}function Ax(t){let e=Cx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return Ga()}function Rx(){return Ga()}function Ga(){return new Es(t=>t.toString(),(t,e)=>t.isEqual(e))}const KL=new De(ne.comparator),YL=new rt(ne.comparator);function he(...t){let e=YL;for(const n of t)e=e.add(n);return e}const QL=new rt(me);function XL(){return QL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function kx(t){return{integerValue:""+t}}function JL(t,e){return IL(e)?kx(e):Hg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function ZL(t,e,n){return t instanceof od?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ug(s)&&(s=Jd(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xl?Nx(t,e):t instanceof Il?Ox(t,e):function(i,s){const o=Px(i,s),a=W_(o)+W_(i.Pe);return em(o)&&em(i.Pe)?kx(a):Hg(i.serializer,a)}(t,e)}function eD(t,e,n){return t instanceof xl?Nx(t,e):t instanceof Il?Ox(t,e):n}function Px(t,e){return t instanceof ad?function(r){return em(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class od extends nh{}class xl extends nh{constructor(e){super(),this.elements=e}}function Nx(t,e){const n=Lx(e);for(const r of t.elements)n.some(i=>Wn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Il extends nh{constructor(e){super(),this.elements=e}}function Ox(t,e){let n=Lx(e);for(const r of t.elements)n=n.filter(i=>!Wn(i,r));return{arrayValue:{values:n}}}class ad extends nh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function W_(t){return ze(t.integerValue||t.doubleValue)}function Lx(t){return zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xl&&i instanceof xl||r instanceof Il&&i instanceof Il?Co(r.elements,i.elements,Wn):r instanceof ad&&i instanceof ad?Wn(r.Pe,i.Pe):r instanceof od&&i instanceof od}(t.transform,e.transform)}class nD{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rh{}function Dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jx(t.key,or.none()):new Gl(t.key,t.data,or.none());{const n=t.data,r=ln.empty();let i=new rt(lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ws(t.key,r,new Sn(i.toArray()),or.none())}}function rD(t,e,n){t instanceof Gl?function(i,s,o){const a=i.value.clone(),c=G_(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ws?function(i,s,o){if(!fu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G_(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Mx(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qa(t,e,n,r){return t instanceof Gl?function(s,o,a,c){if(!fu(s.precondition,o))return a;const u=s.value.clone(),h=q_(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ws?function(s,o,a,c){if(!fu(s.precondition,o))return a;const u=q_(s.fieldTransforms,c,o),h=o.data;return h.setAll(Mx(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return fu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Px(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function H_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Co(r,i,(s,o)=>tD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gl extends rh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ws extends rh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Mx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G_(t,e,n){const r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,eD(o,a,n[i]))}return r}function q_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ZL(s,o,e))}return r}class jx extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sD extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=Dx(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(n,r)=>H_(n,r))&&Co(this.baseMutations,e.baseMutations,(n,r)=>H_(n,r))}}class Gg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=function(){return KL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Gg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,pe;function cD(t){switch(t){default:return ie();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Vx(t){if(t===void 0)return mr("GRPC error has no .code"),W.UNKNOWN;switch(t){case $e.OK:return W.OK;case $e.CANCELLED:return W.CANCELLED;case $e.UNKNOWN:return W.UNKNOWN;case $e.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case $e.INTERNAL:return W.INTERNAL;case $e.UNAVAILABLE:return W.UNAVAILABLE;case $e.UNAUTHENTICATED:return W.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case $e.NOT_FOUND:return W.NOT_FOUND;case $e.ALREADY_EXISTS:return W.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return W.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case $e.ABORTED:return W.ABORTED;case $e.OUT_OF_RANGE:return W.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return W.UNIMPLEMENTED;case $e.DATA_LOSS:return W.DATA_LOSS;default:return ie()}}(pe=$e||($e={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new es([4294967295,4294967295],0);function K_(t){const e=uD().encode(t),n=new lx;return n.update(e),new Uint8Array(n.digest())}function Y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new es([n,r],0),new es([i,s],0)]}class qg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ra(`Invalid padding: ${n}`);if(r<0)throw new Ra(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=es.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(es.fromNumber(r)));return i.compare(dD)===1&&(i=new es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=K_(e),[r,i]=Y_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=K_(e),[r,i]=Y_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ih(se.min(),i,new De(me),gr(),he())}}class ql{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ql(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Fx{constructor(e,n){this.targetId=e,this.me=n}}class Ux{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Q_{constructor(){this.fe=0,this.ge=J_(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),n=he(),r=he();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new ql(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=J_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hD{constructor(e){this.Le=e,this.Be=new Map,this.ke=gr(),this.qe=X_(),this.Qe=new De(me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(nm(s))if(r===0){const o=new ne(s.path);this.Ue(n,o,Et.newNoDocument(o,se.min()))}else we(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(c){if(c instanceof yx)return bo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new qg(o,i,s)}catch(c){return bo(c instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&nm(a.target)){const c=new ne(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Et.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=he();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ih(e,n,this.Qe,this.ke,r);return this.ke=gr(),this.qe=X_(),this.Qe=new De(me),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Q_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rt(me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Q_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function X_(){return new De(ne.comparator)}function J_(){return new De(ne.comparator)}const fD={asc:"ASCENDING",desc:"DESCENDING"},pD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mD={and:"AND",or:"OR"};class gD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function im(t,e){return t.useProto3Json||Xd(e)?e:{value:e}}function ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yD(t,e){return ld(t,e.toTimestamp())}function zn(t){return we(!!t),se.fromTimestamp(function(n){const r=gi(n);return new Ze(r.seconds,r.nanos)}(t))}function Kg(t,e){return sm(t,e).canonicalString()}function sm(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Bx(t){const e=Ve.fromString(t);return we(qx(e)),e}function om(t,e){return Kg(t.databaseId,e.path)}function Ef(t,e){const n=Bx(e);if(n.get(1)!==t.databaseId.projectId)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(Wx(n))}function $x(t,e){return Kg(t.databaseId,e)}function vD(t){const e=Bx(t);return e.length===4?Ve.emptyPath():Wx(e)}function am(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wx(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z_(t,e,n){return{name:om(t,e),fields:n.value.mapValue.fields}}function _D(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(we(h===void 0||typeof h=="string"),dt.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?W.UNKNOWN:Vx(u.code);return new te(h,u.message||"")}(o);n=new Ux(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ef(t,r.document.name),s=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):se.min(),a=new ln({mapValue:{fields:r.document.fields}}),c=Et.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new pu(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ef(t,r.document),s=r.readTime?zn(r.readTime):se.min(),o=Et.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ef(t,r.document),s=r.removedTargetIds||[];n=new pu([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new lD(i,s),a=r.targetId;n=new Fx(a,o)}}return n}function ED(t,e){let n;if(e instanceof Gl)n={update:Z_(t,e.key,e.value)};else if(e instanceof jx)n={delete:om(t,e.key)};else if(e instanceof ws)n={update:Z_(t,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof sD))return ie();n={verify:om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Il)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ad)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function wD(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zn(i.updateTime):zn(s);return o.isEqual(se.min())&&(o=zn(s)),new nD(o,i.transformResults||[])}(n,e))):[]}function TD(t,e){return{documents:[$x(t,e.path)]}}function SD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$x(t,i);const s=function(u){if(u.length!==0)return Gx(Hn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Fs(m.field),direction:bD(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=im(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function xD(t){let e=vD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){we(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const m=Hx(p);return m instanceof Hn&&wx(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new sd(Us(S.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Xd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,y=p.values||[];return new id(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const m=!p.before,y=p.values||[];return new id(y,m)}(n.endAt)),BL(e,i,o,s,a,"F",c,u)}function ID(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Us(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>Hx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function bD(t){return fD[t]}function CD(t){return pD[t]}function AD(t){return mD[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Us(t){return lt.fromServerFormat(t.fieldPath)}function Gx(t){return t instanceof Qe?function(n){if(n.op==="=="){if(F_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(V_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(V_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:CD(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>Gx(i));return r.length===1?r[0]:{compositeFilter:{op:AD(n.op),filters:r}}}(t):ie()}function RD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r,i,s=se.min(),o=se.min(),a=dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.ct=e}}function PD(t){const e=xD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.un=new OD}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(mi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class OD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rt(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pt(e,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(41943040,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ko(0)}static kn(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1([t,e],[n,r]){const i=me(t,n);return i===0?me(e,r):i}class LD{constructor(e){this.Un=e,this.buffer=new rt(t1),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();t1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.Hn(3e5)})}}class MD{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Qd.oe);const r=new LD(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(e1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e1):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),js()<=de.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function jD(t,e){return new MD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.changes=new Es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qa(r.mutation,i,Sn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Aa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gr();const o=Ga(),a=function(){return Ga()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof ws)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),qa(h.mutation,u,h.mutation.getFieldMask(),Ze.now())):o.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var p;return a.set(u,new FD(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ga();let i=new De((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Sn.empty();h=a.applyToLocalView(u,h),r.set(c,h);const p=(i.get(a.batchId)||he()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,p=Rx();h.forEach(m=>{if(!s.has(m)){const y=Dx(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$L(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(qi());let a=-1,c=s;return o.next(u=>B.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,he())).next(h=>({batchId:a,changes:Ax(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Aa();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,c=>{const u=function(p,m){return new Zd(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Et.newInvalidDocument(h)))});let a=Aa();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&qa(h.mutation,u,Sn.empty(),Ze.now()),th(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:PD(i.bundledQuery),readTime:zn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.overlays=new De(ne.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=qi(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=qi(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=qi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return B.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aD(n,r));let s=this.Ir.get(n);s===void 0&&(s=he(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.Tr=new rt(et.Er),this.dr=new rt(et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new et(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new Ve([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new Ve([])),r=new et(n,e),i=new et(n,e+1);let s=he();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rt(et.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(me);return n.forEach(i=>{const s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new et(new ne(s),0);let a=new rt(me);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new et(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.Mr=e,this.docs=function(){return new De(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Et.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr();const o=n.path,a=new ne(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||wL(EL(h),r)<=0||(i.has(h.key)||th(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GD(this)}getSize(e){return B.resolve(this.size)}}class GD extends VD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.persistence=e,this.Nr=new Es(n=>Bg(n),$g),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yg,this.targetCount=0,this.kr=ko.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Qd(0),this.Kr=!1,this.Kr=!0,this.$r=new $D,this.referenceDelegate=e(this),this.Ur=new qD(this),this.indexManager=new ND,this.remoteDocumentCache=function(i){return new HD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kD(n),this.Gr=new zD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new WD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new KD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class KD extends SL{constructor(e){super(),this.currentSequenceNumber=e}}class Qg{constructor(e){this.persistence=e,this.Jr=new Yg,this.Yr=null}static Zr(e){return new Qg(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=ne.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class cd{constructor(e,n){this.persistence=e,this.ti=new Es(r=>bL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=jD(this,n)}static Zr(e,n){return new cd(e,n)}zr(){}jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return B.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),B.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=du(e.data.value)),n}nr(e,n,r){return B.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PP()?8:xL(Tt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new YD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(js()<=de.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(js()<=de.DEBUG&&Q("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(js()<=de.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):B.resolve())}Yi(e,n){if($_(n))return B.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rm(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,a);return this.ns(n,u,o,c.readTime)?this.Yi(e,rm(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return $_(n)||i.isEqual(se.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?B.resolve(null):(js()<=de.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(n)),this.rs(e,o,n,_L(i,-1)).next(a=>a))})}ts(e,n){let r=new rt(bx(e));return n.forEach((i,s)=>{th(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return js()<=de.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.Ji.getDocumentsMatchingQuery(e,n,mi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new De(me),this._s=new Es(s=>Bg(s),$g),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JD(t,e,n,r){return new XD(t,e,n,r)}async function Yx(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=he();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function ZD(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const p=u.batch,m=p.keys();let y=B.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(c,S)).next(C=>{const b=u.docVersions.get(S);we(b!==null),C.version.compareTo(b)<0&&(p.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),h.addEntry(C)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Qx(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function e3(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,p)=>{const m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(dt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(C,b,E){return C.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let c=gr(),u=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(t3(s,o,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!r.isEqual(se.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function t3(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function n3(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r3(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function lm(t,e,n){const r=oe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wo(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function n1(t,e,n){const r=oe(t);let i=se.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const p=oe(c),m=p._s.get(h);return m!==void 0?B.resolve(p.os.get(m)):p.Ur.getTargetData(u,h)}(r,o,Un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:he())).next(a=>(i3(r,HL(e),a),{documents:a,Ts:s})))}function i3(t,e,n){let r=t.us.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class r1{constructor(){this.activeTargetIds=XL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s3{constructor(){this.so=new r1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new r1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function wf(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class c3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=wf(),c=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(h=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw bo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=a3[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=wf();return new Promise((o,a)=>{const c=new cx;c.setWithCredentials(!0),c.listenOnce(ux.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case uu.NO_ERROR:const h=c.getResponseJson();Q(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case uu.TIMEOUT:Q(gt,`RPC '${e}' ${s} timed out`),a(new te(W.DEADLINE_EXCEEDED,"Request time out"));break;case uu.HTTP_ERROR:const p=c.getStatus();if(Q(gt,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const S=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(E)>=0?E:W.UNKNOWN}(y.status);a(new te(S,y.message))}else a(new te(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new te(W.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{Q(gt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Q(gt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=wf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fx(),a=hx(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");Q(gt,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=o.createWebChannel(h,c);let m=!1,y=!1;const S=new l3({Io:b=>{y?Q(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(Q(gt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Q(gt,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},To:()=>p.close()}),C=(b,E,_)=>{b.listen(E,T=>{try{_(T)}catch(P){setTimeout(()=>{throw P},0)}})};return C(p,Ca.EventType.OPEN,()=>{y||(Q(gt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),C(p,Ca.EventType.CLOSE,()=>{y||(y=!0,Q(gt,`RPC '${e}' stream ${i} transport closed`),S.So())}),C(p,Ca.EventType.ERROR,b=>{y||(y=!0,bo(gt,`RPC '${e}' stream ${i} transport errored:`,b),S.So(new te(W.UNAVAILABLE,"The operation could not be completed")))}),C(p,Ca.EventType.MESSAGE,b=>{var E;if(!y){const _=b.data[0];we(!!_);const T=_,P=T.error||((E=T[0])===null||E===void 0?void 0:E.error);if(P){Q(gt,`RPC '${e}' stream ${i} received error:`,P);const D=P.status;let O=function(I){const R=$e[I];if(R!==void 0)return Vx(R)}(D),w=P.message;O===void 0&&(O=W.INTERNAL,w="Unknown error status: "+D+" with message "+P.message),y=!0,S.So(new te(O,w)),p.close()}else Q(gt,`RPC '${e}' stream ${i} received:`,_),S.bo(_)}}),C(a,dx.STAT_EVENT,b=>{b.stat===Jp.PROXY?Q(gt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Jp.NOPROXY&&Q(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function Tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return new gD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u3 extends Jx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_D(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?zn(o.readTime):se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=am(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=nm(c)?{documents:TD(s,c)}:{query:SD(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zx(s,o.resumeToken);const u=im(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=ld(s,o.snapshotVersion.toTimestamp());const u=im(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=ID(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=am(this.serializer),n.removeTarget=e,this.a_(n)}}class d3 extends Jx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return we(!!e.streamToken),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wD(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=am(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ED(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,sm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(W.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,sm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class f3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mr(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=oe(c);u.L_.add(4),await Kl(u),u.q_.set("Unknown"),u.L_.delete(4),await oh(u)}(this))})}),this.q_=new f3(r,i)}}async function oh(t){if(Ts(t))for(const e of t.B_)await e(!0)}async function Kl(t){for(const e of t.B_)await e(!1)}function Zx(t,e){const n=oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ty(n)?ey(n):Ho(n).r_()&&Zg(n,e))}function Jg(t,e){const n=oe(t),r=Ho(n);n.N_.delete(e),r.r_()&&eI(n,e),n.N_.size===0&&(r.r_()?r.o_():Ts(n)&&n.q_.set("Unknown"))}function Zg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).A_(e)}function eI(t,e){t.Q_.xe(e),Ho(t).R_(e)}function ey(t){t.Q_=new hD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.q_.v_()}function ty(t){return Ts(t)&&!Ho(t).n_()&&t.N_.size>0}function Ts(t){return oe(t).L_.size===0}function tI(t){t.Q_=void 0}async function m3(t){t.q_.set("Online")}async function g3(t){t.N_.forEach((e,n)=>{Zg(t,e)})}async function y3(t,e){tI(t),ty(t)?(t.q_.M_(e),ey(t)):t.q_.set("Unknown")}async function v3(t,e,n){if(t.q_.set("Online"),e instanceof Ux&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ud(t,r)}else if(e instanceof pu?t.Q_.Ke(e):e instanceof Fx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(se.min()))try{const r=await Qx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=s.N_.get(c);if(!h)return;s.N_.set(c,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),eI(s,c);const p=new Qr(h.target,c,u,h.sequenceNumber);Zg(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await ud(t,r)}}async function ud(t,e,n){if(!Wo(e))throw e;t.L_.add(1),await Kl(t),t.q_.set("Offline"),n||(n=()=>Qx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await oh(t)})}function nI(t,e){return e().catch(n=>ud(t,n,e))}async function ah(t){const e=oe(t),n=_i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_3(e);)try{const i=await n3(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,E3(e,i)}catch(i){await ud(e,i)}rI(e)&&iI(e)}function _3(t){return Ts(t)&&t.O_.length<10}function E3(t,e){t.O_.push(e);const n=_i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function rI(t){return Ts(t)&&!_i(t).n_()&&t.O_.length>0}function iI(t){_i(t).start()}async function w3(t){_i(t).p_()}async function T3(t){const e=_i(t);for(const n of t.O_)e.m_(n.mutations)}async function S3(t,e,n){const r=t.O_.shift(),i=Gg.from(r,e,n);await nI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ah(t)}async function x3(t,e){e&&_i(t).V_&&await async function(r,i){if(function(o){return cD(o)&&o!==W.ABORTED}(i.code)){const s=r.O_.shift();_i(r).s_(),await nI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ah(r)}}(t,e),rI(t)&&iI(t)}async function s1(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.L_.add(3),await Kl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await oh(n)}async function I3(t,e){const n=oe(t);e?(n.L_.delete(2),await oh(n)):e||(n.L_.add(2),await Kl(n),n.q_.set("Unknown"))}function Ho(t){return t.K_||(t.K_=function(n,r,i){const s=oe(n);return s.w_(),new u3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:m3.bind(null,t),Ro:g3.bind(null,t),mo:y3.bind(null,t),d_:v3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ty(t)?ey(t):t.q_.set("Unknown")):(await t.K_.stop(),tI(t))})),t.K_}function _i(t){return t.U_||(t.U_=function(n,r,i){const s=oe(n);return s.w_(),new d3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:w3.bind(null,t),mo:x3.bind(null,t),f_:T3.bind(null,t),g_:S3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ah(t)):(await t.U_.stop(),t.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ny(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(t,e){if(mr("AsyncQueue",`${e}: ${t}`),Wo(t))return new te(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Aa(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.W_=new De(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Po{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Po(e,n,po.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class C3{constructor(){this.queries=a1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=oe(n),s=i.queries;i.queries=a1(),s.forEach((o,a)=>{for(const c of a.j_)c.onError(r)})})(this,new te(W.ABORTED,"Firestore shutting down"))}}function a1(){return new Es(t=>Ix(t),eh)}async function A3(t,e){const n=oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new b3,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ry(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&iy(n)}async function R3(t,e){const n=oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k3(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&iy(n)}function P3(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function iy(t){t.Y_.forEach(e=>{e.next()})}var cm,l1;(l1=cm||(cm={})).ea="default",l1.Cache="cache";class N3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.key=e}}class oI{constructor(e){this.key=e}}class O3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=bx(e),this.Ra=new po(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new o1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const m=i.get(h),y=th(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),C=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;m&&y?m.data.isEqual(y.data)?S!==C&&(r.track({type:3,doc:y}),b=!0):this.ga(m,y)||(r.track({type:2,doc:y}),b=!0,(c&&this.Aa(y,c)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),b=!0):m&&!y&&(r.track({type:1,doc:m}),b=!0,(c||u)&&(a=!0)),b&&(y?(o=o.add(y),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(y,S){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return C(y)-C(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Po(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new o1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new oI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sI(r))}),n}ba(e){this.Ta=e.Ts,this.da=he();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Po.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class L3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D3{constructor(e){this.key=e,this.va=!1}}class M3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Es(a=>Ix(a),eh),this.Ma=new Map,this.xa=new Set,this.Oa=new De(ne.comparator),this.Na=new Map,this.La=new Yg,this.Ba={},this.ka=new Map,this.qa=ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function j3(t,e,n=!0){const r=hI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await aI(r,e,n,!0),i}async function V3(t,e){const n=hI(t);await aI(n,e,!0,!1)}async function aI(t,e,n,r){const i=await r3(t.localStore,Un(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await F3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Zx(t.remoteStore,i),a}async function F3(t,e,n,r,i){t.Ka=(p,m,y)=>async function(C,b,E,_){let T=b.view.ma(E);T.ns&&(T=await n1(C.localStore,b.query,!1).then(({documents:w})=>b.view.ma(w,T)));const P=_&&_.targetChanges.get(b.targetId),D=_&&_.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(T,C.isPrimaryClient,P,D);return u1(C,b.targetId,O.wa),O.snapshot}(t,p,m,y);const s=await n1(t.localStore,e,!0),o=new O3(e,s.Ts),a=o.ma(s.documents),c=ql.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);u1(t,n,u.wa);const h=new L3(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function U3(t,e,n){const r=oe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!eh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jg(r.remoteStore,i.targetId),um(r,i.targetId)}).catch($o)):(um(r,i.targetId),await lm(r.localStore,i.targetId,!0))}async function z3(t,e){const n=oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jg(n.remoteStore,r.targetId))}async function B3(t,e,n){const r=Y3(t);try{const i=await function(o,a){const c=oe(o),u=Ze.now(),h=a.reduce((y,S)=>y.add(S.key),he());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=gr(),C=he();return c.cs.getEntries(y,h).next(b=>{S=b,S.forEach((E,_)=>{_.isValidDocument()||(C=C.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,S)).next(b=>{p=b;const E=[];for(const _ of a){const T=iD(_,p.get(_.key).overlayedDocument);T!=null&&E.push(new ws(_.key,T,vx(T.value.mapValue),or.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,E,a)}).next(b=>{m=b;const E=b.applyToLocalDocumentSet(p,C);return c.documentOverlayCache.saveOverlays(y,b.batchId,E)})}).then(()=>({batchId:m.batchId,changes:Ax(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new De(me)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Yl(r,i.changes),await ah(r.remoteStore)}catch(i){const s=ry(i,"Failed to persist write");n.reject(s)}}async function lI(t,e){const n=oe(t);try{const r=await e3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?we(o.va):i.removedDocuments.size>0&&(we(o.va),o.va=!1))}),await Yl(n,r,e)}catch(r){await $o(r)}}function c1(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=oe(o);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(const m of p.j_)m.Z_(a)&&(u=!0)}),u&&iy(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $3(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new De(ne.comparator);o=o.insert(s,Et.newNoDocument(s,se.min()));const a=he().add(s),c=new ih(se.min(),new Map,new De(me),o,a);await lI(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),sy(r)}else await lm(r.localStore,e,!1).then(()=>um(r,e,n)).catch($o)}async function W3(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await ZD(n.localStore,e);uI(n,r,null),cI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(n,i)}catch(i){await $o(i)}}async function H3(t,e,n){const r=oe(t);try{const i=await function(o,a){const c=oe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(we(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);uI(r,e,n),cI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yl(r,i)}catch(i){await $o(i)}}function cI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function uI(t,e,n){const r=oe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function um(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||dI(t,r)})}function dI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Jg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),sy(t))}function u1(t,e,n){for(const r of n)r instanceof sI?(t.La.addReference(r.key,e),G3(t,r)):r instanceof oI?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||dI(t,r.key)):ie()}function G3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.xa.add(r),sy(t))}function sy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(Ve.fromString(e)),r=t.qa.next();t.Na.set(r,new D3(n)),t.Oa=t.Oa.insert(n,r),Zx(t.remoteStore,new Qr(Un(Wg(n.path)),r,"TargetPurposeLimboResolution",Qd.oe))}}async function Yl(t,e,n){const r=oe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);const p=Xg.Wi(c.targetId,u);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const h=oe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(u,m=>B.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>B.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Wo(p))throw p;Q("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=h.os.get(m),S=y.snapshotVersion,C=y.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,C)}}}(r.localStore,s))}async function q3(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await Yx(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new te(W.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yl(n,r.hs)}}function K3(t,e){const n=oe(t),r=n.Na.get(e);if(r&&r.va)return he().add(r.key);{let i=he();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function hI(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$3.bind(null,e),e.Ca.d_=k3.bind(null,e.eventManager),e.Ca.$a=P3.bind(null,e.eventManager),e}function Y3(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H3.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return JD(this.persistence,new QD,e.initialUser,this.serializer)}Ga(e){return new Kx(Qg.Zr,this.serializer)}Wa(e){return new s3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class Q3 extends dd{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){we(this.persistence.referenceDelegate instanceof cd);const r=this.persistence.referenceDelegate.garbageCollector;return new DD(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new Kx(r=>cd.Zr(r,n),this.serializer)}}class dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=q3.bind(null,this.syncEngine),await I3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C3}()}createDatastore(e){const n=sh(e.databaseInfo.databaseId),r=function(s){return new c3(s)}(e.databaseInfo);return function(s,o,a,c){return new h3(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new p3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>c1(this.syncEngine,n,0),function(){return i1.D()?new i1:new o3}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,h){const p=new M3(i,s,o,a,c,u);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=oe(i);Q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Kl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=mx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sf(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Yx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z3(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>s1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>s1(e.remoteStore,i)),t._onlineComponents=e}async function Z3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Sf(t,new dd)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Sf(t,new Q3(void 0));return t._offlineComponents}async function fI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await d1(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await d1(t,new dm))),t._onlineComponents}function eM(t){return fI(t).then(e=>e.syncEngine)}async function tM(t){const e=await fI(t),n=e.eventManager;return n.onListen=j3.bind(null,e.syncEngine),n.onUnlisten=U3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z3.bind(null,e.syncEngine),n}function nM(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new X3({next:m=>{h.Za(),o.enqueueAndForget(()=>R3(s,p));const y=m.docs.has(a);!y&&m.fromCache?u.reject(new te(W.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new te(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new N3(Wg(a.path),h,{includeMetadataChanges:!0,_a:!0});return A3(s,p)}(await tM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e,n){if(!n)throw new te(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iM(t,e,n,r){if(e===!0&&r===!0)throw new te(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f1(t){if(!ne.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function bl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oy(t);throw new te(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ay{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uL;switch(r.type){case"firstParty":return new pL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h1.get(n);r&&(Q("ComponentProvider","Removing Datastore"),h1.delete(n),r.terminate())}(this),Promise.resolve()}}function sM(t,e,n,r={}){var i;const s=(t=bl(t,ay))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=vt.MOCK_USER;else{a=xP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new te(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new vt(u)}t._authCredentials=new dL(new px(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ly(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Cl extends ly{constructor(e,n,r){super(e,n,Wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ne(e))}withConverter(e){return new Cl(this.firestore,e,this._path)}}function Ke(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=mx.newId()),rM("doc","path",e),t instanceof ay){const r=Ve.fromString(e,...n);return f1(r),new dn(t,null,new ne(r))}{if(!(t instanceof dn||t instanceof Cl))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return f1(r),new dn(t.firestore,t instanceof Cl?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xx(this,"async_queue_retry"),this.Vu=()=>{const r=Tf();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Tf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Tf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wo(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw mr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ny.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class cy extends ay{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new m1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m1(e),this._firestoreClient=void 0,await e}}}function Go(t,e){const n=typeof t=="object"?t:IS(),r=typeof t=="string"?t:"(default)",i=Cg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TP("firestore");s&&sM(i,...s)}return i}function mI(t){if(t._terminated)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oM(t),t._firestoreClient}function oM(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,u,h){return new RL(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,pI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new J3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(dt.fromBase64String(e))}catch(n){throw new te(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new No(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=/^__.*__$/;class lM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}function yI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class fy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yI(this.Cu)&&aM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sh(e)}Qu(e,n,r,i=!1){return new fy({Cu:e,methodName:n,qu:r,path:lt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uM(t){const e=t._freezeSettings(),n=sh(t._databaseId);return new cM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dM(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);wI("Data must be an object, but it was:",o,r);const a=_I(r,o);let c,u;if(s.merge)c=new Sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const m=hM(e,p,n);if(!o.contains(m))throw new te(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);pM(h,m)||h.push(m)}c=new Sn(h),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new lM(new ln(a),c,u)}function vI(t,e){if(EI(t=Ft(t)))return wI("Unsupported field value:",e,t),_I(t,e);if(t instanceof gI)return function(r,i){if(!yI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=vI(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ze.fromDate(r);return{timestampValue:ld(i.serializer,s)}}if(r instanceof Ze){const s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ld(i.serializer,s)}}if(r instanceof dy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof No)return{bytesValue:zx(i.serializer,r._byteString)};if(r instanceof dn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Kg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Hg(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${oy(r)}`)}(t,e)}function _I(t,e){const n={};return gx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(r,i)=>{const s=vI(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function EI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof dy||t instanceof No||t instanceof dn||t instanceof gI||t instanceof hy)}function wI(t,e,n){if(!EI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=oy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function hM(t,e,n){if((e=Ft(e))instanceof uy)return e._internalPath;if(typeof e=="string")return TI(t,e);throw hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const fM=new RegExp("[~\\*/\\[\\]]");function TI(t,e,n){if(e.search(fM)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uy(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te(W.INVALID_ARGUMENT,a+t+c)}function pM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mM extends SI{data(){return super.data()}}function xI(t,e){return typeof e=="string"?TI(t,e):e instanceof uy?e._internalPath:e._delegate._internalPath}class gM{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _s(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ze(o.doubleValue));return new hy(s)}convertGeoPoint(e){return new dy(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const n=gi(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);we(qx(r));const i=new Tl(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class II extends SI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _M(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _M extends II{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){t=bl(t,dn);const e=bl(t.firestore,cy);return nM(mI(e),t._key).then(n=>TM(e,t,n))}class EM extends gM{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function py(t,e,n){t=bl(t,dn);const r=bl(t.firestore,cy),i=yM(t.converter,e);return wM(r,[dM(uM(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,or.none())])}function wM(t,e){return function(r,i){const s=new li;return r.asyncQueue.enqueueAndForget(async()=>B3(await eM(r),i,s)),s.promise}(mI(t),e)}function TM(t,e,n){const r=n.docs.get(e._key),i=new EM(t);return new II(t,i,e._key,r,new vM(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Bo=i})(Uo),xo(new ls("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new cy(new hL(r.getProvider("auth-internal")),new gL(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ai(N_,"4.7.4",e),ai(N_,"4.7.4","esm2017")})();function SM(){const t=mn(An),e=Rn(t),n=Go(t),r=wr(),[i,s]=M.useState(!1);M.useEffect(()=>{(async()=>{const P=JSON.parse(localStorage.getItem("userId"));if(JSON.parse(localStorage.getItem("loggedIn"))){s(!0);const O=Ke(n,"generalInfo",P),w=await yt(O),v=Ke(n,"medicalHistory",P),I=await yt(v),R=Ke(n,"habits",P),N=await yt(R);w.exists()&&I.exists()&&N.exists()?(s(!1),r("/welcome")):(s(!1),r("/multi-form"))}})()});const[o,a]=M.useState(!1),c=()=>{a(!o)},[u,h]=M.useState(!1),[p,m]=M.useState(!1),[y,S]=M.useState(!1),C=async()=>{const T=document.getElementById("email").value,P=document.getElementById("password").value;if(!T&&!P){m(!0),S(!0);return}if(!T){m(!0);return}if(!P){S(!0);return}h(!0);try{const O=(await KO(e,T,P)).user,w=O.uid;if(localStorage.setItem("userId",JSON.stringify(w)),O){ge.success("Login Successful",{position:"top-center"});const v=Ke(n,"generalInfo",w),I=await yt(v),R=Ke(n,"medicalHistory",w),N=await yt(R),k=Ke(n,"habits",w),A=await yt(k);localStorage.setItem("loggedIn",JSON.stringify(!0)),I.exists()&&N.exists()&&A.exists()?setTimeout(()=>{r("/welcome")},1e3):setTimeout(()=>{r("/multi-form")},1e3)}}catch(D){D.code==="auth/invalid-credential"&&ge.error("Wrong Email Or Password.",{position:"top-center"})}h(!1)},[b,E]=M.useState(!1),_=async()=>{E(!0);try{const T=new Jn,D=(await v4(e,T)).user,O=D.uid;if(localStorage.setItem("userId",JSON.stringify(O)),D){ge.success("Login Successful",{position:"top-center"});const w=Ke(n,"generalInfo",O),v=await yt(w),I=Ke(n,"medicalHistory",O),R=await yt(I),N=Ke(n,"habits",O),k=await yt(N);localStorage.setItem("loggedIn",JSON.stringify(!0)),v.exists()&&R.exists()&&k.exists()?setTimeout(()=>{r("/welcome")},1e3):setTimeout(()=>{r("/multi-form")},1e3)}}catch(T){const P=T.code;ge.error(P,{position:"top-center"})}E(!1)};return f.jsxs(f.Fragment,{children:[f.jsx(Hd,{}),f.jsx("div",{className:"min-h-screen flex items-center justify-center p-5 login-form",children:f.jsxs("div",{className:"flex relative items-center shadow-lg rounded-3xl w-[800px] h-[500px] max-[800px]:flex-col max-[800px]:w-full gap-0 bg-white",children:[i?f.jsx("div",{className:"absolute top-0 left-0 w-full h-full rounded-3xl bg-black/[0.3] z-10",children:f.jsx("div",{className:"progress-bar",children:f.jsx("div",{className:"progress-bar-value"})})}):"",f.jsx("div",{className:"w-full h-full flex flex-col justify-center items-center rounded-3xl bg-[#262666]",children:f.jsx("p",{className:"text-center text-white text-4xl",children:"Welcome"})}),f.jsxs("div",{className:"flex flex-col gap-3 w-full p-5",children:[f.jsx("h1",{className:"text-center",children:"SIGN IN"}),f.jsx("p",{className:"text-center",children:"Sign in with email address"}),f.jsxs("form",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"border pl-2 flex items-center gap-2 ",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:mT})}),f.jsx("input",{className:"w-full py-1 px-2",type:"email",id:"email",name:"email",required:!0,placeholder:"Your Email","aria-label":"Type Your Email",onChange:()=>m(!1),onClick:()=>m(!1)})]}),p&&f.jsx("p",{className:"text-red-500",children:"Email Required."}),f.jsxs("div",{className:"border flex items-center gap-2 px-2",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:dT})}),f.jsx("input",{className:"w-full py-1 px-2",type:o?"text":"password",id:"password",name:"password",required:!0,placeholder:"Your Password","aria-label":"Type Your Password",onChange:()=>S(!1),onClick:()=>S(!1)}),f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:o?pT:hT,onClick:c})})]}),y&&f.jsx("p",{className:"text-red-500",children:"Password Required."}),f.jsx("div",{children:f.jsx("button",{className:`${u?"bg-gray-500":""} w-full rounded bg-[#262666] text-white p-2`,type:"button",onClick:C,disabled:u,children:u?"Submitting":"Sign In"})}),f.jsx("span",{className:"border-b"}),f.jsx("div",{className:"google-div",children:f.jsx("button",{className:`${b?"bg-gray-500":""} w-full flex items-center justify-center gap-2 rounded bg-[#262666] text-white p-2`,type:"button",onClick:_,disabled:b,children:b?"Submitting":f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("span",{children:f.jsx(xe,{icon:t2})}),"Continue with Google"]})})}),f.jsxs("div",{className:"flex justify-center items-center gap-2",children:[f.jsx("p",{children:"Do not have an account?"}),f.jsx("button",{className:"underline underline-offset-1 hover:text-[#262666] transition-colors",type:"button",onClick:()=>r("/sign-up"),children:"Sign Up"})]})]})]})]})})]})}function xM({totalSteps:t,step:e}){const n=(e-1)/(t-1)*100;return f.jsx("div",{className:"progress",style:{height:"4px",background:"#ddd",width:"100%",transition:"all 0.4s ease-in"},children:f.jsx("div",{style:{height:"4px",background:"#5913D3",width:`${n}%`,transition:"all 0.4s ease-in"}})})}var bI={exports:{}},CI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=M;function IM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bM=typeof Object.is=="function"?Object.is:IM,CM=Ql.useSyncExternalStore,AM=Ql.useRef,RM=Ql.useEffect,kM=Ql.useMemo,PM=Ql.useDebugValue;CI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=AM(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=kM(function(){function c(y){if(!u){if(u=!0,h=y,y=r(y),i!==void 0&&o.hasValue){var S=o.value;if(i(S,y))return p=S}return p=y}if(S=p,bM(h,y))return S;var C=r(y);return i!==void 0&&i(S,C)?S:(h=y,p=C)}var u=!1,h,p,m=n===void 0?null:n;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,n,r,i]);var a=CM(t,s[0],s[1]);return RM(function(){o.hasValue=!0,o.value=a},[a]),PM(a),a};bI.exports=CI;var NM=bI.exports,Gt="default"in Rf?_e:Rf,g1=Symbol.for("react-redux-context"),y1=typeof globalThis<"u"?globalThis:{};function OM(){if(!Gt.createContext)return{};const t=y1[g1]??(y1[g1]=new Map);let e=t.get(Gt.createContext);return e||(e=Gt.createContext(null),t.set(Gt.createContext,e)),e}var Ei=OM(),LM=()=>{throw new Error("uSES not initialized!")};function my(t=Ei){return function(){return Gt.useContext(t)}}var AI=my(),RI=LM,DM=t=>{RI=t},MM=(t,e)=>t===e;function jM(t=Ei){const e=t===Ei?AI:my(t),n=(r,i={})=>{const{equalityFn:s=MM,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:c,getServerState:u,stabilityCheck:h,identityFunctionCheck:p}=e();Gt.useRef(!0);const m=Gt.useCallback({[r.name](S){return r(S)}}[r.name],[r,h,o.stabilityCheck]),y=RI(c.addNestedSub,a.getState,u||a.getState,m,s);return Gt.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var VM=jM();function FM(t){t()}function UM(){let t=null,e=null;return{clear(){t=null,e=null},notify(){FM(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var v1={notify(){},get:()=>[]};function zM(t,e){let n,r=v1,i=0,s=!1;function o(C){h();const b=r.subscribe(C);let E=!1;return()=>{E||(E=!0,b(),p())}}function a(){r.notify()}function c(){S.onStateChange&&S.onStateChange()}function u(){return s}function h(){i++,n||(n=t.subscribe(c),r=UM())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=v1)}function m(){s||(s=!0,h())}function y(){s&&(s=!1,p())}const S={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return S}var BM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$M=typeof navigator<"u"&&navigator.product==="ReactNative",WM=BM||$M?Gt.useLayoutEffect:Gt.useEffect;function HM({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Gt.useMemo(()=>{const u=zM(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Gt.useMemo(()=>t.getState(),[t]);WM(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const c=e||Ei;return Gt.createElement(c.Provider,{value:o},n)}var GM=HM;function kI(t=Ei){const e=t===Ei?AI:my(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var qM=kI();function KM(t=Ei){const e=t===Ei?qM:kI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ci=KM();DM(NM.useSyncExternalStoreWithSelector);function st(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var YM=typeof Symbol=="function"&&Symbol.observable||"@@observable",_1=YM,xf=()=>Math.random().toString(36).substring(7).split("").join("."),QM={INIT:`@@redux/INIT${xf()}`,REPLACE:`@@redux/REPLACE${xf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xf()}`},fd=QM;function gy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function PI(t,e,n){if(typeof t!="function")throw new Error(st(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(st(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(st(1));return n(PI)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((b,E)=>{o.set(E,b)}))}function h(){if(c)throw new Error(st(3));return i}function p(b){if(typeof b!="function")throw new Error(st(4));if(c)throw new Error(st(5));let E=!0;u();const _=a++;return o.set(_,b),function(){if(E){if(c)throw new Error(st(6));E=!1,u(),o.delete(_),s=null}}}function m(b){if(!gy(b))throw new Error(st(7));if(typeof b.type>"u")throw new Error(st(8));if(typeof b.type!="string")throw new Error(st(17));if(c)throw new Error(st(9));try{c=!0,i=r(i,b)}finally{c=!1}return(s=o).forEach(_=>{_()}),b}function y(b){if(typeof b!="function")throw new Error(st(10));r=b,m({type:fd.REPLACE})}function S(){const b=p;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(st(11));function _(){const P=E;P.next&&P.next(h())}return _(),{unsubscribe:b(_)}},[_1](){return this}}}return m({type:fd.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:y,[_1]:S}}function XM(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:fd.INIT})>"u")throw new Error(st(12));if(typeof n(void 0,{type:fd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(st(13))})}function JM(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{XM(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let c=!1;const u={};for(let h=0;h<r.length;h++){const p=r[h],m=n[p],y=o[p],S=m(y,a);if(typeof S>"u")throw a&&a.type,new Error(st(14));u[p]=S,c=c||S!==y}return c=c||r.length!==Object.keys(o).length,c?u:o}}function pd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function ZM(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(st(15))};const o={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},a=t.map(c=>c(o));return s=pd(...a)(i.dispatch),{...i,dispatch:s}}}function ej(t){return gy(t)&&"type"in t&&typeof t.type=="string"}var NI=Symbol.for("immer-nothing"),E1=Symbol.for("immer-draftable"),Xt=Symbol.for("immer-state");function wn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Oo=Object.getPrototypeOf;function hs(t){return!!t&&!!t[Xt]}function yr(t){var e;return t?OI(t)||Array.isArray(t)||!!t[E1]||!!((e=t.constructor)!=null&&e[E1])||ch(t)||uh(t):!1}var tj=Object.prototype.constructor.toString();function OI(t){if(!t||typeof t!="object")return!1;const e=Oo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===tj}function md(t,e){lh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function lh(t){const e=t[Xt];return e?e.type_:Array.isArray(t)?1:ch(t)?2:uh(t)?3:0}function hm(t,e){return lh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function LI(t,e,n){const r=lh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function nj(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ch(t){return t instanceof Map}function uh(t){return t instanceof Set}function zi(t){return t.copy_||t.base_}function fm(t,e){if(ch(t))return new Map(t);if(uh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=OI(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Xt];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Oo(t),r)}else{const r=Oo(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function yy(t,e=!1){return dh(t)||hs(t)||!yr(t)||(lh(t)>1&&(t.set=t.add=t.clear=t.delete=rj),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>yy(r,!0))),t}function rj(){wn(2)}function dh(t){return Object.isFrozen(t)}var ij={};function fs(t){const e=ij[t];return e||wn(0,t),e}var Al;function DI(){return Al}function sj(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function w1(t,e){e&&(fs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function pm(t){mm(t),t.drafts_.forEach(oj),t.drafts_=null}function mm(t){t===Al&&(Al=t.parent_)}function T1(t){return Al=sj(Al,t)}function oj(t){const e=t[Xt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function S1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Xt].modified_&&(pm(e),wn(4)),yr(t)&&(t=gd(e,t),e.parent_||yd(e,t)),e.patches_&&fs("Patches").generateReplacementPatches_(n[Xt].base_,t,e.patches_,e.inversePatches_)):t=gd(e,n,[]),pm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==NI?t:void 0}function gd(t,e,n){if(dh(e))return e;const r=e[Xt];if(!r)return md(e,(i,s)=>x1(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return yd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),md(s,(a,c)=>x1(t,r,i,a,c,n,o)),yd(t,i,!1),n&&t.patches_&&fs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function x1(t,e,n,r,i,s,o){if(hs(i)){const a=s&&e&&e.type_!==3&&!hm(e.assigned_,r)?s.concat(r):void 0,c=gd(t,i,a);if(LI(n,r,c),hs(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(yr(i)&&!dh(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;gd(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&yd(t,i)}}function yd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&yy(e,n)}function aj(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=vy;n&&(i=[r],s=Rl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var vy={get(t,e){if(e===Xt)return t;const n=zi(t);if(!hm(n,e))return lj(t,n,e);const r=n[e];return t.finalized_||!yr(r)?r:r===If(t.base_,e)?(bf(t),t.copy_[e]=ym(r,t)):r},has(t,e){return e in zi(t)},ownKeys(t){return Reflect.ownKeys(zi(t))},set(t,e,n){const r=MI(zi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=If(zi(t),e),s=i==null?void 0:i[Xt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(nj(n,i)&&(n!==void 0||hm(t.base_,e)))return!0;bf(t),gm(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return If(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,bf(t),gm(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){wn(11)},getPrototypeOf(t){return Oo(t.base_)},setPrototypeOf(){wn(12)}},Rl={};md(vy,(t,e)=>{Rl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Rl.deleteProperty=function(t,e){return Rl.set.call(this,t,e,void 0)};Rl.set=function(t,e,n){return vy.set.call(this,t[0],e,n,t[0])};function If(t,e){const n=t[Xt];return(n?zi(n):t)[e]}function lj(t,e,n){var i;const r=MI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function MI(t,e){if(!(e in t))return;let n=Oo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Oo(n)}}function gm(t){t.modified_||(t.modified_=!0,t.parent_&&gm(t.parent_))}function bf(t){t.copy_||(t.copy_=fm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cj=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(c=s,...u){return o.produce(c,h=>n.call(this,h,...u))}}typeof n!="function"&&wn(6),r!==void 0&&typeof r!="function"&&wn(7);let i;if(yr(e)){const s=T1(this),o=ym(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?pm(s):mm(s)}return w1(s,r),S1(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===NI&&(i=void 0),this.autoFreeze_&&yy(i,!0),r){const s=[],o=[];fs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else wn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,c=>e(c,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){yr(t)||wn(8),hs(t)&&(t=uj(t));const e=T1(this),n=ym(t,void 0);return n[Xt].isManual_=!0,mm(e),n}finishDraft(t,e){const n=t&&t[Xt];(!n||!n.isManual_)&&wn(9);const{scope_:r}=n;return w1(r,e),S1(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=fs("Patches").applyPatches_;return hs(t)?r(t,e):this.produce(t,i=>r(i,e))}};function ym(t,e){const n=ch(t)?fs("MapSet").proxyMap_(t,e):uh(t)?fs("MapSet").proxySet_(t,e):aj(t,e);return(e?e.scope_:DI()).drafts_.push(n),n}function uj(t){return hs(t)||wn(10,t),jI(t)}function jI(t){if(!yr(t)||dh(t))return t;const e=t[Xt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=fm(t,e.scope_.immer_.useStrictShallowCopy_)}else n=fm(t,!0);return md(n,(r,i)=>{LI(n,r,jI(i))}),e&&(e.finalized_=!1),n}var Jt=new cj,VI=Jt.produce;Jt.produceWithPatches.bind(Jt);Jt.setAutoFreeze.bind(Jt);Jt.setUseStrictShallowCopy.bind(Jt);Jt.applyPatches.bind(Jt);Jt.createDraft.bind(Jt);Jt.finishDraft.bind(Jt);function FI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var dj=FI(),hj=FI,fj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pd:pd.apply(null,arguments)};function I1(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Bn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>ej(r)&&r.type===t,n}var UI=class ka extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ka.prototype)}static get[Symbol.species](){return ka}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ka(...e[0].concat(this)):new ka(...e.concat(this))}};function b1(t){return yr(t)?VI(t,()=>{}):t}function C1(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Bn(10));const r=n.insert(e,t);return t.set(e,r),r}function pj(t){return typeof t=="boolean"}var mj=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new UI;return n&&(pj(n)?o.push(dj):o.push(hj(n.extraArgument))),o},gj="RTK_autoBatch",zI=t=>e=>{setTimeout(e,t)},yj=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zI(10),vj=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?yj:t.type==="callback"?t.queueNotification:zI(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),m=r.subscribe(p);return a.add(h),()=>{m(),a.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[gj]),s=!i,s&&(o||(o=!0,c(u))),r.dispatch(h)}finally{i=!0}}})},_j=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new UI(t);return r&&i.push(vj(typeof r=="object"?r:void 0)),i};function Ej(t){const e=mj(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(gy(n))a=JM(n);else throw new Error(Bn(1));let c;typeof r=="function"?c=r(e):c=e();let u=pd;i&&(u=fj({trace:!1,...typeof i=="object"&&i}));const h=ZM(...c),p=_j(h);let m=typeof o=="function"?o(p):p();const y=u(...m);return PI(a,s,y)}function BI(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Bn(28));if(a in e)throw new Error(Bn(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function wj(t){return typeof t=="function"}function Tj(t,e){let[n,r,i]=BI(e),s;if(wj(t))s=()=>b1(t());else{const a=b1(t);s=()=>a}function o(a=s(),c){let u=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[i]),u.reduce((h,p)=>{if(p)if(hs(h)){const y=p(h,c);return y===void 0?h:y}else{if(yr(h))return VI(h,m=>p(m,c));{const m=p(h,c);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},a)}return o.getInitialState=s,o}var Sj=Symbol.for("rtk-slice-createasyncthunk");function xj(t,e){return`${t}/${e}`}function Ij({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Sj];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Bn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(Cj()):i.reducers)||{},c=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(T,P){const D=typeof T=="string"?T:T.type;if(!D)throw new Error(Bn(12));if(D in u.sliceCaseReducersByType)throw new Error(Bn(13));return u.sliceCaseReducersByType[D]=P,h},addMatcher(T,P){return u.sliceMatchers.push({matcher:T,reducer:P}),h},exposeAction(T,P){return u.actionCreators[T]=P,h},exposeCaseReducer(T,P){return u.sliceCaseReducersByName[T]=P,h}};c.forEach(T=>{const P=a[T],D={reducerName:T,type:xj(s,T),createNotation:typeof i.reducers=="function"};Rj(P)?Pj(D,P,h,e):Aj(D,P,h)});function p(){const[T={},P=[],D=void 0]=typeof i.extraReducers=="function"?BI(i.extraReducers):[i.extraReducers],O={...T,...u.sliceCaseReducersByType};return Tj(i.initialState,w=>{for(let v in O)w.addCase(v,O[v]);for(let v of u.sliceMatchers)w.addMatcher(v.matcher,v.reducer);for(let v of P)w.addMatcher(v.matcher,v.reducer);D&&w.addDefaultCase(D)})}const m=T=>T,y=new Map;let S;function C(T,P){return S||(S=p()),S(T,P)}function b(){return S||(S=p()),S.getInitialState()}function E(T,P=!1){function D(w){let v=w[T];return typeof v>"u"&&P&&(v=b()),v}function O(w=m){const v=C1(y,P,{insert:()=>new WeakMap});return C1(v,w,{insert:()=>{const I={};for(const[R,N]of Object.entries(i.selectors??{}))I[R]=bj(N,w,b,P);return I}})}return{reducerPath:T,getSelectors:O,get selectors(){return O(D)},selectSlice:D}}const _={name:s,reducer:C,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...E(o),injectInto(T,{reducerPath:P,...D}={}){const O=P??o;return T.inject({reducerPath:O,reducer:C},D),{..._,...E(O,!0)}}};return _}}function bj(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var $I=Ij();function Cj(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Aj({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!kj(r))throw new Error(Bn(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?I1(t,o):I1(t))}function Rj(t){return t._reducerDefinitionType==="asyncThunk"}function kj(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Pj({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Bn(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:c,settled:u,options:h}=n,p=i(t,s,h);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),a&&r.addCase(p.pending,a),c&&r.addCase(p.rejected,c),u&&r.addMatcher(p.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Wc,pending:a||Wc,rejected:c||Wc,settled:u||Wc})}function Wc(){}function Bn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Nj={value:1},WI=$I({name:"formStep",initialState:Nj,reducers:{getFormStep:(t,e)=>{t.value=e.payload}}}),{getFormStep:vr}=WI.actions,Oj=WI.reducer;function Lj(){const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(""),o=Ci(),a=mn(An),c=Rn(a),u=Go(a),h=JSON.parse(localStorage.getItem("userId"));M.useEffect(()=>{const m=document.getElementById("full-name"),y=document.getElementById("contact"),S=document.getElementById("age"),C=document.getElementById("weight"),b=document.getElementById("height"),E=document.getElementById("occupation"),_=document.getElementById("location");bi(c,async T=>{if(T){const P=Ke(u,"generalInfo",T.uid),D=await yt(P),O=[D.data()];D.exists()&&(O==null||O.map(w=>{m.value=w.name,y.value=w.contact,S.value=w.age,C.value=w.weight,b.value=w.height,E.value=w.occupation,_.value=w.location}))}})},[c,u]);const p=async()=>{const m=document.getElementById("full-name"),y=document.getElementById("age"),S=document.getElementById("duration"),C=document.getElementById("weight"),b=document.getElementById("weight-unit"),E=document.getElementById("height-unit"),_=document.getElementById("height"),T=document.getElementById("occupation"),P=document.getElementById("ethnicity"),D=document.getElementById("gender"),O=document.getElementById("contact"),w=document.getElementById("location"),v=document.getElementById("weight-div"),I=document.getElementById("height-div");if(m.value===""){m.style.border="1px solid red",m.classList.add("error-highlight");return}if(y.value===""||Number(y.value)<=0){y.style.border="1px solid red",y.value="Please Enter Age",y.classList.add("error-highlight");return}if(T.value===""){T.style.border="1px solid red",T.classList.add("error-highlight");return}if(C.value===""||Number(C.value)<=0){v.style.border="1px solid red";return}if(_.value===""||Number(_.value)<=0){I.style.border="1px solid red";return}o(vr(2)),await py(Ke(u,"generalInfo",h),{name:m.value,contact:O.value,age:y.value,duration:S.value,occupation:T.value,location:w.value,weight:C.value,weightUnit:b.value,height:_.value,heightUnit:E.value,ethnicity:P.value,gender:D.value})};return f.jsxs("div",{className:"form-container",children:[f.jsx("h2",{children:"General Information"}),f.jsxs("form",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 gap-3",children:[f.jsx("input",{type:"text",name:"full-name",id:"full-name",placeholder:"Full Name",onChange:m=>{m.target.style.border="1px solid #ddd",m.target.classList.remove("error-highlight")}}),f.jsx("input",{type:"text",name:"contact",id:"contact",placeholder:"Contact Number (Optional)"})]}),f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 gap-3",children:[f.jsx("input",{className:"w-full",type:"text",name:"age",id:"age",value:t,placeholder:"Your Age",min:"1",onChange:m=>{const y=m.target.value.replace(/^0+|[^0-9.]/g,"").replace(/^0([1-9])/,"$1").replace(/(\.[0-9]*)\./g,"$1");m.target.style.border="1px solid #ddd",m.target.classList.remove("error-highlight"),e(y)},onClick:m=>{m.target.value="",m.target.style.border="1px solid #ddd",m.target.classList.remove("error-highlight")}}),f.jsxs("select",{className:"w-full",name:"duration",id:"duration",defaultValue:"years",children:[f.jsx("option",{value:"years",children:"Years"}),f.jsx("option",{value:"months",children:"Months"})]})]}),f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 gap-3",children:[f.jsx("input",{className:"w-full",type:"text",name:"occupation",id:"occupation",placeholder:"Your Occupation",onChange:m=>{m.target.style.border="1px solid #ddd",m.target.classList.remove("error-highlight")}}),f.jsx("input",{className:"w-full",type:"text",name:"location",id:"location",placeholder:"Your Location (Optional)"})]}),f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 gap-3",children:[f.jsxs("div",{className:"flex max-[500px]:mb-[1rem] w-full border rounded-[4px] ",id:"weight-div",children:[f.jsx("input",{className:"w-full weight",type:"text",min:"1",id:"weight",name:"weight",value:n,placeholder:"Your Weight",onChange:m=>{const y=m.target.value.replace(/^0+|[^0-9.]/g,"").replace(/^0([1-9])/,"$1").replace(/(\.[0-9]*)\./g,"$1"),S=document.getElementById("weight-div");S.style.border="1px solid #ddd",r(y)}}),f.jsxs("select",{name:"weight-unit",id:"weight-unit",defaultValue:"kg",children:[f.jsx("option",{value:"kg",children:"kg"}),f.jsx("option",{value:"lbs",children:"lbs"})]})]}),f.jsxs("div",{className:"flex max-[500px]:mb-[1rem] w-full border rounded-[4px]",id:"height-div",children:[f.jsx("input",{className:"w-full height",type:"text",min:"1",id:"height",name:"height",value:i,placeholder:"Your Height",onChange:m=>{const y=m.target.value.replace(/^0+|[^0-9.]/g,"").replace(/^0([1-9])/,"$1").replace(/(\.[0-9]*)\./g,"$1"),S=document.getElementById("height-div");S.style.border="1px solid #ddd",s(y)}}),f.jsxs("select",{name:"height-unit",id:"height-unit",defaultValue:"ft",children:[f.jsx("option",{value:"ft",children:"ft"}),f.jsx("option",{value:"cm",children:"cm"})]})]})]}),f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 mt-[1rem] max-[500px]:mt-0 gap-3",children:[f.jsx("div",{className:"w-full",children:f.jsxs("select",{name:"ethnicity",id:"ethnicity",defaultValue:"south_asian",children:[f.jsx("option",{value:"south_asian",children:"South Asian"}),f.jsx("option",{value:"east_asian",children:"East Asian"}),f.jsx("option",{value:"african",children:"African"}),f.jsx("option",{value:"middle_eastern",children:"Middle Eastern"}),f.jsx("option",{value:"european",children:"European"}),f.jsx("option",{value:"hispanic_or_latino",children:"Hispanic or Latino"}),f.jsx("option",{value:"pacific_islander",children:"Pacific Islander"}),f.jsx("option",{value:"other",children:"Multiracial or Other"})]})}),f.jsx("div",{className:"w-full",children:f.jsxs("select",{name:"gender",id:"gender",defaultValue:"male",children:[f.jsx("option",{value:"male",children:"Male"}),f.jsx("option",{value:"female",children:"Female"})]})})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"btn",type:"button",onClick:p,children:"Next"})})]})]})}function Dj(){const t=Ci(),e=mn(An),n=Rn(e),r=Go(e),i=JSON.parse(localStorage.getItem("userId"));M.useEffect(()=>{const a=document.getElementById("health-condition"),c=document.getElementById("family-health"),u=document.getElementById("allergies"),h=document.getElementById("surgical-history"),p=document.getElementById("medications"),m=document.getElementById("previous-medications");bi(n,async y=>{if(y){const S=Ke(r,"medicalHistory",y.uid),C=await yt(S),b=[C.data()];C.exists()&&(b==null||b.map(E=>{a.value=E.healthCondition,c.value=E.familyHealth,u.value=E.allergies,h.value=E.surgicalHistory,p.value=E.medications,m.value=E.previousMedications}))}})},[n,r]);const s=async()=>{const a=document.getElementById("health-condition"),c=document.getElementById("family-health"),u=document.getElementById("allergies"),h=document.getElementById("surgical-history"),p=document.getElementById("medications"),m=document.getElementById("previous-medications");t(vr(3)),await py(Ke(r,"medicalHistory",i),{healthCondition:a.value,familyHealth:c.value,allergies:u.value,surgicalHistory:h.value,medications:p.value,previousMedications:m.value})},o=()=>{t(vr(1))};return f.jsxs("div",{className:"form-container",children:[f.jsx("h2",{children:"Medical History"}),f.jsxs("form",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"health-condition",children:"Chronic And Past Health Conditions"}),f.jsxs("select",{name:"health-condition",id:"health-condition",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"yes",children:"Yes"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"family-health",children:"Family Health History"}),f.jsxs("select",{name:"family-health",id:"family-health",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"Yes",children:"Yes"})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"allergies",children:"Known Allergies"}),f.jsxs("select",{name:"allergies",id:"allergies",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"yes",children:"Yes"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"surgical-history",children:"Surgical History"}),f.jsxs("select",{name:"surgical-history",id:"surgical-history",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"Yes",children:"Yes"})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"medications",children:"Current Medications"}),f.jsxs("select",{name:"medications",id:"medications",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"yes",children:"Yes"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"previous-medications",children:"Previously Taken Medications"}),f.jsxs("select",{name:"previous-medications",id:"previous-medications",defaultValue:"no",children:[f.jsx("option",{value:"",disabled:!0,children:"Last 6 months"}),f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"Yes",children:"Yes"})]})]})]}),f.jsxs("div",{className:"btns max-[400px]:flex-col",children:[f.jsx("button",{className:"btn",type:"button",onClick:o,children:"Prev"}),f.jsx("button",{className:"btn",type:"button",onClick:s,children:"Next"})]})]})]})}function Mj(){const t=Ci(),e=mn(An),n=Rn(e),r=Go(e),i=JSON.parse(localStorage.getItem("userId")),s=wr();M.useEffect(()=>{const c=document.getElementById("smoking-intensity"),u=document.getElementById("alcohol-intake"),h=document.getElementById("dietary-habits"),p=document.getElementById("activity-level"),m=document.getElementById("sleep-pattern"),y=document.getElementById("stress-level");bi(n,async S=>{if(S){const C=Ke(r,"habits",S.uid),b=await yt(C),E=[b.data()];b.exists()&&(E==null||E.map(_=>{c.value=_.smokingIntensity,u.value=_.alcoholIntake,h.value=_.dietaryHabits,p.value=_.activityLevel,m.value=_.sleepPattern,y.value=_.stressLevel}))}})},[n,r]);const o=()=>{t(vr(2))},a=async()=>{const c=document.getElementById("smoking-intensity"),u=document.getElementById("alcohol-intake"),h=document.getElementById("dietary-habits"),p=document.getElementById("activity-level"),m=document.getElementById("sleep-pattern"),y=document.getElementById("stress-level");await py(Ke(r,"habits",i),{smokingIntensity:c.value,alcoholIntake:u.value,dietaryHabits:h.value,activityLevel:p.value,sleepPattern:m.value,stressLevel:y.value}),s("/welcome")};return f.jsxs("div",{className:"form-container",children:[f.jsx("h2",{children:"Life Patterns And Habits"}),f.jsxs("form",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"smoking-intensity",children:"Daily Smoking Intensity"}),f.jsxs("select",{name:"smoking-intensity",id:"smoking-intensity",defaultValue:"Non Smoker",children:[f.jsx("option",{value:"Non Smoker",children:"Non Smoker"}),f.jsx("option",{value:"1-10 cigrettes",children:"1-10 cigrettes"}),f.jsx("option",{value:"About 1 Pack",children:"About 1 Pack"}),f.jsx("option",{value:"More Than 1 Pack",children:"More Than 1 Pack"}),f.jsx("option",{value:"Electronic cigrettes/Vaping",children:"Electronic cigrettes/Vaping"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"alcohol-intake",children:"Weekly Alcohol Intake"}),f.jsxs("select",{name:"alcohol-intake",id:"alcohol-intake",defaultValue:"Non Drinker",children:[f.jsx("option",{value:"Non Drinker",children:"Non Drinker"}),f.jsx("option",{value:"1-3 standard drinks",children:"1-3 standard drinks"}),f.jsx("option",{value:"4-7 standard drinks",children:"4-7 standard drinks"}),f.jsx("option",{value:"8-14 standard drinks",children:"8-14 standard drinks"}),f.jsx("option",{value:"15+ standard drinks",children:"15+ standard drinks"})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"dietary-habits",children:"Dietary Habits"}),f.jsxs("select",{name:"dietary-habits",id:"dietary-habits",defaultValue:"Non-specific Diet",children:[f.jsx("option",{value:"Non-specific Diet",children:"Non-specific Diet"}),f.jsx("option",{value:"Balanced Meals",children:"Balanced Meals"}),f.jsx("option",{value:"Frequent Fast Food",children:"Frequent Fast Food"}),f.jsx("option",{value:"Specific Diet Plan",children:"Specific Diet Plan"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"activity-level",children:"Weekly Physical Activity Level"}),f.jsxs("select",{name:"activity-level",id:"activity-level",defaultValue:"Inactive",children:[f.jsx("option",{value:"Inactive",children:"Inactive"}),f.jsx("option",{value:"Lightly Active",children:"Lightly Active"}),f.jsx("option",{value:"Moderately Active",children:"Moderately Active"}),f.jsx("option",{value:"Very Active",children:"Very Active"})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"sleep-pattern",children:"Daily Sleep Pattern"}),f.jsxs("select",{name:"sleep-pattern",id:"sleep-pattern",defaultValue:"no",children:[f.jsx("option",{value:"7-9 hours",children:"7-9 hours"}),f.jsx("option",{value:"Less than 6 hours",children:"Less than 6 hours"}),f.jsx("option",{value:"More than 9 hours",children:"More than 9 hours"}),f.jsx("option",{value:"Varies Significantly or Interrupted Sleep",children:"Varies Significantly or Interrupted Sleep"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"stress-level",children:"Stress Level"}),f.jsxs("select",{name:"stress-level",id:"stress-level",defaultValue:"Rarely Stressed",children:[f.jsx("option",{value:"",disabled:!0,children:"Last 6 months"}),f.jsx("option",{value:"Rarely Stressed",children:"Rarely Stressed"}),f.jsx("option",{value:"Manageable Stress",children:"Manageable Stress"}),f.jsx("option",{value:"Daily Stress",children:"Daily Stress"}),f.jsx("option",{value:"Always Stressed",children:"Always Stressed"})]})]})]}),f.jsxs("div",{className:"btns max-[400px]:flex-col",children:[f.jsx("button",{className:"btn",type:"button",onClick:o,children:"Prev"}),f.jsx("button",{className:"btn",type:"button",onClick:a,children:"Submit"})]})]})]})}function jj(){return f.jsx(Vj,{})}function Vj(){const t=VM(s=>{var o;return(o=s==null?void 0:s.formStep)==null?void 0:o.value}),[e,n]=M.useState(1),r=3;M.useEffect(()=>{n(t)},[t]);const i=()=>{switch(e){case 1:return f.jsx(Lj,{});case 2:return f.jsx(Dj,{});case 3:return f.jsx(Mj,{});default:return null}};return f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-5 login-form",children:f.jsxs("div",{className:"container max-[700px]:w-full ",children:[f.jsxs("div",{className:"progress_container",children:[f.jsx(xM,{totalSteps:r,step:e,className:"progress "}),f.jsx("div",{className:`${e>=1?"circle active":"circle"}`,children:"1"}),f.jsx("div",{className:`${e>=2?"circle active":"circle"}`,children:"2"}),f.jsx("div",{className:`${e>=3?"circle active":"circle"}`,children:"3"})]}),i()]})})}function Fj(){const t=mn(An),e=Rn(t),n=Go(t),r=wr(),[i,s]=M.useState([]),[o,a]=M.useState(!1);M.useEffect(()=>{bi(e,async p=>{if(p){a(!0);const m=p.uid,y=Ke(n,"generalInfo",m),S=await yt(y),C=[S.data()];S.exists()&&(s(C),a(!1))}})},[e,n,s]);const c=Ci(),u=async()=>{localStorage.clear(),c(vr(1));try{await Wl(e)}catch(p){console.log(p)}r("/")},h=()=>{r("/select-doctor")};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"min-h-screen flex flex-col gap-5 p-5 login-form",children:[f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded",type:"button",onClick:u,children:"Logout"})}),f.jsxs("div",{className:"min-h-[500px] relative flex flex-col gap-5 p-5 bg-blue-100 rounded ",children:[o?f.jsx("div",{className:"absolute top-0 left-0 w-full h-full rounded bg-black/[0.3] z-10",children:f.jsx("div",{className:"progress-bar-small",children:f.jsx("div",{className:"progress-bar-value-small"})})}):"",f.jsx("h1",{className:"gradient-text text-3xl font-bold",children:"Welcome"}),f.jsx("p",{className:"text-center ",children:"Your AI doctor! Get personalized medical advice and diagnosis from the comfort of your screen"}),f.jsxs("div",{className:"min-h-[300px] flex flex-col gap-5 p-5 bg-white shadow-md rounded",children:[f.jsxs("div",{className:"flex max-[600px]:flex-col items-center justify-between gap-3",children:[f.jsx("p",{className:"font-bold text-lg",children:"Patient Details"}),f.jsx("div",{children:f.jsx("button",{className:"btn",type:"button",onClick:()=>r("/view-profile"),children:"View Profile"})})]}),f.jsx("div",{className:"",children:i==null?void 0:i.map((p,m)=>f.jsxs("div",{className:"flex flex-col gap-3 max-[600px]:gap-0",children:[f.jsxs("div",{className:"flex max-[600px]:flex-col ",children:[f.jsxs("div",{className:"w-full flex flex-col gap-2 mb-2",children:[f.jsx("p",{className:"text-gray-500 font-bold text-xl",children:"Name"}),f.jsx("p",{className:"capitalize text-lg",children:p.name})]}),f.jsxs("div",{className:"w-full flex flex-col gap-2 mb-2",children:[f.jsx("p",{className:"text-gray-500 font-bold text-xl",children:"Age"}),f.jsxs("p",{className:"capitalize text-lg",children:[p.age," ",f.jsx("span",{children:p.duration})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col",children:[f.jsxs("div",{className:"w-full flex flex-col gap-2 mb-2",children:[f.jsx("p",{className:"text-gray-500 font-bold text-xl",children:"Occupation"}),f.jsx("p",{className:"capitalize text-lg",children:p.occupation})]}),f.jsxs("div",{className:"w-full flex flex-col gap-2 mb-2",children:[f.jsx("p",{className:"text-gray-500 font-bold text-xl",children:"Weight"}),f.jsxs("p",{className:"capitalize text-lg",children:[p.weight," ",f.jsx("span",{children:p.weightUnit})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col",children:[f.jsxs("div",{className:"w-full flex flex-col gap-2 mb-2",children:[f.jsx("p",{className:"text-gray-500 font-bold text-xl",children:"Contact"}),f.jsx("p",{className:"capitalize text-lg",children:p.contact===""?"N/A":p.contact})]}),f.jsxs("div",{className:"w-full flex flex-col gap-2 mb-2",children:[f.jsx("p",{className:"text-gray-500 font-bold text-xl",children:"Height"}),f.jsxs("p",{className:"capitalize text-lg",children:[p.height," ",f.jsx("span",{children:p.heightUnit})]})]})]}),f.jsx("div",{className:"flex max-[600px]:flex-col",children:f.jsxs("div",{className:"w-full flex flex-col gap-2 mb-2",children:[f.jsx("p",{className:"text-gray-500 font-bold text-xl",children:"Location"}),f.jsx("p",{className:"capitalize text-lg",children:p.location===""?"N/A":p.location})]})})]},m))}),f.jsx("div",{className:"flex max-[600px]:justify-center justify-end",children:f.jsx("button",{className:"btn",onClick:h,children:"Continue"})})]})]})]})})}function Uj(){const t=wr(),e=mn(An),n=Rn(e),r=Ci(),i=async()=>{localStorage.clear(),r(vr(1));try{await Wl(n)}catch(a){console.log(a)}t("/")},s=()=>{t("/doctors/female-consultant")},o=()=>{t("/doctors/male-consultant")};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"min-h-screen flex flex-col gap-5 p-5 login-form",children:[f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded",type:"button",onClick:i,children:"Logout"})}),f.jsxs("div",{className:"flex max-[600px]:flex-col justify-center gap-20 max-[600px]:gap-5",children:[f.jsxs("div",{className:"flex w-[300px] max-[600px]:w-full flex-col",children:[f.jsx("div",{className:"w-full h-[200px] flex justify-center items-center bg-white",children:f.jsx("img",{src:"./images/female2.png",alt:"female doctor",style:{width:"200px",height:"200px"}})}),f.jsxs("div",{className:"w-full flex flex-col items-center text-center text-white bg-blue-600 gap-5 p-5",children:[f.jsx("p",{className:"text-2xl font-bold",children:"Hi!"}),f.jsx("p",{className:"font-bold",children:"I am Doctor Fiona"}),f.jsx("p",{children:"Your AI powered Doctor. I will assist you in diagnosing your problem by asking step-by-step questions through chat."}),f.jsx("div",{children:f.jsx("button",{className:"rounded bg-white text-[#262666] py-1 px-2",type:"button",onClick:s,children:"Start Consultation"})})]})]}),f.jsxs("div",{className:"flex w-[300px] max-[600px]:w-full flex-col",children:[f.jsx("div",{className:"w-full h-[200px] flex justify-center items-center bg-white",children:f.jsx("img",{src:"./images/male-2.png",alt:"male doctor",style:{width:"200px",height:"200px"}})}),f.jsxs("div",{className:"w-full flex flex-col items-center text-center text-white bg-blue-600 gap-5 p-5",children:[f.jsx("p",{className:"text-2xl font-bold",children:"Hi!"}),f.jsx("p",{className:"font-bold",children:"I am Doctor House"}),f.jsx("p",{children:"Your AI powered Doctor. I will assist you in diagnosing your problem by asking step-by-step questions through chat."}),f.jsx("div",{children:f.jsx("button",{className:"rounded bg-white text-[#262666] py-1 px-2",type:"button",onClick:o,children:"Start Consultation"})})]})]})]})]})})}var zj={exports:{}};(function(t){var e=function(n){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(j,V,z){j[V]=z.value},o,a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",h=a.toStringTag||"@@toStringTag";function p(j,V,z){return Object.defineProperty(j,V,{value:z,enumerable:!0,configurable:!0,writable:!0}),j[V]}try{p({},"")}catch{p=function(V,z,G){return V[z]=G}}function m(j,V,z,G){var q=V&&V.prototype instanceof T?V:T,Z=Object.create(q.prototype),ae=new ue(G||[]);return s(Z,"_invoke",{value:k(j,z,ae)}),Z}n.wrap=m;function y(j,V,z){try{return{type:"normal",arg:j.call(V,z)}}catch(G){return{type:"throw",arg:G}}}var S="suspendedStart",C="suspendedYield",b="executing",E="completed",_={};function T(){}function P(){}function D(){}var O={};p(O,c,function(){return this});var w=Object.getPrototypeOf,v=w&&w(w(ee([])));v&&v!==r&&i.call(v,c)&&(O=v);var I=D.prototype=T.prototype=Object.create(O);P.prototype=D,s(I,"constructor",{value:D,configurable:!0}),s(D,"constructor",{value:P,configurable:!0}),P.displayName=p(D,h,"GeneratorFunction");function R(j){["next","throw","return"].forEach(function(V){p(j,V,function(z){return this._invoke(V,z)})})}n.isGeneratorFunction=function(j){var V=typeof j=="function"&&j.constructor;return V?V===P||(V.displayName||V.name)==="GeneratorFunction":!1},n.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,D):(j.__proto__=D,p(j,h,"GeneratorFunction")),j.prototype=Object.create(I),j},n.awrap=function(j){return{__await:j}};function N(j,V){function z(Z,ae,fe,Ee){var Fe=y(j[Z],j,ae);if(Fe.type==="throw")Ee(Fe.arg);else{var Ai=Fe.arg,nn=Ai.value;return nn&&typeof nn=="object"&&i.call(nn,"__await")?V.resolve(nn.__await).then(function(Rt){z("next",Rt,fe,Ee)},function(Rt){z("throw",Rt,fe,Ee)}):V.resolve(nn).then(function(Rt){Ai.value=Rt,fe(Ai)},function(Rt){return z("throw",Rt,fe,Ee)})}}var G;function q(Z,ae){function fe(){return new V(function(Ee,Fe){z(Z,ae,Ee,Fe)})}return G=G?G.then(fe,fe):fe()}s(this,"_invoke",{value:q})}R(N.prototype),p(N.prototype,u,function(){return this}),n.AsyncIterator=N,n.async=function(j,V,z,G,q){q===void 0&&(q=Promise);var Z=new N(m(j,V,z,G),q);return n.isGeneratorFunction(V)?Z:Z.next().then(function(ae){return ae.done?ae.value:Z.next()})};function k(j,V,z){var G=S;return function(Z,ae){if(G===b)throw new Error("Generator is already running");if(G===E){if(Z==="throw")throw ae;return $()}for(z.method=Z,z.arg=ae;;){var fe=z.delegate;if(fe){var Ee=A(fe,z);if(Ee){if(Ee===_)continue;return Ee}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(G===S)throw G=E,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);G=b;var Fe=y(j,V,z);if(Fe.type==="normal"){if(G=z.done?E:C,Fe.arg===_)continue;return{value:Fe.arg,done:z.done}}else Fe.type==="throw"&&(G=E,z.method="throw",z.arg=Fe.arg)}}}function A(j,V){var z=V.method,G=j.iterator[z];if(G===o)return V.delegate=null,z==="throw"&&j.iterator.return&&(V.method="return",V.arg=o,A(j,V),V.method==="throw")||z!=="return"&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+z+"' method")),_;var q=y(G,j.iterator,V.arg);if(q.type==="throw")return V.method="throw",V.arg=q.arg,V.delegate=null,_;var Z=q.arg;if(!Z)return V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,_;if(Z.done)V[j.resultName]=Z.value,V.next=j.nextLoc,V.method!=="return"&&(V.method="next",V.arg=o);else return Z;return V.delegate=null,_}R(I),p(I,h,"Generator"),p(I,c,function(){return this}),p(I,"toString",function(){return"[object Generator]"});function F(j){var V={tryLoc:j[0]};1 in j&&(V.catchLoc=j[1]),2 in j&&(V.finallyLoc=j[2],V.afterLoc=j[3]),this.tryEntries.push(V)}function Y(j){var V=j.completion||{};V.type="normal",delete V.arg,j.completion=V}function ue(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(F,this),this.reset(!0)}n.keys=function(j){var V=Object(j),z=[];for(var G in V)z.push(G);return z.reverse(),function q(){for(;z.length;){var Z=z.pop();if(Z in V)return q.value=Z,q.done=!1,q}return q.done=!0,q}};function ee(j){if(j!=null){var V=j[c];if(V)return V.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var z=-1,G=function q(){for(;++z<j.length;)if(i.call(j,z))return q.value=j[z],q.done=!1,q;return q.value=o,q.done=!0,q};return G.next=G}}throw new TypeError(typeof j+" is not iterable")}n.values=ee;function $(){return{value:o,done:!0}}return ue.prototype={constructor:ue,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Y),!j)for(var V in this)V.charAt(0)==="t"&&i.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=o)},stop:function(){this.done=!0;var j=this.tryEntries[0],V=j.completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var V=this;function z(Ee,Fe){return Z.type="throw",Z.arg=j,V.next=Ee,Fe&&(V.method="next",V.arg=o),!!Fe}for(var G=this.tryEntries.length-1;G>=0;--G){var q=this.tryEntries[G],Z=q.completion;if(q.tryLoc==="root")return z("end");if(q.tryLoc<=this.prev){var ae=i.call(q,"catchLoc"),fe=i.call(q,"finallyLoc");if(ae&&fe){if(this.prev<q.catchLoc)return z(q.catchLoc,!0);if(this.prev<q.finallyLoc)return z(q.finallyLoc)}else if(ae){if(this.prev<q.catchLoc)return z(q.catchLoc,!0)}else if(fe){if(this.prev<q.finallyLoc)return z(q.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,V){for(var z=this.tryEntries.length-1;z>=0;--z){var G=this.tryEntries[z];if(G.tryLoc<=this.prev&&i.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var q=G;break}}q&&(j==="break"||j==="continue")&&q.tryLoc<=V&&V<=q.finallyLoc&&(q=null);var Z=q?q.completion:{};return Z.type=j,Z.arg=V,q?(this.method="next",this.next=q.finallyLoc,_):this.complete(Z)},complete:function(j,V){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&V&&(this.next=V),_},finish:function(j){for(var V=this.tryEntries.length-1;V>=0;--V){var z=this.tryEntries[V];if(z.finallyLoc===j)return this.complete(z.completion,z.afterLoc),Y(z),_}},catch:function(j){for(var V=this.tryEntries.length-1;V>=0;--V){var z=this.tryEntries[V];if(z.tryLoc===j){var G=z.completion;if(G.type==="throw"){var q=G.arg;Y(z)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(j,V,z){return this.delegate={iterator:ee(j),resultName:V,nextLoc:z},this.method==="next"&&(this.arg=o),_}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(zj);var hh={},HI={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.browserSupportsPolyfills=Ot.compareTwoStringsUsingDiceCoefficient=Ot.commandToRegExp=Ot.concatTranscripts=Ot.debounce=void 0;var Bj=function(e,n,r){var i;return function(){var s=this,o=arguments,a=function(){i=null,r||e.apply(s,o)},c=r&&!i;clearTimeout(i),i=setTimeout(a,n),c&&e.apply(s,o)}};Ot.debounce=Bj;var $j=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(i){return i.trim()}).join(" ").trim()};Ot.concatTranscripts=$j;var Wj=/\s*\((.*?)\)\s*/g,Hj=/(\(\?:[^)]+\))\?/g,Gj=/(\(\?)?:\w+/g,qj=/\*/g,Kj=/[-{}[\]+?.,\\^$|#]/g,Yj=function(e){return e instanceof RegExp?new RegExp(e.source,"i"):(e=e.replace(Kj,"\\$&").replace(Wj,"(?:$1)?").replace(Gj,function(n,r){return r?n:"([^\\s]+)"}).replace(qj,"(.*?)").replace(Hj,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i"))};Ot.commandToRegExp=Yj;var Qj=function(e,n){if(e=e.replace(/\s+/g,"").toLowerCase(),n=n.replace(/\s+/g,"").toLowerCase(),!e.length&&!n.length)return 1;if(!e.length||!n.length)return 0;if(e===n)return 1;if(e.length===1&&n.length===1||e.length<2||n.length<2)return 0;for(var r=new Map,i=0;i<e.length-1;i++){var s=e.substring(i,i+2),o=r.has(s)?r.get(s)+1:1;r.set(s,o)}for(var a=0,c=0;c<n.length-1;c++){var u=n.substring(c,c+2),h=r.has(u)?r.get(u):0;h>0&&(r.set(u,h-1),a++)}return 2*a/(e.length+n.length-2)};Ot.compareTwoStringsUsingDiceCoefficient=Qj;var Xj=function(){return typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0)};Ot.browserSupportsPolyfills=Xj;var Lo={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.APPEND_TRANSCRIPT=ps.CLEAR_TRANSCRIPT=void 0;var Jj="CLEAR_TRANSCRIPT";ps.CLEAR_TRANSCRIPT=Jj;var Zj="APPEND_TRANSCRIPT";ps.APPEND_TRANSCRIPT=Zj;Object.defineProperty(Lo,"__esModule",{value:!0});Lo.appendTranscript=Lo.clearTranscript=void 0;var GI=ps,e6=function(){return{type:GI.CLEAR_TRANSCRIPT}};Lo.clearTranscript=e6;var t6=function(e,n){return{type:GI.APPEND_TRANSCRIPT,payload:{interimTranscript:e,finalTranscript:n}}};Lo.appendTranscript=t6;var fh={};Object.defineProperty(fh,"__esModule",{value:!0});fh.transcriptReducer=void 0;var A1=ps,n6=Ot,r6=function(e,n){switch(n.type){case A1.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case A1.APPEND_TRANSCRIPT:return{interimTranscript:n.payload.interimTranscript,finalTranscript:(0,n6.concatTranscripts)(e.finalTranscript,n.payload.finalTranscript)};default:throw new Error}};fh.transcriptReducer=r6;var qI={},_y={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){return/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"")};t.default=e})(_y);var Ey={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNative=void 0;var e=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),n=function(s){return s===e};t.isNative=n;var r=e;t.default=r})(Ey);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(_y),n=Ot,r=Ey;function i(p){return p&&p.__esModule?p:{default:p}}function s(p,m,y,S,C,b,E){try{var _=p[b](E),T=_.value}catch(P){y(P);return}_.done?m(T):Promise.resolve(T).then(S,C)}function o(p){return function(){var m=this,y=arguments;return new Promise(function(S,C){var b=p.apply(m,y);function E(T){s(b,S,C,E,_,"next",T)}function _(T){s(b,S,C,E,_,"throw",T)}E(void 0)})}}function a(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){for(var y=0;y<m.length;y++){var S=m[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}function u(p,m,y){return m&&c(p.prototype,m),p}var h=function(){function p(m){a(this,p),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(m),(0,e.default)()&&(this.updateFinalTranscript=(0,n.debounce)(this.updateFinalTranscript,250,!0))}return u(p,[{key:"setSpeechRecognition",value:function(y){var S=!!y&&((0,r.isNative)(y)||(0,n.browserSupportsPolyfills)());S&&(this.disableRecognition(),this.recognition=new y,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(S)}},{key:"subscribe",value:function(y,S){this.subscribers[y]=S}},{key:"unsubscribe",value:function(y){delete this.subscribers[y]}},{key:"emitListeningChange",value:function(y){var S=this;this.listening=y,Object.keys(this.subscribers).forEach(function(C){var b=S.subscribers[C].onListeningChange;b(y)})}},{key:"emitMicrophoneAvailabilityChange",value:function(y){var S=this;this.isMicrophoneAvailable=y,Object.keys(this.subscribers).forEach(function(C){var b=S.subscribers[C].onMicrophoneAvailabilityChange;b(y)})}},{key:"emitTranscriptChange",value:function(y,S){var C=this;Object.keys(this.subscribers).forEach(function(b){var E=C.subscribers[b].onTranscriptChange;E(y,S)})}},{key:"emitClearTranscript",value:function(){var y=this;Object.keys(this.subscribers).forEach(function(S){var C=y.subscribers[S].onClearTranscript;C()})}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(y){var S=this;Object.keys(this.subscribers).forEach(function(C){var b=S.subscribers[C],E=b.onBrowserSupportsSpeechRecognitionChange,_=b.onBrowserSupportsContinuousListeningChange;E(y),_(y)})}},{key:"disconnect",value:function(y){if(this.recognition&&this.listening)switch(y){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(y){y&&y.error&&y.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(y){var S=y.results,C=y.resultIndex,b=C===void 0?S.length-1:C;this.interimTranscript="",this.finalTranscript="";for(var E=b;E<S.length;++E)S[E].isFinal&&(!(0,e.default)()||S[E][0].confidence>0)?this.updateFinalTranscript(S[E][0].transcript):this.interimTranscript=(0,n.concatTranscripts)(this.interimTranscript,S[E][0].transcript);var _=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(_=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,_||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(y){this.finalTranscript=(0,n.concatTranscripts)(this.finalTranscript,y)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:function(){var m=o(regeneratorRuntime.mark(function S(){var C,b,E,_,T,P,D=arguments;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(C=D.length>0&&D[0]!==void 0?D[0]:{},b=C.continuous,E=b===void 0?!1:b,_=C.language,this.recognition){w.next=3;break}return w.abrupt("return");case 3:if(T=E!==this.recognition.continuous,P=_&&_!==this.recognition.lang,!(T||P)){w.next=11;break}if(!this.listening){w.next=9;break}return w.next=9,this.stopListening();case 9:this.recognition.continuous=T?E:this.recognition.continuous,this.recognition.lang=P?_:this.recognition.lang;case 11:if(this.listening){w.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),w.prev=13,w.next=16,this.start();case 16:this.emitListeningChange(!0),w.next=22;break;case 19:w.prev=19,w.t0=w.catch(13),w.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return w.stop()}},S,this,[[13,19]])}));function y(){return m.apply(this,arguments)}return y}()},{key:"abortListening",value:function(){var m=o(regeneratorRuntime.mark(function S(){var C=this;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),E.next=4,new Promise(function(_){C.onStopListening=_});case 4:case"end":return E.stop()}},S,this)}));function y(){return m.apply(this,arguments)}return y}()},{key:"stopListening",value:function(){var m=o(regeneratorRuntime.mark(function S(){var C=this;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),E.next=4,new Promise(function(_){C.onStopListening=_});case 4:case"end":return E.stop()}},S,this)}));function y(){return m.apply(this,arguments)}return y}()},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:function(){var m=o(regeneratorRuntime.mark(function S(){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(this.recognition&&!this.listening)){b.next=4;break}return b.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return b.stop()}},S,this)}));function y(){return m.apply(this,arguments)}return y}()},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}]),p}();t.default=h})(qI);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useSpeechRecognition=void 0;var e=M,n=Ot,r=Lo,i=fh,s=c(qI),o=c(_y),a=c(Ey);function c(k){return k&&k.__esModule?k:{default:k}}function u(k,A,F,Y,ue,ee,$){try{var j=k[ee]($),V=j.value}catch(z){F(z);return}j.done?A(V):Promise.resolve(V).then(Y,ue)}function h(k){return function(){var A=this,F=arguments;return new Promise(function(Y,ue){var ee=k.apply(A,F);function $(V){u(ee,Y,ue,$,j,"next",V)}function j(V){u(ee,Y,ue,$,j,"throw",V)}$(void 0)})}}function p(k){return S(k)||y(k)||_(k)||m()}function m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(k){if(typeof Symbol<"u"&&Symbol.iterator in Object(k))return Array.from(k)}function S(k){if(Array.isArray(k))return T(k)}function C(k){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(F){return typeof F}:C=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},C(k)}function b(k,A){return D(k)||P(k,A)||_(k,A)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(k,A){if(k){if(typeof k=="string")return T(k,A);var F=Object.prototype.toString.call(k).slice(8,-1);if(F==="Object"&&k.constructor&&(F=k.constructor.name),F==="Map"||F==="Set")return Array.from(k);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return T(k,A)}}function T(k,A){(A==null||A>k.length)&&(A=k.length);for(var F=0,Y=new Array(A);F<A;F++)Y[F]=k[F];return Y}function P(k,A){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(k)))){var F=[],Y=!0,ue=!1,ee=void 0;try{for(var $=k[Symbol.iterator](),j;!(Y=(j=$.next()).done)&&(F.push(j.value),!(A&&F.length===A));Y=!0);}catch(V){ue=!0,ee=V}finally{try{!Y&&$.return!=null&&$.return()}finally{if(ue)throw ee}}return F}}function D(k){if(Array.isArray(k))return k}var O=!!a.default,w=O&&!(0,o.default)(),v,I=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=A.transcribing,Y=F===void 0?!0:F,ue=A.clearTranscriptOnListen,ee=ue===void 0?!0:ue,$=A.commands,j=$===void 0?[]:$,V=(0,e.useState)(R.getRecognitionManager()),z=b(V,1),G=z[0],q=(0,e.useState)(O),Z=b(q,2),ae=Z[0],fe=Z[1],Ee=(0,e.useState)(w),Fe=b(Ee,2),Ai=Fe[0],nn=Fe[1],Rt=(0,e.useReducer)(i.transcriptReducer,{interimTranscript:G.interimTranscript,finalTranscript:""}),Ss=b(Rt,2),xs=Ss[0],Is=xs.interimTranscript,bs=xs.finalTranscript,qo=Ss[1],mh=(0,e.useState)(G.listening),Jl=b(mh,2),Zl=Jl[0],Ko=Jl[1],ec=(0,e.useState)(G.isMicrophoneAvailable),tc=b(ec,2),Yo=tc[0],Qo=tc[1],Xo=(0,e.useRef)(j);Xo.current=j;var He=function(){qo((0,r.clearTranscript)())},Ue=(0,e.useCallback)(function(){G.resetTranscript(),He()},[G]),Cs=function(Ge,rn,Gn){var sn=C(Ge)==="object"?Ge.toString():Ge,Ir=sn.replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),Ri=(0,n.compareTwoStringsUsingDiceCoefficient)(Ir,rn);return Ri>=Gn?{command:Ge,commandWithoutSpecials:Ir,howSimilar:Ri,isFuzzyMatch:!0}:null},nc=function(Ge,rn){var Gn=(0,n.commandToRegExp)(Ge),sn=Gn.exec(rn);return sn?{command:Ge,parameters:sn.slice(1)}:null},Jo=(0,e.useCallback)(function(Ut,Ge){Xo.current.forEach(function(rn){var Gn=rn.command,sn=rn.callback,Ir=rn.matchInterim,Ri=Ir===void 0?!1:Ir,br=rn.isFuzzyMatch,As=br===void 0?!1:br,Rs=rn.fuzzyMatchingThreshold,qn=Rs===void 0?.8:Rs,Zo=rn.bestMatchOnly,ks=Zo===void 0?!1:Zo,ki=!Ge&&Ri?Ut.trim():Ge.trim(),Pi=Array.isArray(Gn)?Gn:[Gn],Ni=Pi.map(function(St){return As?Cs(St,ki,qn):nc(St,ki)}).filter(function(St){return St});if(As&&ks&&Ni.length>=2){Ni.sort(function(St,ea){return ea.howSimilar-St.howSimilar});var qe=Ni[0],sc=qe.command,Oi=qe.commandWithoutSpecials,Li=qe.howSimilar;sn(Oi,ki,Li,{command:sc,resetTranscript:Ue})}else Ni.forEach(function(St){if(St.isFuzzyMatch){var ea=St.command,Cr=St.commandWithoutSpecials,gh=St.howSimilar;sn(Cr,ki,gh,{command:ea,resetTranscript:Ue})}else{var yh=St.command,Ps=St.parameters;sn.apply(void 0,p(Ps).concat([{command:yh,resetTranscript:Ue}]))}})})},[Ue]),rc=(0,e.useCallback)(function(Ut,Ge){Y&&qo((0,r.appendTranscript)(Ut,Ge)),Jo(Ut,Ge)},[Jo,Y]),xr=(0,e.useCallback)(function(){ee&&He()},[ee]);(0,e.useEffect)(function(){var Ut=R.counter;R.counter+=1;var Ge={onListeningChange:Ko,onMicrophoneAvailabilityChange:Qo,onTranscriptChange:rc,onClearTranscript:xr,onBrowserSupportsSpeechRecognitionChange:fe,onBrowserSupportsContinuousListeningChange:nn};return G.subscribe(Ut,Ge),function(){G.unsubscribe(Ut)}},[Y,ee,G,rc,xr]);var ic=(0,n.concatTranscripts)(bs,Is);return{transcript:ic,interimTranscript:Is,finalTranscript:bs,listening:Zl,isMicrophoneAvailable:Yo,resetTranscript:Ue,browserSupportsSpeechRecognition:ae,browserSupportsContinuousListening:Ai}};t.useSpeechRecognition=I;var R={counter:0,applyPolyfill:function(A){v?v.setSpeechRecognition(A):v=new s.default(A);var F=!!A&&(0,n.browserSupportsPolyfills)();O=F,w=F},removePolyfill:function(){v?v.setSpeechRecognition(a.default):v=new s.default(a.default),O=!!a.default,w=O&&!(0,o.default)()},getRecognitionManager:function(){return v||(v=new s.default(a.default)),v},getRecognition:function(){var A=R.getRecognitionManager();return A.getRecognition()},startListening:function(){var k=h(regeneratorRuntime.mark(function F(){var Y,ue,ee,$,j=arguments;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return Y=j.length>0&&j[0]!==void 0?j[0]:{},ue=Y.continuous,ee=Y.language,$=R.getRecognitionManager(),z.next=4,$.startListening({continuous:ue,language:ee});case 4:case"end":return z.stop()}},F)}));function A(){return k.apply(this,arguments)}return A}(),stopListening:function(){var k=h(regeneratorRuntime.mark(function F(){var Y;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return Y=R.getRecognitionManager(),ee.next=3,Y.stopListening();case 3:case"end":return ee.stop()}},F)}));function A(){return k.apply(this,arguments)}return A}(),abortListening:function(){var k=h(regeneratorRuntime.mark(function F(){var Y;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return Y=R.getRecognitionManager(),ee.next=3,Y.abortListening();case 3:case"end":return ee.stop()}},F)}));function A(){return k.apply(this,arguments)}return A}(),browserSupportsSpeechRecognition:function(){return O},browserSupportsContinuousListening:function(){return w}},N=R;t.default=N})(HI);(function(t){function e(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(o)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useSpeechRecognition",{enumerable:!0,get:function(){return n.useSpeechRecognition}}),t.default=void 0;var n=i(HI);function r(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return r=function(){return o},o}function i(o){if(o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var a=r();if(a&&a.has(o))return a.get(o);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(Object.prototype.hasOwnProperty.call(o,h)){var p=u?Object.getOwnPropertyDescriptor(o,h):null;p&&(p.get||p.set)?Object.defineProperty(c,h,p):c[h]=o[h]}return c.default=o,a&&a.set(o,c),c}var s=n.default;t.default=s})(hh);const KI=vm(hh);var R1;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(R1||(R1={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k1;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(k1||(k1={}));var P1;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(P1||(P1={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=["user","model","function","system"];var O1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(O1||(O1={}));var L1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(L1||(L1={}));var D1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(D1||(D1={}));var M1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(M1||(M1={}));var Ka;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(Ka||(Ka={}));var j1;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(j1||(j1={}));var V1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(V1||(V1={}));var F1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(F1||(F1={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ms extends Lt{constructor(e,n){super(e),this.response=n}}class YI extends Lt{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class ci extends Lt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="https://generativelanguage.googleapis.com",s6="v1beta",o6="0.21.0",a6="genai-js";var ms;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ms||(ms={}));class l6{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||s6;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||i6}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function c6(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${a6}/${o6}`),e.join(" ")}async function u6(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",c6(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new ci(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new ci(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new ci(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function d6(t,e,n,r,i,s){const o=new l6(t,e,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},m6(s)),{method:"POST",headers:await u6(o),body:i})}}async function Xl(t,e,n,r,i,s={},o=fetch){const{url:a,fetchOptions:c}=await d6(t,e,n,r,i,s);return h6(a,c,o)}async function h6(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){f6(i,t)}return r.ok||await p6(r,t),r}function f6(t,e){let n=t;throw t instanceof YI||t instanceof ci||(n=new Lt(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function p6(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new YI(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function m6(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),mu(t.candidates[0]))throw new Ms(`${Fr(t)}`,t);return g6(t)}else if(t.promptFeedback)throw new Ms(`Text not available. ${Fr(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mu(t.candidates[0]))throw new Ms(`${Fr(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),U1(t)[0]}else if(t.promptFeedback)throw new Ms(`Function call not available. ${Fr(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mu(t.candidates[0]))throw new Ms(`${Fr(t)}`,t);return U1(t)}else if(t.promptFeedback)throw new Ms(`Function call not available. ${Fr(t)}`,t)},t}function g6(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function U1(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const y6=[Ka.RECITATION,Ka.SAFETY,Ka.LANGUAGE];function mu(t){return!!t.finishReason&&y6.includes(t.finishReason)}function Fr(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];mu(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function kl(t){return this instanceof kl?(this.v=t,this):new kl(t)}function v6(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){r[m]&&(i[m]=function(y){return new Promise(function(S,C){s.push([m,y,S,C])>1||a(m,y)})})}function a(m,y){try{c(r[m](y))}catch(S){p(s[0][3],S)}}function c(m){m.value instanceof kl?Promise.resolve(m.value.v).then(u,h):p(s[0][2],m)}function u(m){a("next",m)}function h(m){a("throw",m)}function p(m,y){m(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function _6(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=T6(e),[r,i]=n.tee();return{stream:w6(r),response:E6(i)}}async function E6(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return wy(S6(e));e.push(i)}}function w6(t){return v6(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield kl(n.read());if(i)break;yield yield kl(wy(r))}})}function T6(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new Lt("Failed to parse stream"));return}r.close();return}i+=o;let c=i.match(z1),u;for(;c;){try{u=JSON.parse(c[1])}catch{r.error(new Lt(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(u),i=i.substring(c[0].length),c=i.match(z1)}return s()})}}})}function S6(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(t,e,n,r){const i=await Xl(e,ms.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return _6(i)}async function XI(t,e,n,r){const s=await(await Xl(e,ms.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:wy(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Pl(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return x6(e)}function x6(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new Lt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Lt("No content is provided for sending chat message.");return r?e:n}function I6(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new ci("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=Pl(t);r.contents=[s]}return{generateContentRequest:r}}function B1(t){let e;return t.contents?e=t:e={contents:[Pl(t)]},t.systemInstruction&&(e.systemInstruction=JI(t.systemInstruction)),e}function b6(t){return typeof t=="string"||Array.isArray(t)?{content:Pl(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],C6={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function A6(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new Lt(`First content should be with role 'user', got ${r}`);if(!N1.includes(r))throw new Lt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(N1)}`);if(!Array.isArray(i))throw new Lt("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Lt("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const c of $1)c in a&&(s[c]+=1);const o=C6[r];for(const a of $1)if(!o.includes(a)&&s[a]>0)throw new Lt(`Content with role '${r}' can't contain '${a}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="SILENT_ERROR";class R6{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(A6(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,o,a,c;await this._sendPromise;const u=Pl(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>XI(this._apiKey,this.model,h,p)).then(y=>{var S;if(y.response.candidates&&y.response.candidates.length>0){this._history.push(u);const C=Object.assign({parts:[],role:"model"},(S=y.response.candidates)===null||S===void 0?void 0:S[0].content);this._history.push(C)}else{const C=Fr(y.response);C&&console.warn(`sendMessage() was unsuccessful. ${C}. Inspect response object for details.`)}m=y}),await this._sendPromise,m}async sendMessageStream(e,n={}){var r,i,s,o,a,c;await this._sendPromise;const u=Pl(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n),m=QI(this._apiKey,this.model,h,p);return this._sendPromise=this._sendPromise.then(()=>m).catch(y=>{throw new Error(W1)}).then(y=>y.response).then(y=>{if(y.candidates&&y.candidates.length>0){this._history.push(u);const S=Object.assign({},y.candidates[0].content);S.role||(S.role="model"),this._history.push(S)}else{const S=Fr(y);S&&console.warn(`sendMessageStream() was unsuccessful. ${S}. Inspect response object for details.`)}}).catch(y=>{y.message!==W1&&console.error(y)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e,n,r){return(await Xl(e,ms.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e,n,r){return(await Xl(e,ms.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function N6(t,e,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Xl(e,ms.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=JI(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=B1(e),s=Object.assign(Object.assign({},this._requestOptions),n);return XI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=B1(e),s=Object.assign(Object.assign({},this._requestOptions),n);return QI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new R6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=I6(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return k6(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=b6(e),i=Object.assign(Object.assign({},this._requestOptions),n);return P6(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return N6(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Lt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new H1(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new ci("Cached content must contain a `name` field.");if(!e.model)throw new ci("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===c)continue}throw new ci(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new H1(this.apiKey,s,r)}}var O6=typeof global=="object"&&global&&global.Object===Object&&global,L6=typeof self=="object"&&self&&self.Object===Object&&self,eb=O6||L6||Function("return this")(),vd=eb.Symbol,tb=Object.prototype,D6=tb.hasOwnProperty,M6=tb.toString,ya=vd?vd.toStringTag:void 0;function j6(t){var e=D6.call(t,ya),n=t[ya];try{t[ya]=void 0;var r=!0}catch{}var i=M6.call(t);return r&&(e?t[ya]=n:delete t[ya]),i}var V6=Object.prototype,F6=V6.toString;function U6(t){return F6.call(t)}var z6="[object Null]",B6="[object Undefined]",G1=vd?vd.toStringTag:void 0;function $6(t){return t==null?t===void 0?B6:z6:G1&&G1 in Object(t)?j6(t):U6(t)}function W6(t){return t!=null&&typeof t=="object"}var H6="[object Symbol]";function G6(t){return typeof t=="symbol"||W6(t)&&$6(t)==H6}var q6=/\s/;function K6(t){for(var e=t.length;e--&&q6.test(t.charAt(e)););return e}var Y6=/^\s+/;function Q6(t){return t&&t.slice(0,K6(t)+1).replace(Y6,"")}function _d(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var q1=NaN,X6=/^[-+]0x[0-9a-f]+$/i,J6=/^0b[01]+$/i,Z6=/^0o[0-7]+$/i,eV=parseInt;function K1(t){if(typeof t=="number")return t;if(G6(t))return q1;if(_d(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_d(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Q6(t);var n=J6.test(t);return n||Z6.test(t)?eV(t.slice(2),n?2:8):X6.test(t)?q1:+t}var Cf=function(){return eb.Date.now()},tV="Expected a function",nV=Math.max,rV=Math.min;function gu(t,e,n){var r,i,s,o,a,c,u=0,h=!1,p=!1,m=!0;if(typeof t!="function")throw new TypeError(tV);e=K1(e)||0,_d(n)&&(h=!!n.leading,p="maxWait"in n,s=p?nV(K1(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function y(O){var w=r,v=i;return r=i=void 0,u=O,o=t.apply(v,w),o}function S(O){return u=O,a=setTimeout(E,e),h?y(O):o}function C(O){var w=O-c,v=O-u,I=e-w;return p?rV(I,s-v):I}function b(O){var w=O-c,v=O-u;return c===void 0||w>=e||w<0||p&&v>=s}function E(){var O=Cf();if(b(O))return _(O);a=setTimeout(E,C(O))}function _(O){return a=void 0,m&&r?y(O):(r=i=void 0,o)}function T(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function P(){return a===void 0?o:_(Cf())}function D(){var O=Cf(),w=b(O);if(r=arguments,i=this,c=O,w){if(a===void 0)return S(c);if(p)return clearTimeout(a),a=setTimeout(E,e),y(c)}return a===void 0&&(a=setTimeout(E,e)),o}return D.cancel=T,D.flush=P,D}var iV="Expected a function";function sV(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(iV);return _d(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),gu(t,e,{leading:r,maxWait:e,trailing:i})}var no=function(){return no=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},no.apply(this,arguments)};function nb(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}function rb(t){return!t||!t.ownerDocument?document:t.ownerDocument}var ib=function(t){var e={},n=Array.prototype.reduce.call(t,function(r,i){var s=i.name.match(/data-simplebar-(.+)/);if(s){var o=s[1].replace(/\W+(.)/g,function(a,c){return c.toUpperCase()});switch(i.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=i.value}}return r},e);return n};function sb(t,e){var n;t&&(n=t.classList).add.apply(n,e.split(" "))}function ob(t,e){t&&e.split(" ").forEach(function(n){t.classList.remove(n)})}function ab(t){return".".concat(t.split(" ").join("."))}var Ty=!!(typeof window<"u"&&window.document&&window.document.createElement),oV=Object.freeze({__proto__:null,addClasses:sb,canUseDOM:Ty,classNamesToQuery:ab,getElementDocument:rb,getElementWindow:nb,getOptions:ib,removeClasses:ob}),zs=null,Y1=null;Ty&&window.addEventListener("resize",function(){Y1!==window.devicePixelRatio&&(Y1=window.devicePixelRatio,zs=null)});function Q1(){if(zs===null){if(typeof document>"u")return zs=0,zs;var t=document.body,e=document.createElement("div");e.classList.add("simplebar-hide-scrollbar"),t.appendChild(e);var n=e.getBoundingClientRect().right;t.removeChild(e),zs=n}return zs}var Lr=nb,Af=rb,aV=ib,Dr=sb,Mr=ob,kt=ab,va=function(){function t(e,n){n===void 0&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var i=Lr(r.el);r.scrollXTicking||(i.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(i.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,Dr(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){Mr(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(Dr(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){Mr(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(i){r.mouseX=i.clientX,r.mouseY=i.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(i){if(!(!r.axis.x.track.el||!r.axis.y.track.el||!r.axis.x.scrollbar.el||!r.axis.y.scrollbar.el)){var s,o;r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(s=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(o=r.isWithinBounds(r.axis.y.track.rect)),(s||o)&&(i.stopPropagation(),i.type==="pointerdown"&&i.pointerType!=="touch"&&(s&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(i,"x"):r.onTrackClick(i,"x")),o&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(i,"y"):r.onTrackClick(i,"y"))))}},this.drag=function(i){var s,o,a,c,u,h,p,m,y,S,C;if(!(!r.draggedAxis||!r.contentWrapperEl)){var b,E=r.axis[r.draggedAxis].track,_=(o=(s=E.rect)===null||s===void 0?void 0:s[r.axis[r.draggedAxis].sizeAttr])!==null&&o!==void 0?o:0,T=r.axis[r.draggedAxis].scrollbar,P=(c=(a=r.contentWrapperEl)===null||a===void 0?void 0:a[r.axis[r.draggedAxis].scrollSizeAttr])!==null&&c!==void 0?c:0,D=parseInt((h=(u=r.elStyles)===null||u===void 0?void 0:u[r.axis[r.draggedAxis].sizeAttr])!==null&&h!==void 0?h:"0px",10);i.preventDefault(),i.stopPropagation(),r.draggedAxis==="y"?b=i.pageY:b=i.pageX;var O=b-((m=(p=E.rect)===null||p===void 0?void 0:p[r.axis[r.draggedAxis].offsetAttr])!==null&&m!==void 0?m:0)-r.axis[r.draggedAxis].dragOffset;O=r.draggedAxis==="x"&&r.isRtl?((S=(y=E.rect)===null||y===void 0?void 0:y[r.axis[r.draggedAxis].sizeAttr])!==null&&S!==void 0?S:0)-T.size-O:O;var w=O/(_-T.size),v=w*(P-D);r.draggedAxis==="x"&&r.isRtl&&(v=!((C=t.getRtlHelpers())===null||C===void 0)&&C.isScrollingToNegative?-v:v),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=v}},this.onEndDrag=function(i){r.isDragging=!1;var s=Af(r.el),o=Lr(r.el);i.preventDefault(),i.stopPropagation(),Mr(r.el,r.classNames.dragging),r.onStopScrolling(),s.removeEventListener("mousemove",r.drag,!0),s.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=o.setTimeout(function(){s.removeEventListener("click",r.preventClick,!0),s.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(i){i.preventDefault(),i.stopPropagation()},this.el=e,this.options=no(no({},t.defaultOptions),n),this.classNames=no(no({},t.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},typeof this.el!="object"||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=sV(this._onMouseMove,64),this.onWindowResize=gu(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=gu(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=gu(this._onMouseEntered,this.stopScrollDelay),this.init()}return t.getRtlHelpers=function(){if(t.rtlHelpers)return t.rtlHelpers;var e=document.createElement("div");e.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=e.firstElementChild,r=n==null?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var i=t.getOffset(n),s=t.getOffset(r);n.scrollLeft=-999;var o=t.getOffset(r);return document.body.removeChild(n),t.rtlHelpers={isScrollOriginAtZero:i.left!==s.left,isScrollingToNegative:s.left!==o.left},t.rtlHelpers},t.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:Q1()}catch{return Q1()}},t.getOffset=function(e){var n=e.getBoundingClientRect(),r=Af(e),i=Lr(e);return{top:n.top+(i.pageYOffset||r.documentElement.scrollTop),left:n.left+(i.pageXOffset||r.documentElement.scrollLeft)}},t.prototype.init=function(){Ty&&(this.initDOM(),this.rtlHelpers=t.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.prototype.initDOM=function(){var e,n;this.wrapperEl=this.el.querySelector(kt(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(kt(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(kt(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(kt(this.classNames.offset)),this.maskEl=this.el.querySelector(kt(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,kt(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(kt(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(kt(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(kt(this.classNames.track)).concat(kt(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(kt(this.classNames.track)).concat(kt(this.classNames.vertical))),this.axis.x.scrollbar.el=((e=this.axis.x.track.el)===null||e===void 0?void 0:e.querySelector(kt(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=((n=this.axis.y.track.el)===null||n===void 0?void 0:n.querySelector(kt(this.classNames.scrollbar)))||null,this.options.autoHide||(Dr(this.axis.x.scrollbar.el,this.classNames.visible),Dr(this.axis.y.scrollbar.el,this.classNames.visible))},t.prototype.initListeners=function(){var e=this,n,r=Lr(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),(n=this.contentWrapperEl)===null||n===void 0||n.addEventListener("scroll",this.onScroll),r.addEventListener("resize",this.onWindowResize),!!this.contentEl){if(window.ResizeObserver){var i=!1,s=r.ResizeObserver||ResizeObserver;this.resizeObserver=new s(function(){i&&r.requestAnimationFrame(function(){e.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),r.requestAnimationFrame(function(){i=!0})}this.mutationObserver=new r.MutationObserver(function(){r.requestAnimationFrame(function(){e.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},t.prototype.recalculate=function(){if(!(!this.heightAutoObserverEl||!this.contentEl||!this.contentWrapperEl||!this.wrapperEl||!this.placeholderEl)){var e=Lr(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var n=this.contentEl.offsetWidth,r=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1||n>0,s=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,a=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var c=this.contentEl.scrollHeight,u=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=r?"auto":"100%",this.placeholderEl.style.width=i?"".concat(n||u,"px"):"auto",this.placeholderEl.style.height="".concat(c,"px");var h=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=n!==0&&u>n,this.axis.y.isOverflowing=c>h,this.axis.x.isOverflowing=o==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=a==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var p=this.axis.x.isOverflowing?this.scrollbarWidth:0,m=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&u>s-m,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&c>h-p,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},t.prototype.getScrollbarSize=function(e){var n,r;if(e===void 0&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var i=this.contentEl[this.axis[e].scrollSizeAttr],s=(r=(n=this.axis[e].track.el)===null||n===void 0?void 0:n[this.axis[e].offsetSizeAttr])!==null&&r!==void 0?r:0,o=s/i,a;return a=Math.max(~~(o*s),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(a=Math.min(a,this.options.scrollbarMaxSize)),a},t.prototype.positionScrollbar=function(e){var n,r,i;e===void 0&&(e="y");var s=this.axis[e].scrollbar;if(!(!this.axis[e].isOverflowing||!this.contentWrapperEl||!s.el||!this.elStyles)){var o=this.contentWrapperEl[this.axis[e].scrollSizeAttr],a=((n=this.axis[e].track.el)===null||n===void 0?void 0:n[this.axis[e].offsetSizeAttr])||0,c=parseInt(this.elStyles[this.axis[e].sizeAttr],10),u=this.contentWrapperEl[this.axis[e].scrollOffsetAttr];u=e==="x"&&this.isRtl&&(!((r=t.getRtlHelpers())===null||r===void 0)&&r.isScrollOriginAtZero)?-u:u,e==="x"&&this.isRtl&&(u=!((i=t.getRtlHelpers())===null||i===void 0)&&i.isScrollingToNegative?u:-u);var h=u/(o-c),p=~~((a-s.size)*h);p=e==="x"&&this.isRtl?-p+(a-s.size):p,s.el.style.transform=e==="x"?"translate3d(".concat(p,"px, 0, 0)"):"translate3d(0, ".concat(p,"px, 0)")}},t.prototype.toggleTrackVisibility=function(e){e===void 0&&(e="y");var n=this.axis[e].track.el,r=this.axis[e].scrollbar.el;!n||!r||!this.contentWrapperEl||(this.axis[e].isOverflowing||this.axis[e].forceVisible?(n.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(n.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?r.style.display="block":r.style.display="none")},t.prototype.showScrollbar=function(e){e===void 0&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(Dr(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},t.prototype.hideScrollbar=function(e){e===void 0&&(e="y"),!this.isDragging&&this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(Mr(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},t.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},t.prototype.onMouseMoveForAxis=function(e){e===void 0&&(e="y");var n=this.axis[e];!n.track.el||!n.scrollbar.el||(n.track.rect=n.track.el.getBoundingClientRect(),n.scrollbar.rect=n.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(n.track.rect)?(this.showScrollbar(e),Dr(n.track.el,this.classNames.hover),this.isWithinBounds(n.scrollbar.rect)?Dr(n.scrollbar.el,this.classNames.hover):Mr(n.scrollbar.el,this.classNames.hover)):(Mr(n.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},t.prototype.onMouseLeaveForAxis=function(e){e===void 0&&(e="y"),Mr(this.axis[e].track.el,this.classNames.hover),Mr(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},t.prototype.onDragStart=function(e,n){var r;n===void 0&&(n="y"),this.isDragging=!0;var i=Af(this.el),s=Lr(this.el),o=this.axis[n].scrollbar,a=n==="y"?e.pageY:e.pageX;this.axis[n].dragOffset=a-(((r=o.rect)===null||r===void 0?void 0:r[this.axis[n].offsetAttr])||0),this.draggedAxis=n,Dr(this.el,this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(s.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.prototype.onTrackClick=function(e,n){var r=this,i,s,o,a;n===void 0&&(n="y");var c=this.axis[n];if(!(!this.options.clickOnTrack||!c.scrollbar.el||!this.contentWrapperEl)){e.preventDefault();var u=Lr(this.el);this.axis[n].scrollbar.rect=c.scrollbar.el.getBoundingClientRect();var h=this.axis[n].scrollbar,p=(s=(i=h.rect)===null||i===void 0?void 0:i[this.axis[n].offsetAttr])!==null&&s!==void 0?s:0,m=parseInt((a=(o=this.elStyles)===null||o===void 0?void 0:o[this.axis[n].sizeAttr])!==null&&a!==void 0?a:"0px",10),y=this.contentWrapperEl[this.axis[n].scrollOffsetAttr],S=n==="y"?this.mouseY-p:this.mouseX-p,C=S<0?-1:1,b=C===-1?y-m:y+m,E=40,_=function(){r.contentWrapperEl&&(C===-1?y>b&&(y-=E,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=y,u.requestAnimationFrame(_)):y<b&&(y+=E,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=y,u.requestAnimationFrame(_)))};_()}},t.prototype.getContentElement=function(){return this.contentEl},t.prototype.getScrollElement=function(){return this.contentWrapperEl},t.prototype.removeListeners=function(){var e=Lr(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},t.prototype.unMount=function(){this.removeListeners()},t.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},t.prototype.findChild=function(e,n){var r=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(i){return r.call(i,n)})[0]},t.rtlHelpers=null,t.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},t.getOptions=aV,t.helpers=oV,t}(),Bt=function(){return Bt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bt.apply(this,arguments)};function lV(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var ph=M.forwardRef(function(t,e){var n=t.children,r=t.scrollableNodeProps,i=r===void 0?{}:r,s=lV(t,["children","scrollableNodeProps"]),o=M.useRef(),a=M.useRef(),c=M.useRef(),u={},h={};Object.keys(s).forEach(function(y){Object.prototype.hasOwnProperty.call(va.defaultOptions,y)?u[y]=s[y]:h[y]=s[y]});var p=Bt(Bt({},va.defaultOptions.classNames),u.classNames),m=Bt(Bt({},i),{className:"".concat(p.contentWrapper).concat(i.className?" ".concat(i.className):""),tabIndex:u.tabIndex||va.defaultOptions.tabIndex,role:"region","aria-label":u.ariaLabel||va.defaultOptions.ariaLabel});return M.useEffect(function(){var y;return a.current=m.ref?m.ref.current:a.current,o.current&&(y=new va(o.current,Bt(Bt(Bt({},u),a.current&&{scrollableNode:a.current}),c.current&&{contentNode:c.current})),typeof e=="function"?e(y):e&&(e.current=y)),function(){y==null||y.unMount(),y=null,typeof e=="function"&&e(null)}},[]),M.createElement("div",Bt({"data-simplebar":"init",ref:o},h),M.createElement("div",{className:p.wrapper},M.createElement("div",{className:p.heightAutoObserverWrapperEl},M.createElement("div",{className:p.heightAutoObserverEl})),M.createElement("div",{className:p.mask},M.createElement("div",{className:p.offset},typeof n=="function"?n({scrollableNodeRef:a,scrollableNodeProps:Bt(Bt({},m),{ref:a}),contentNodeRef:c,contentNodeProps:{className:p.contentEl,ref:c}}):M.createElement("div",Bt({},m),M.createElement("div",{className:p.contentEl},n)))),M.createElement("div",{className:p.placeholder})),M.createElement("div",{className:"".concat(p.track," simplebar-horizontal")},M.createElement("div",{className:p.scrollbar})),M.createElement("div",{className:"".concat(p.track," simplebar-vertical")},M.createElement("div",{className:p.scrollbar})))});ph.displayName="SimpleBar";function cV(){const t=mn(An),e=Rn(t),n=wr(),[r,i]=M.useState([]),[s,o]=M.useState(""),[a,c]=M.useState("");M.useEffect(()=>{const F=JSON.parse(localStorage.getItem("history"));F&&i(F),bi(e,async Y=>{Y&&(o(Y==null?void 0:Y.displayName),c(Y==null?void 0:Y.photoURL))})},[e]);const u=Ci(),h=async()=>{localStorage.clear(),u(vr(1));try{await Wl(e)}catch(F){console.log(F)}n("/")},[p,m]=M.useState(""),[y,S]=M.useState([]),[C,b]=M.useState(!1),E=new ZI("AIzaSyDZLV-I_x9xPBmgNxiC_L7S1pRQJCMGXbE"),_=F=>{m(F.target.value)},T=async()=>{const F=document.getElementById("video-element");if(!p)return ge.error("Please Enter Message",{position:"top-center"});responsiveVoice.isPlaying()&&responsiveVoice.pause();try{const Y=s,ue=JSON.stringify(r);b(!0);const $=await E.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:{parts:[{text:"Your name is Fiona."},{text:"You are a helpful medical female doctor."},{text:"Your mission is to give helpful advice to people."},{text:`You always politely use patient's name in your responses which is ${Y}`},{text:"In your first response, you should ask the patient about what kind of illness or symptoms they are having?"},{text:`Formulate your advice based on this chat history ${ue}. And prescribe them medications with the name of medicines if possible related to the illness or disease.`},{text:"if patient asks you for prescribing them medicines then give them useful names of medicine related to their illness."},{text:"You do not use asterisk characters in your advice."},{text:"You do not use markdown language"},{text:"You give advice in plain text."},{text:"You use positive tone."},{text:"You give only medical advice."},{text:"Omit abusive language"},{text:"Do not use abbreviations. For example, do not use Dr. for Doctor."}]}}).generateContent(p);F.pause(),m("");const z=$.response.text().replace(/\*/g,"");i(G=>[...G,{user:p,model:z}]),localStorage.setItem("history",JSON.stringify(r)),R?responsiveVoice.speak(z,"UK English Female",{onstart:()=>{F.loop=!0,F.play()},onend:()=>{F.loop=!1,F.pause()}}):(responsiveVoice.cancel(),F.pause()),S([...y,z]),b(!1)}catch(Y){console.log(Y),console.log("Something Went Wrong"),b(!1)}},{transcript:P,listening:D,resetTranscript:O,browserSupportsSpeechRecognition:w}=hh.useSpeechRecognition(),v=M.useRef(null);M.useEffect(()=>{const F=v.current;P&&m(P),F.scrollIntoView({behavior:"smooth"})},[P,y]);const I=()=>{KI.startListening(),w||alert("Your Browser Does Not Support Speech Recognition")};M.useEffect(()=>{P&&!D&&(T(),O())},[D,P]);const[R,N]=M.useState(!0),k=()=>{N(!R)};M.useEffect(()=>{const F=document.getElementById("video-element");R||(responsiveVoice.cancel(),F.pause())},[R]);const A=F=>{F.key==="Enter"&&(F.preventDefault(),T())};return f.jsxs(f.Fragment,{children:[f.jsx(Hd,{}),f.jsx("div",{className:"min-h-screen flex flex-col gap-5 login-form",children:f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx("div",{className:"flex items-center justify-end px-5 h-[55px] logout-btn-desktop ",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded ",type:"button",onClick:h,children:"Logout"})}),f.jsxs("div",{className:"flex items-center portrait:flex-col gap-5 p-5 ai-container ",children:[f.jsxs("div",{className:"w-[30%] relative portrait:w-[100%] bg-white rounded-2xl height-adjust ",children:[f.jsxs("div",{className:"mobile-container",children:[f.jsx("p",{className:"gradient-text p-2 font-bold",children:"Dr. Fiona"}),f.jsxs("div",{className:"mobile-div",children:[f.jsx("div",{className:"",children:f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666] ",type:"button",onClick:()=>{const F=document.getElementById("video-element");S([]),m(""),O(),i([]),localStorage.removeItem("history"),responsiveVoice.isPlaying()&&(responsiveVoice.cancel(),F.pause())},children:"New Chat"})}),f.jsx("div",{className:"",children:f.jsx("button",{className:"text-red-500",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-portrait",children:f.jsx(xe,{icon:Bu})})}),f.jsx("div",{className:"flex items-center justify-center w-[30px] h-[30px] ",children:f.jsx("button",{className:"text-[#262666]",type:"button",id:"volume-btn",onClick:k,children:f.jsx("span",{children:f.jsx(xe,{icon:R?zu:$u})})})})]})]}),f.jsxs("div",{className:"portrait-div",children:[f.jsx("div",{className:"w-full video-div",children:f.jsx("video",{style:{width:"100%",height:"100%"},id:"video-element",children:f.jsx("source",{src:"/medical-chatbot//videos/female.mp4",type:"video/mp4"})})}),f.jsxs("div",{className:"flex absolute items-center justify-between bottom-0 left-0 w-full gap-3 p-3 portrait-adjust",children:[f.jsx("div",{className:"w-full portrait:w-fit",children:f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666]  ",type:"button",onClick:()=>{const F=document.getElementById("video-element");S([]),m(""),O(),i([]),localStorage.removeItem("history"),responsiveVoice.isPlaying()&&(responsiveVoice.cancel(),F.pause())},children:"New Chat"})}),f.jsxs("div",{className:"w-full portrait:w-fit ",children:[f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666]  ",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-landscape",children:"End Session"}),f.jsx("button",{className:"text-red-500 ",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-portrait",children:f.jsx(xe,{icon:Bu})})]}),f.jsx("div",{className:"flex items-center justify-center w-[30px] h-[30px] ",children:f.jsx("button",{className:"text-[#262666]",type:"button",id:"volume-btn",onClick:k,children:f.jsx("span",{children:f.jsx(xe,{icon:R?zu:$u})})})})]})]})]}),f.jsxs("div",{className:"w-[70%] relative portrait:w-[100%] flex flex-col justify-between bg-white rounded-2xl messages-container ",children:[f.jsx("div",{className:"border-b p-5 little-height",children:f.jsxs(ph,{style:{height:"100%"},children:[f.jsx("p",{className:"gradient-text font-bold text-2xl ",children:"Patient Diagnosis"}),f.jsxs("div",{className:"mt-3 flex gap-2 ",children:[f.jsx("div",{className:"w-[50px] h-[50px]",children:f.jsx("img",{src:"/medical-chatbot//images/female2.png",alt:"doctor Fiona",style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})}),f.jsxs("p",{className:"bg-blue-100 w-1/2 p-3 text-lg",style:{borderRadius:"7px 7px 7px 0"},children:["Welcome! ",s," I am Dr. Fiona. How can I help you?"]})]}),(r==null?void 0:r.length)!==0&&(r==null?void 0:r.map((F,Y)=>f.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[F!=null&&F.user?f.jsxs("div",{className:"flex gap-2",children:[f.jsx("p",{className:"shadow bg-blue-500 text-white p-3 user-text text-lg",style:{borderRadius:"10px 10px 10px 0"},children:F==null?void 0:F.user}),f.jsx("div",{className:"w-[50px] h-[50px] ",children:f.jsx("img",{src:a||"/medical-chatbot//images/female.png",alt:s,style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})})]}):"",f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-[50px] h-[50px] ",children:f.jsx("img",{src:"/medical-chatbot//images/female2.png",alt:"doctor Fiona",style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})}),f.jsx("p",{className:"bg-blue-100 shadow w-[80%] p-3 text-lg",style:{borderRadius:"10px 10px 0 10px"},children:Y===r.length-1&&C?f.jsxs("span",{className:"flex flex-col gap-2",children:[f.jsx("span",{className:"loading-chat"}),f.jsx("span",{className:"loading-chat"}),f.jsx("span",{className:"loading-chat"})]}):F==null?void 0:F.model})]})]},Y))),f.jsx("div",{ref:v})]})}),f.jsx("div",{className:"flex h-[20px] absolute w-[100%] bottom-[100px] justify-center items-center",children:C&&f.jsx("div",{className:"loader"})}),f.jsxs("div",{className:"flex gap-2 p-2 items-center justify-between min-h-[100px] bottom-container ",children:[f.jsx("div",{children:f.jsx("button",{type:"button",className:"play-btn",onClick:()=>{const F=document.getElementById("video-element");S([]),m(""),O(),i([]),localStorage.removeItem("history"),responsiveVoice.isPlaying()&&(responsiveVoice.cancel(),F.pause())},children:f.jsx("span",{children:f.jsx(xe,{icon:gT})})})}),f.jsx("div",{className:"w-full ",children:f.jsx("textarea",{className:"w-full border rounded-md outline-none p-2 ",value:p,onChange:_,onKeyDown:A,placeholder:"Enter Your Message",name:"user-input",id:"user-input"})}),f.jsxs("div",{className:"flex gap-2 mic-btn-container ",children:[f.jsx("div",{className:"",children:f.jsx("button",{type:"button",onClick:T,className:"play-btn ",id:"response-btn",children:f.jsx("span",{children:f.jsx(xe,{icon:yT})})})}),f.jsx("div",{className:"",children:f.jsx("button",{type:"button",className:"play-btn ",onClick:I,children:f.jsx("span",{children:f.jsx(xe,{icon:D?fT:uT})})})})]})]})]})]})]})})]})}function uV(){const t=mn(An),e=Rn(t),n=wr(),[r,i]=M.useState([]),[s,o]=M.useState(""),[a,c]=M.useState("");M.useEffect(()=>{const F=JSON.parse(localStorage.getItem("history2"));F&&i(F),bi(e,async Y=>{Y&&(o(Y==null?void 0:Y.displayName),c(Y==null?void 0:Y.photoURL))})},[e]);const u=Ci(),h=async()=>{localStorage.clear(),u(vr(1));try{await Wl(e)}catch(F){console.log(F)}n("/")},[p,m]=M.useState(""),[y,S]=M.useState([]),[C,b]=M.useState(!1),E=new ZI("AIzaSyDZLV-I_x9xPBmgNxiC_L7S1pRQJCMGXbE"),_=F=>{m(F.target.value)},T=async()=>{const F=document.getElementById("video-element");if(!p)return ge.error("Please Enter Message",{position:"top-center"});responsiveVoice.isPlaying()&&responsiveVoice.pause();try{const Y=s,ue=JSON.stringify(r);b(!0);const $=await E.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:{parts:[{text:"Your name is House."},{text:"You are a helpful medical male doctor."},{text:"Your mission is to give helpful advice to your patients"},{text:`You always politely use patient's name in your responses which is ${Y}`},{text:"In your first response, you should ask the patient about what kind of illness or symptoms they are having?"},{text:`Formulate your advice based on this chat history ${ue}. And prescribe them medications with the name of medicines if possible related to the illness or disease.`},{text:"if patient asks you for prescribing them medicines then give them useful names of medicine related to their illness."},{text:"You do not use asterisk characters in your advice."},{text:"You do not use markdown language"},{text:"You give advice in plain text."},{text:"You use positive tone."},{text:"You give only medical advice."},{text:"Omit abusive language"},{text:"Do not use abbreviations. For example, do not use Dr. for Doctor."}]}}).generateContent(p);F.pause(),m("");const z=$.response.text().replace(/\*/g,"");i(G=>[...G,{user:p,model:z}]),localStorage.setItem("history2",JSON.stringify(r)),R?responsiveVoice.speak(z,"UK English Male",{onstart:()=>{F.loop=!0,F.play()},onend:()=>{F.loop=!1,F.pause()}}):(responsiveVoice.cancel(),F.pause()),S([...y,z]),b(!1)}catch(Y){console.log(Y),console.log("Something Went Wrong"),b(!1)}},{transcript:P,listening:D,resetTranscript:O,browserSupportsSpeechRecognition:w}=hh.useSpeechRecognition(),v=M.useRef(null);M.useEffect(()=>{const F=v.current;P&&m(P),F.scrollIntoView({behavior:"smooth"})},[P,y]);const I=()=>{KI.startListening(),w||alert("Your Browser Does Not Support Speech Recognition")};M.useEffect(()=>{P&&!D&&(T(),O())},[D,P]);const[R,N]=M.useState(!0),k=()=>{N(!R)};M.useEffect(()=>{const F=document.getElementById("video-element");R||(responsiveVoice.cancel(),F.pause())},[R]);const A=F=>{F.key==="Enter"&&(F.preventDefault(),T())};return f.jsxs(f.Fragment,{children:[f.jsx(Hd,{}),f.jsx("div",{className:"min-h-screen flex flex-col gap-5 login-form",children:f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx("div",{className:"flex items-center justify-end px-5 h-[55px] logout-btn-desktop ",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded ",type:"button",onClick:h,children:"Logout"})}),f.jsxs("div",{className:"flex items-center portrait:flex-col gap-5 p-5 ai-container ",children:[f.jsxs("div",{className:"w-[30%] relative portrait:w-[100%] bg-white rounded-2xl height-adjust ",children:[f.jsxs("div",{className:"mobile-container",children:[f.jsx("p",{className:"gradient-text p-2 font-bold",children:"Dr. House"}),f.jsxs("div",{className:"mobile-div",children:[f.jsx("div",{className:"",children:f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666] ",type:"button",onClick:()=>{const F=document.getElementById("video-element");S([]),m(""),O(),i([]),localStorage.removeItem("history2"),responsiveVoice.isPlaying()&&(responsiveVoice.cancel(),F.pause())},children:"New Chat"})}),f.jsx("div",{className:"",children:f.jsx("button",{className:"text-red-500",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-portrait",children:f.jsx(xe,{icon:Bu})})}),f.jsx("div",{className:"flex items-center justify-center w-[30px] h-[30px] ",children:f.jsx("button",{className:"text-[#262666]",type:"button",id:"volume-btn",onClick:k,children:f.jsx("span",{children:f.jsx(xe,{icon:R?zu:$u})})})})]})]}),f.jsxs("div",{className:"portrait-div",children:[f.jsx("div",{className:"w-full video-div",children:f.jsx("video",{style:{width:"100%",height:"100%"},id:"video-element",children:f.jsx("source",{src:"/medical-chatbot//videos/male.mp4",type:"video/mp4"})})}),f.jsxs("div",{className:"flex absolute items-center justify-between bottom-0 left-0 w-full gap-3 p-3 portrait-adjust",children:[f.jsx("div",{className:"w-full portrait:w-fit",children:f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666] ",type:"button",onClick:()=>{const F=document.getElementById("video-element");S([]),m(""),O(),i([]),localStorage.removeItem("history2"),responsiveVoice.isPlaying()&&(responsiveVoice.cancel(),F.pause())},children:"New Chat"})}),f.jsxs("div",{className:"w-full portrait:w-fit ",children:[f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666] ",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-landscape",children:"End Session"}),f.jsx("button",{className:"text-red-500",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-portrait",children:f.jsx(xe,{icon:Bu})})]}),f.jsx("div",{className:"flex items-center justify-center w-[30px] h-[30px] ",children:f.jsx("button",{className:"text-[#262666]",type:"button",id:"volume-btn",onClick:k,children:f.jsx("span",{children:f.jsx(xe,{icon:R?zu:$u})})})})]})]})]}),f.jsxs("div",{className:"w-[70%] relative portrait:w-[100%] flex flex-col justify-between bg-white rounded-2xl messages-container ",children:[f.jsx("div",{className:"border-b p-5 little-height ",children:f.jsxs(ph,{style:{height:"100%"},children:[f.jsx("p",{className:"gradient-text font-bold text-2xl ",children:"Patient Diagnosis"}),f.jsxs("div",{className:"mt-3 flex gap-2 ",children:[f.jsx("div",{className:"w-[50px] h-[50px]",children:f.jsx("img",{src:"/medical-chatbot//images/male-2.png",alt:"doctor House",style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})}),f.jsxs("p",{className:"bg-blue-100 w-1/2 p-3 text-lg",style:{borderRadius:"7px 7px 7px 0"},children:["Welcome! ",s," I am Dr. House. How can I help you?"]})]}),(r==null?void 0:r.length)!==0&&(r==null?void 0:r.map((F,Y)=>f.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[F!=null&&F.user?f.jsxs("div",{className:"flex gap-2",children:[f.jsx("p",{className:"shadow bg-blue-500 text-white p-3 user-text text-lg",style:{borderRadius:"10px 10px 10px 0"},children:F==null?void 0:F.user}),f.jsx("div",{className:"w-[50px] h-[50px] ",children:f.jsx("img",{src:a||"/medical-chatbot//images/male.png",alt:s,style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})})]}):"",f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-[50px] h-[50px] ",children:f.jsx("img",{src:"/medical-chatbot//images/male-2.png",alt:"doctor House",style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})}),f.jsx("p",{className:"bg-blue-100 shadow w-[80%] p-3 text-lg ",style:{borderRadius:"10px 10px 0 10px"},children:Y===r.length-1&&C?f.jsxs("span",{className:"flex flex-col gap-2",children:[f.jsx("span",{className:"loading-chat"}),f.jsx("span",{className:"loading-chat"}),f.jsx("span",{className:"loading-chat"})]}):F==null?void 0:F.model})]})]},Y))),f.jsx("div",{ref:v})]})}),f.jsx("div",{className:"flex h-[20px] absolute w-[100%] bottom-[100px] justify-center items-center",children:C&&f.jsx("div",{className:"loader"})}),f.jsxs("div",{className:"flex gap-2 p-2 items-center justify-between min-h-[100px] bottom-container ",children:[f.jsx("div",{children:f.jsx("button",{type:"button",className:"play-btn",onClick:()=>{const F=document.getElementById("video-element");S([]),m(""),O(),i([]),localStorage.removeItem("history2"),responsiveVoice.isPlaying()&&(responsiveVoice.cancel(),F.pause())},children:f.jsx("span",{children:f.jsx(xe,{icon:gT})})})}),f.jsx("div",{className:"w-full ",children:f.jsx("textarea",{className:"w-full border rounded-md outline-none p-2 ",value:p,onChange:_,onKeyDown:A,placeholder:"Enter Your Message",name:"user-input",id:"user-input"})}),f.jsxs("div",{className:"flex gap-2 mic-btn-container ",children:[f.jsx("div",{className:"",children:f.jsx("button",{type:"button",onClick:T,className:"play-btn ",id:"response-btn",children:f.jsx("span",{children:f.jsx(xe,{icon:yT})})})}),f.jsx("div",{className:"",children:f.jsx("button",{type:"button",className:"play-btn ",onClick:I,children:f.jsx("span",{children:f.jsx(xe,{icon:D?fT:uT})})})})]})]})]})]})]})})]})}function dV(){const t=mn(An),e=Rn(t),n=Go(t),r=wr(),[i,s]=M.useState([]),[o,a]=M.useState([]),[c,u]=M.useState([]),[h,p]=M.useState(!1);M.useEffect(()=>{bi(e,async w=>{if(w){p(!0);const v=w.uid,I=Ke(n,"generalInfo",v),R=await yt(I),N=Ke(n,"medicalHistory",v),k=await yt(N),A=Ke(n,"habits",v),F=await yt(A),Y=[R.data()],ue=[k.data()],ee=[F.data()];R.exists()&&s(Y),k.exists()&&a(ue),F.exists()&&(u(ee),p(!1))}})},[e,n]);const m=Ci(),y=async()=>{localStorage.clear(),m(vr(1));try{await Wl(e)}catch(w){console.log(w)}r("/")},[S,C]=M.useState(!1),[b,E]=M.useState(!1),[_,T]=M.useState(!1),P=()=>{C(!S),E(!1),T(!1)},D=()=>{E(!b),C(!1),T(!1)},O=()=>{T(!_),C(!1),E(!1)};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"min-h-screen flex flex-col gap-5 p-5 login-form",children:[f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded",type:"button",onClick:y,children:"Logout"})}),f.jsxs("div",{className:"flex relative flex-col gap-5 p-5 bg-white shadow-md rounded profile-container-height-adjust",children:[h?f.jsx("div",{className:"absolute top-0 left-0 w-full h-full rounded bg-black/[0.3] z-10",children:f.jsx("div",{className:"progress-bar-small",children:f.jsx("div",{className:"progress-bar-value-small"})})}):"",f.jsxs(ph,{style:{height:"100%"},children:[f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"btn",type:"button",onClick:()=>r("/multi-form"),children:"Edit Profile"})}),f.jsx("h1",{className:"text-center gradient-text p-5 font-bold text-2xl",children:"Your Profile"}),f.jsxs("div",{className:"flex flex-col gap-3",children:[i==null?void 0:i.map((w,v)=>f.jsx("div",{className:"",children:f.jsxs("div",{className:`${S?"accordion-anime":"simple"} border`,onClick:P,children:[f.jsxs("div",{className:"flex gap-3 items-center justify-between p-2 ",children:[f.jsx("p",{className:"font-bold text-[#262666]",children:"General Information"}),f.jsx("div",{children:f.jsx("button",{type:"button",className:"rounded-full text-[#262666] border w-[20px] flex items-center justify-center h-[20px] ",children:f.jsx("span",{className:"text-sm",children:f.jsx(xe,{icon:S?nf:rf})})})})]}),f.jsxs("div",{className:`${S?"accordion-active":"accordion"} px-2 `,children:[f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Name"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.name})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Age"}),f.jsxs("p",{className:"text-[#262666] capitalize",children:[w.age," ",f.jsx("span",{children:w.duration})]})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Height"}),f.jsxs("p",{className:"text-[#262666] capitalize",children:[w.height," ",f.jsx("span",{children:w.heightUnit})]})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Weight"}),f.jsxs("p",{className:"text-[#262666] capitalize",children:[w.weight," ",f.jsx("span",{children:w.weightUnit})]})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Gender"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.gender})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Ethnicity"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.ethnicity.replace(/_/g," ")})]})]})]})},v)),o==null?void 0:o.map((w,v)=>f.jsx("div",{className:"",children:f.jsxs("div",{className:`${b?"accordion-anime":"simple"} border`,onClick:D,children:[f.jsxs("div",{className:"flex gap-3 items-center justify-between p-2 ",children:[f.jsx("p",{className:"font-bold text-[#262666]",children:"Medical History"}),f.jsx("div",{children:f.jsx("button",{type:"button",className:"rounded-full text-[#262666] border w-[20px] flex items-center justify-center h-[20px] ",children:f.jsx("span",{className:"text-sm",children:f.jsx(xe,{icon:b?nf:rf})})})})]}),f.jsxs("div",{className:`${b?"accordion-active":"accordion"} px-2 `,children:[f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Current Medications"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.medications})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Previous Medications (Last 6 Months)"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.previousMedications})]})]})]})},v)),c==null?void 0:c.map((w,v)=>f.jsx("div",{className:"",children:f.jsxs("div",{className:`${_?"accordion-anime":"simple"} border`,onClick:O,children:[f.jsxs("div",{className:"flex gap-3 items-center justify-between p-2 ",children:[f.jsx("p",{className:"font-bold text-[#262666]",children:"Life Patterns And Habits"}),f.jsx("div",{children:f.jsx("button",{type:"button",className:"rounded-full text-[#262666] border w-[20px] flex items-center justify-center h-[20px] ",children:f.jsx("span",{className:"text-sm",children:f.jsx(xe,{icon:_?nf:rf})})})})]}),f.jsxs("div",{className:`${_?"accordion-active":"accordion"} px-2 `,children:[f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Daily Smoking Intensity"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.smokingIntensity})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Weekly Alcohol Intake"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.alcoholIntake})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Dietary Habits"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.dietaryHabits})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Weekly Physical Activity Level"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.activityLevel})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Daily Sleep Pattern"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.sleepPattern})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Stress Level"}),f.jsx("p",{className:"text-[#262666] capitalize",children:w.stressLevel})]})]})]})},v))]})]})]})]})})}function hV(){const t=mn(An),e=Rn(t),[n,r]=M.useState(!1),i=()=>{r(!n)},s=wr(),[o,a]=M.useState(!1),[c,u]=M.useState(!1),[h,p]=M.useState(!1),[m,y]=M.useState(!1),S=async()=>{const C=document.getElementById("email").value,b=document.getElementById("password").value,E=document.getElementById("user-name").value;if(!E&&!C&&!b){u(!0),p(!0),y(!0);return}if(!E){u(!0);return}if(!C){p(!0);return}if(!b){y(!0);return}a(!0);try{const T=(await qO(e,C,b)).user;await QO(T,{displayName:E}),ge.success("Registration Successful",{position:"top-center"}),setTimeout(()=>{s("/")},1e3)}catch(_){ge.error(_.code,{position:"top-center"})}a(!1)};return f.jsxs(f.Fragment,{children:[f.jsx(Hd,{}),f.jsx("div",{className:"min-h-screen flex items-center justify-center p-5 login-form",children:f.jsxs("div",{className:"flex items-center shadow-lg rounded-3xl w-[800px] h-[500px] max-[800px]:flex-col max-[800px]:w-full gap-0 bg-white",children:[f.jsx("div",{className:"w-full h-full flex flex-col justify-center items-center rounded-3xl bg-[#262666]",children:f.jsx("p",{className:"text-center text-white text-4xl",children:"Welcome"})}),f.jsxs("div",{className:"flex flex-col gap-3 w-full p-5",children:[f.jsx("h1",{className:"text-center",children:"Sign Up"}),f.jsxs("form",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"border pl-2 flex items-center gap-2 ",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:n2})}),f.jsx("input",{className:"w-full py-1 px-2",type:"text",name:"user-name",id:"user-name",placeholder:"Enter Your Username","aria-label":"Enter Your Username",required:!0,onChange:()=>u(!1),onClick:()=>u(!1)})]}),c&&f.jsx("p",{className:"text-red-500",children:"Username Required"}),f.jsxs("div",{className:"border pl-2 flex items-center gap-2 ",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:mT})}),f.jsx("input",{className:"w-full py-1 px-2",type:"email",name:"email",id:"email",placeholder:"Enter Your Email","aria-label":"Enter Your Email",required:!0,onChange:()=>p(!1),onClick:()=>p(!1)})]}),h&&f.jsx("p",{className:"text-red-500",children:"Email Required."}),f.jsxs("div",{className:"border flex items-center gap-2 px-2",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:dT})}),f.jsx("input",{className:"w-full py-1 px-2",type:n?"text":"password",name:"password",id:"password",placeholder:"Your Password","aria-label":"Type Your Password",required:!0,onChange:()=>y(!1),onClick:()=>y(!1)}),f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:n?pT:hT,onClick:i})})]}),m&&f.jsx("p",{className:"text-red-500",children:"Password Required."}),f.jsx("div",{children:f.jsx("button",{className:`${o?"bg-gray-500":""} w-full rounded bg-[#262666] text-white p-2`,type:"button",onClick:S,disabled:o,children:o?"Submitting":"Sign Up"})}),f.jsx("span",{className:"border-b"}),f.jsxs("div",{className:"flex justify-center items-center gap-2",children:[f.jsx("p",{children:"Already have an account?"}),f.jsx("button",{className:"underline underline-offset-1 hover:text-[#262666] transition-colors",type:"button",onClick:()=>s("/"),children:"Sign In"})]})]})]})]})})]})}const fV=()=>{const t=mn(An),e=Rn(t),n=wr();return M.useEffect(()=>{bi(e,async r=>{if(!r)return localStorage.setItem("userId",JSON.stringify("")),localStorage.setItem("loggedIn",JSON.stringify(!1)),n("/")})},[e,n]),f.jsx(Jk,{})};function pV(){return f.jsx(f.Fragment,{children:f.jsxs(eP,{children:[f.jsx(Pn,{path:"/",element:f.jsx(SM,{})}),f.jsx(Pn,{path:"/sign-up",element:f.jsx(hV,{})}),f.jsxs(Pn,{element:f.jsx(fV,{}),children:[f.jsx(Pn,{path:"/multi-form",element:f.jsx(jj,{})}),f.jsx(Pn,{path:"/welcome",element:f.jsx(Fj,{})}),f.jsx(Pn,{path:"/select-doctor",element:f.jsx(Uj,{})}),f.jsx(Pn,{path:"/doctors/female-consultant",element:f.jsx(cV,{})}),f.jsx(Pn,{path:"/doctors/male-consultant",element:f.jsx(uV,{})}),f.jsx(Pn,{path:"/view-profile",element:f.jsx(dV,{})})]})]})})}const mV={value:""},gV=$I({name:"userId",initialState:mV,reducers:{getUserId:(t,e)=>{t.value=e.payload}}}),yV=gV.reducer,vV=Ej({reducer:{formStep:Oj,userId:yV}});cT(document.getElementById("root")).render(f.jsx(M.StrictMode,{children:f.jsx(rP,{basename:"/medical-chatbot/",children:f.jsx(GM,{store:vV,children:f.jsx(pV,{})})})}));
