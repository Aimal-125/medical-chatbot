function bC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _m(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xw={exports:{}},Eh={},Jw={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=Symbol.for("react.element"),AC=Symbol.for("react.portal"),RC=Symbol.for("react.fragment"),kC=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),OC=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),DC=Symbol.for("react.suspense"),MC=Symbol.for("react.memo"),jC=Symbol.for("react.lazy"),lv=Symbol.iterator;function VC(t){return t===null||typeof t!="object"?null:(t=lv&&t[lv]||t["@@iterator"],typeof t=="function"?t:null)}var Zw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e1=Object.assign,t1={};function jo(t,e,n){this.props=t,this.context=e,this.refs=t1,this.updater=n||Zw}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n1(){}n1.prototype=jo.prototype;function wm(t,e,n){this.props=t,this.context=e,this.refs=t1,this.updater=n||Zw}var Em=wm.prototype=new n1;Em.constructor=wm;e1(Em,jo.prototype);Em.isPureReactComponent=!0;var cv=Array.isArray,r1=Object.prototype.hasOwnProperty,Tm={current:null},i1={key:!0,ref:!0,__self:!0,__source:!0};function s1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)r1.call(e,r)&&!i1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ol,type:t,key:s,ref:o,props:i,_owner:Tm.current}}function FC(t,e){return{$$typeof:Ol,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ol}function UC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uv=/\/+/g;function Pd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UC(""+t.key):e.toString(36)}function Gc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ol:case AC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Pd(o,0):r,cv(i)?(n="",t!=null&&(n=t.replace(uv,"$&/")+"/"),Gc(i,e,n,"",function(u){return u})):i!=null&&(Sm(i)&&(i=FC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(uv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",cv(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+Pd(s,a);o+=Gc(s,e,n,c,i)}else if(c=VC(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+Pd(s,a++),o+=Gc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wc(t,e,n){if(t==null)return t;var r=[],i=0;return Gc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},qc={transition:null},BC={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Tm};function o1(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:wc,forEach:function(t,e,n){wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wc(t,function(){e++}),e},toArray:function(t){return wc(t,function(e){return e})||[]},only:function(t){if(!Sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=jo;de.Fragment=RC;de.Profiler=PC;de.PureComponent=wm;de.StrictMode=kC;de.Suspense=DC;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BC;de.act=o1;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=e1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)r1.call(e,c)&&!i1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ol,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:OC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NC,_context:t},t.Consumer=t};de.createElement=s1;de.createFactory=function(t){var e=s1.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:LC,render:t}};de.isValidElement=Sm;de.lazy=function(t){return{$$typeof:jC,_payload:{_status:-1,_result:t},_init:zC}};de.memo=function(t,e){return{$$typeof:MC,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};de.unstable_act=o1;de.useCallback=function(t,e){return Ct.current.useCallback(t,e)};de.useContext=function(t){return Ct.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};de.useEffect=function(t,e){return Ct.current.useEffect(t,e)};de.useId=function(){return Ct.current.useId()};de.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Ct.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};de.useRef=function(t){return Ct.current.useRef(t)};de.useState=function(t){return Ct.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Ct.current.useTransition()};de.version="18.3.1";Jw.exports=de;var V=Jw.exports;const we=_m(V),kf=bC({__proto__:null,default:we},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C=V,WC=Symbol.for("react.element"),HC=Symbol.for("react.fragment"),GC=Object.prototype.hasOwnProperty,qC=$C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KC={key:!0,ref:!0,__self:!0,__source:!0};function a1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GC.call(e,r)&&!KC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WC,type:t,key:s,ref:o,props:i,_owner:qC.current}}Eh.Fragment=HC;Eh.jsx=a1;Eh.jsxs=a1;Xw.exports=Eh;var f=Xw.exports,l1={exports:{}},Zt={},c1={exports:{}},u1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,j){var D=B.length;B.push(j);e:for(;0<D;){var U=D-1>>>1,q=B[U];if(0<i(q,j))B[U]=j,B[D]=q,D=U;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var j=B[0],D=B.pop();if(D!==j){B[0]=D;e:for(var U=0,q=B.length,W=q>>>1;U<W;){var Z=2*(U+1)-1,ce=B[Z],ue=Z+1,se=B[ue];if(0>i(ce,D))ue<q&&0>i(se,ce)?(B[U]=se,B[ue]=D,U=ue):(B[U]=ce,B[Z]=D,U=Z);else if(ue<q&&0>i(se,D))B[U]=se,B[ue]=D,U=ue;else break e}}return j}function i(B,j){var D=B.sortIndex-j.sortIndex;return D!==0?D:B.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,p=null,m=3,y=!1,T=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=B)r(u),j.sortIndex=j.expirationTime,e(c,j);else break;j=n(u)}}function P(B){if(b=!1,E(B),!T)if(n(c)!==null)T=!0,$(O);else{var j=n(u);j!==null&&K(P,j.startTime-B)}}function O(B,j){T=!1,b&&(b=!1,w(v),v=-1),y=!0;var D=m;try{for(E(j),p=n(c);p!==null&&(!(p.expirationTime>j)||B&&!N());){var U=p.callback;if(typeof U=="function"){p.callback=null,m=p.priorityLevel;var q=U(p.expirationTime<=j);j=t.unstable_now(),typeof q=="function"?p.callback=q:p===n(c)&&r(c),E(j)}else r(c);p=n(c)}if(p!==null)var W=!0;else{var Z=n(u);Z!==null&&K(P,Z.startTime-j),W=!1}return W}finally{p=null,m=D,y=!1}}var L=!1,S=null,v=-1,I=5,R=-1;function N(){return!(t.unstable_now()-R<I)}function k(){if(S!==null){var B=t.unstable_now();R=B;var j=!0;try{j=S(!0,B)}finally{j?A():(L=!1,S=null)}}else L=!1}var A;if(typeof _=="function")A=function(){_(k)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=k,A=function(){re.postMessage(null)}}else A=function(){C(k,0)};function $(B){S=B,L||(L=!0,A())}function K(B,j){v=C(function(){B(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,$(O))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var D=m;m=j;try{return B()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,j){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var D=m;m=B;try{return j()}finally{m=D}},t.unstable_scheduleCallback=function(B,j,D){var U=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,B){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=D+q,B={id:d++,callback:j,priorityLevel:B,startTime:D,expirationTime:q,sortIndex:-1},D>U?(B.sortIndex=D,e(u,B),n(c)===null&&B===n(u)&&(b?(w(v),v=-1):b=!0,K(P,D-U))):(B.sortIndex=q,e(c,B),T||y||(T=!0,$(O))),B},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(B){var j=m;return function(){var D=m;m=j;try{return B.apply(this,arguments)}finally{m=D}}}})(u1);c1.exports=u1;var YC=c1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC=V,Qt=YC;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h1=new Set,Qa={};function gs(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for(Qa[t]=e,t=0;t<e.length;t++)h1.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=Object.prototype.hasOwnProperty,XC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hv={},dv={};function JC(t){return Pf.call(dv,t)?!0:Pf.call(hv,t)?!1:XC.test(t)?dv[t]=!0:(hv[t]=!0,!1)}function ZC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eb(t,e,n,r){if(e===null||typeof e>"u"||ZC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xm=/[\-:]([a-z])/g;function Im(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xm,Im);ut[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xm,Im);ut[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xm,Im);ut[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cm(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eb(e,n,i,r)&&(n=null),r||i===null?JC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=QC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),$s=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),d1=Symbol.for("react.provider"),f1=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),p1=Symbol.for("react.offscreen"),fv=Symbol.iterator;function ua(t){return t===null||typeof t!="object"?null:(t=fv&&t[fv]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Nd;function wa(t){if(Nd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nd=e&&e[1]||""}return`
`+Nd+t}var Od=!1;function Ld(t,e){if(!t||Od)return"";Od=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Od=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wa(t):""}function tb(t){switch(t.tag){case 5:return wa(t.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return t=Ld(t.type,!1),t;case 11:return t=Ld(t.type.render,!1),t;case 1:return t=Ld(t.type,!0),t;default:return""}}function Df(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case $s:return"Portal";case Nf:return"Profiler";case bm:return"StrictMode";case Of:return"Suspense";case Lf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f1:return(t.displayName||"Context")+".Consumer";case d1:return(t._context.displayName||"Context")+".Provider";case Am:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rm:return e=t.displayName||null,e!==null?e:Df(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return Df(t(e))}catch{}}return null}function nb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Df(e);case 8:return e===bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rb(t){var e=m1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tc(t){t._valueTracker||(t._valueTracker=rb(t))}function g1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=m1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mf(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function y1(t,e){e=e.checked,e!=null&&Cm(t,"checked",e,!1)}function jf(t,e){y1(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vf(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vf(t,e,n){(e!=="number"||vu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ea=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ff(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Ea(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function v1(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sc,w1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ib=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(t){ib.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Na[e]=Na[t]})});function E1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Na.hasOwnProperty(t)&&Na[t]?(""+e).trim():e+"px"}function T1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=E1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sb=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zf(t,e){if(e){if(sb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function km(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,so=null,oo=null;function vv(t){if(t=Ml(t)){if(typeof Wf!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Ch(e),Wf(t.stateNode,t.type,e))}}function S1(t){so?oo?oo.push(t):oo=[t]:so=t}function x1(){if(so){var t=so,e=oo;if(oo=so=null,vv(t),e)for(t=0;t<e.length;t++)vv(e[t])}}function I1(t,e){return t(e)}function C1(){}var Dd=!1;function b1(t,e,n){if(Dd)return t(e,n);Dd=!0;try{return I1(t,e,n)}finally{Dd=!1,(so!==null||oo!==null)&&(C1(),x1())}}function Ja(t,e){var n=t.stateNode;if(n===null)return null;var r=Ch(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Hf=!1;if(ar)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{Hf=!1}function ob(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Oa=!1,_u=null,wu=!1,Gf=null,ab={onError:function(t){Oa=!0,_u=t}};function lb(t,e,n,r,i,s,o,a,c){Oa=!1,_u=null,ob.apply(ab,arguments)}function cb(t,e,n,r,i,s,o,a,c){if(lb.apply(this,arguments),Oa){if(Oa){var u=_u;Oa=!1,_u=null}else throw Error(G(198));wu||(wu=!0,Gf=u)}}function ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _v(t){if(ys(t)!==t)throw Error(G(188))}function ub(t){var e=t.alternate;if(!e){if(e=ys(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _v(i),t;if(s===r)return _v(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function R1(t){return t=ub(t),t!==null?k1(t):null}function k1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=k1(t);if(e!==null)return e;t=t.sibling}return null}var P1=Qt.unstable_scheduleCallback,wv=Qt.unstable_cancelCallback,hb=Qt.unstable_shouldYield,db=Qt.unstable_requestPaint,Be=Qt.unstable_now,fb=Qt.unstable_getCurrentPriorityLevel,Pm=Qt.unstable_ImmediatePriority,N1=Qt.unstable_UserBlockingPriority,Eu=Qt.unstable_NormalPriority,pb=Qt.unstable_LowPriority,O1=Qt.unstable_IdlePriority,Th=null,jn=null;function mb(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Th,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:vb,gb=Math.log,yb=Math.LN2;function vb(t){return t>>>=0,t===0?32:31-(gb(t)/yb|0)|0}var xc=64,Ic=4194304;function Ta(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ta(a):(s&=o,s!==0&&(r=Ta(s)))}else o=n&~i,o!==0?r=Ta(o):s!==0&&(r=Ta(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),i=1<<n,r|=t[n],e&=~i;return r}function _b(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=_b(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L1(){var t=xc;return xc<<=1,!(xc&4194240)&&(xc=64),t}function Md(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function Eb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function D1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var M1,Om,j1,V1,F1,Kf=!1,Cc=[],Xr=null,Jr=null,Zr=null,Za=new Map,el=new Map,Ur=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ev(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(e.pointerId)}}function da(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ml(e),e!==null&&Om(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sb(t,e,n,r,i){switch(e){case"focusin":return Xr=da(Xr,t,e,n,r,i),!0;case"dragenter":return Jr=da(Jr,t,e,n,r,i),!0;case"mouseover":return Zr=da(Zr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Za.set(s,da(Za.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,el.set(s,da(el.get(s)||null,t,e,n,r,i)),!0}return!1}function U1(t){var e=$i(t.target);if(e!==null){var n=ys(e);if(n!==null){if(e=n.tag,e===13){if(e=A1(n),e!==null){t.blockedOn=e,F1(t.priority,function(){j1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$f=r,n.target.dispatchEvent(r),$f=null}else return e=Ml(n),e!==null&&Om(e),t.blockedOn=n,!1;e.shift()}return!0}function Tv(t,e,n){Kc(t)&&n.delete(e)}function xb(){Kf=!1,Xr!==null&&Kc(Xr)&&(Xr=null),Jr!==null&&Kc(Jr)&&(Jr=null),Zr!==null&&Kc(Zr)&&(Zr=null),Za.forEach(Tv),el.forEach(Tv)}function fa(t,e){t.blockedOn===e&&(t.blockedOn=null,Kf||(Kf=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,xb)))}function tl(t){function e(i){return fa(i,t)}if(0<Cc.length){fa(Cc[0],t);for(var n=1;n<Cc.length;n++){var r=Cc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&fa(Xr,t),Jr!==null&&fa(Jr,t),Zr!==null&&fa(Zr,t),Za.forEach(e),el.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)U1(n),n.blockedOn===null&&Ur.shift()}var ao=_r.ReactCurrentBatchConfig,Su=!0;function Ib(t,e,n,r){var i=Te,s=ao.transition;ao.transition=null;try{Te=1,Lm(t,e,n,r)}finally{Te=i,ao.transition=s}}function Cb(t,e,n,r){var i=Te,s=ao.transition;ao.transition=null;try{Te=4,Lm(t,e,n,r)}finally{Te=i,ao.transition=s}}function Lm(t,e,n,r){if(Su){var i=Yf(t,e,n,r);if(i===null)Gd(t,e,r,xu,n),Ev(t,r);else if(Sb(i,t,e,n,r))r.stopPropagation();else if(Ev(t,r),e&4&&-1<Tb.indexOf(t)){for(;i!==null;){var s=Ml(i);if(s!==null&&M1(s),s=Yf(t,e,n,r),s===null&&Gd(t,e,r,xu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gd(t,e,r,null,n)}}var xu=null;function Yf(t,e,n,r){if(xu=null,t=km(r),t=$i(t),t!==null)if(e=ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xu=t,null}function z1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fb()){case Pm:return 1;case N1:return 4;case Eu:case pb:return 16;case O1:return 536870912;default:return 16}default:return 16}}var Hr=null,Dm=null,Yc=null;function B1(){if(Yc)return Yc;var t,e=Dm,n=e.length,r,i="value"in Hr?Hr.value:Hr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Yc=i.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bc(){return!0}function Sv(){return!1}function en(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bc:Sv,this.isPropagationStopped=Sv,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),e}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=en(Vo),Dl=De({},Vo,{view:0,detail:0}),bb=en(Dl),jd,Vd,pa,Sh=De({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pa&&(pa&&t.type==="mousemove"?(jd=t.screenX-pa.screenX,Vd=t.screenY-pa.screenY):Vd=jd=0,pa=t),jd)},movementY:function(t){return"movementY"in t?t.movementY:Vd}}),xv=en(Sh),Ab=De({},Sh,{dataTransfer:0}),Rb=en(Ab),kb=De({},Dl,{relatedTarget:0}),Fd=en(kb),Pb=De({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),Nb=en(Pb),Ob=De({},Vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lb=en(Ob),Db=De({},Vo,{data:0}),Iv=en(Db),Mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vb[t])?!!e[t]:!1}function jm(){return Fb}var Ub=De({},Dl,{key:function(t){if(t.key){var e=Mb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zb=en(Ub),Bb=De({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cv=en(Bb),$b=De({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),Wb=en($b),Hb=De({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gb=en(Hb),qb=De({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kb=en(qb),Yb=[9,13,27,32],Vm=ar&&"CompositionEvent"in window,La=null;ar&&"documentMode"in document&&(La=document.documentMode);var Qb=ar&&"TextEvent"in window&&!La,$1=ar&&(!Vm||La&&8<La&&11>=La),bv=" ",Av=!1;function W1(t,e){switch(t){case"keyup":return Yb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function Xb(t,e){switch(t){case"compositionend":return H1(e);case"keypress":return e.which!==32?null:(Av=!0,bv);case"textInput":return t=e.data,t===bv&&Av?null:t;default:return null}}function Jb(t,e){if(Hs)return t==="compositionend"||!Vm&&W1(t,e)?(t=B1(),Yc=Dm=Hr=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $1&&e.locale!=="ko"?null:e.data;default:return null}}var Zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zb[t.type]:e==="textarea"}function G1(t,e,n,r){S1(r),e=Iu(e,"onChange"),0<e.length&&(n=new Mm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Da=null,nl=null;function eA(t){rE(t,0)}function xh(t){var e=Ks(t);if(g1(e))return t}function tA(t,e){if(t==="change")return e}var q1=!1;if(ar){var Ud;if(ar){var zd="oninput"in document;if(!zd){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),zd=typeof kv.oninput=="function"}Ud=zd}else Ud=!1;q1=Ud&&(!document.documentMode||9<document.documentMode)}function Pv(){Da&&(Da.detachEvent("onpropertychange",K1),nl=Da=null)}function K1(t){if(t.propertyName==="value"&&xh(nl)){var e=[];G1(e,nl,t,km(t)),b1(eA,e)}}function nA(t,e,n){t==="focusin"?(Pv(),Da=e,nl=n,Da.attachEvent("onpropertychange",K1)):t==="focusout"&&Pv()}function rA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xh(nl)}function iA(t,e){if(t==="click")return xh(e)}function sA(t,e){if(t==="input"||t==="change")return xh(e)}function oA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:oA;function rl(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pf.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function Nv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ov(t,e){var n=Nv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nv(n)}}function Y1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Q1(){for(var t=window,e=vu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vu(t.document)}return e}function Fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aA(t){var e=Q1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Y1(n.ownerDocument.documentElement,n)){if(r!==null&&Fm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ov(n,s);var o=Ov(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lA=ar&&"documentMode"in document&&11>=document.documentMode,Gs=null,Qf=null,Ma=null,Xf=!1;function Lv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xf||Gs==null||Gs!==vu(r)||(r=Gs,"selectionStart"in r&&Fm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ma&&rl(Ma,r)||(Ma=r,r=Iu(Qf,"onSelect"),0<r.length&&(e=new Mm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gs)))}function Ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qs={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},Bd={},X1={};ar&&(X1=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Ih(t){if(Bd[t])return Bd[t];if(!qs[t])return t;var e=qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in X1)return Bd[t]=e[n];return t}var J1=Ih("animationend"),Z1=Ih("animationiteration"),eE=Ih("animationstart"),tE=Ih("transitionend"),nE=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){nE.set(t,e),gs(e,[t])}for(var $d=0;$d<Dv.length;$d++){var Wd=Dv[$d],cA=Wd.toLowerCase(),uA=Wd[0].toUpperCase()+Wd.slice(1);Ei(cA,"on"+uA)}Ei(J1,"onAnimationEnd");Ei(Z1,"onAnimationIteration");Ei(eE,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(tE,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Mv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cb(r,e,void 0,t),t.currentTarget=null}function rE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Mv(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Mv(i,a,u),s=c}}}if(wu)throw t=Gf,wu=!1,Gf=null,t}function Ae(t,e){var n=e[np];n===void 0&&(n=e[np]=new Set);var r=t+"__bubble";n.has(r)||(iE(e,t,2,!1),n.add(r))}function Hd(t,e,n){var r=0;e&&(r|=4),iE(n,t,r,e)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function il(t){if(!t[Rc]){t[Rc]=!0,h1.forEach(function(n){n!=="selectionchange"&&(hA.has(n)||Hd(n,!1,t),Hd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rc]||(e[Rc]=!0,Hd("selectionchange",!1,e))}}function iE(t,e,n,r){switch(z1(e)){case 1:var i=Ib;break;case 4:i=Cb;break;default:i=Lm}n=i.bind(null,e,n,t),i=void 0,!Hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$i(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}b1(function(){var u=s,d=km(n),p=[];e:{var m=nE.get(t);if(m!==void 0){var y=Mm,T=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":y=zb;break;case"focusin":T="focus",y=Fd;break;case"focusout":T="blur",y=Fd;break;case"beforeblur":case"afterblur":y=Fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Rb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Wb;break;case J1:case Z1:case eE:y=Nb;break;case tE:y=Gb;break;case"scroll":y=bb;break;case"wheel":y=Kb;break;case"copy":case"cut":case"paste":y=Lb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Cv}var b=(e&4)!==0,C=!b&&t==="scroll",w=b?m!==null?m+"Capture":null:m;b=[];for(var _=u,E;_!==null;){E=_;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,w!==null&&(P=Ja(_,w),P!=null&&b.push(sl(_,P,E)))),C)break;_=_.return}0<b.length&&(m=new y(m,T,null,n,d),p.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==$f&&(T=n.relatedTarget||n.fromElement)&&($i(T)||T[lr]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=u,T=T?$i(T):null,T!==null&&(C=ys(T),T!==C||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=u),y!==T)){if(b=xv,P="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=Cv,P="onPointerLeave",w="onPointerEnter",_="pointer"),C=y==null?m:Ks(y),E=T==null?m:Ks(T),m=new b(P,_+"leave",y,n,d),m.target=C,m.relatedTarget=E,P=null,$i(d)===u&&(b=new b(w,_+"enter",T,n,d),b.target=E,b.relatedTarget=C,P=b),C=P,y&&T)t:{for(b=y,w=T,_=0,E=b;E;E=Ms(E))_++;for(E=0,P=w;P;P=Ms(P))E++;for(;0<_-E;)b=Ms(b),_--;for(;0<E-_;)w=Ms(w),E--;for(;_--;){if(b===w||w!==null&&b===w.alternate)break t;b=Ms(b),w=Ms(w)}b=null}else b=null;y!==null&&jv(p,m,y,b,!1),T!==null&&C!==null&&jv(p,C,T,b,!0)}}e:{if(m=u?Ks(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var O=tA;else if(Rv(m))if(q1)O=sA;else{O=rA;var L=nA}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=iA);if(O&&(O=O(t,u))){G1(p,O,n,d);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Vf(m,"number",m.value)}switch(L=u?Ks(u):window,t){case"focusin":(Rv(L)||L.contentEditable==="true")&&(Gs=L,Qf=u,Ma=null);break;case"focusout":Ma=Qf=Gs=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Lv(p,n,d);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":Lv(p,n,d)}var S;if(Vm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hs?W1(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&($1&&n.locale!=="ko"&&(Hs||v!=="onCompositionStart"?v==="onCompositionEnd"&&Hs&&(S=B1()):(Hr=d,Dm="value"in Hr?Hr.value:Hr.textContent,Hs=!0)),L=Iu(u,v),0<L.length&&(v=new Iv(v,t,null,n,d),p.push({event:v,listeners:L}),S?v.data=S:(S=H1(n),S!==null&&(v.data=S)))),(S=Qb?Xb(t,n):Jb(t,n))&&(u=Iu(u,"onBeforeInput"),0<u.length&&(d=new Iv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=S))}rE(p,e)})}function sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Iu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ja(t,n),s!=null&&r.unshift(sl(t,s,i)),s=Ja(t,e),s!=null&&r.push(sl(t,s,i))),t=t.return}return r}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=Ja(n,s),c!=null&&o.unshift(sl(n,c,a))):i||(c=Ja(n,s),c!=null&&o.push(sl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace(dA,`
`).replace(fA,"")}function kc(t,e,n){if(e=Vv(e),Vv(t)!==e&&n)throw Error(G(425))}function Cu(){}var Jf=null,Zf=null;function ep(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tp=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,Fv=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof Fv<"u"?function(t){return Fv.resolve(null).then(t).catch(gA)}:tp;function gA(t){setTimeout(function(){throw t})}function qd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tl(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Fo,ol="__reactProps$"+Fo,lr="__reactContainer$"+Fo,np="__reactEvents$"+Fo,yA="__reactListeners$"+Fo,vA="__reactHandles$"+Fo;function $i(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uv(t);t!==null;){if(n=t[Ln])return n;t=Uv(t)}return e}t=n,n=t.parentNode}return null}function Ml(t){return t=t[Ln]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Ch(t){return t[ol]||null}var rp=[],Ys=-1;function Ti(t){return{current:t}}function Re(t){0>Ys||(t.current=rp[Ys],rp[Ys]=null,Ys--)}function Ie(t,e){Ys++,rp[Ys]=t.current,t.current=e}var hi={},wt=Ti(hi),Mt=Ti(!1),ts=hi;function yo(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jt(t){return t=t.childContextTypes,t!=null}function bu(){Re(Mt),Re(wt)}function zv(t,e,n){if(wt.current!==hi)throw Error(G(168));Ie(wt,e),Ie(Mt,n)}function sE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,nb(t)||"Unknown",i));return De({},n,r)}function Au(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,ts=wt.current,Ie(wt,t),Ie(Mt,Mt.current),!0}function Bv(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=sE(t,e,ts),r.__reactInternalMemoizedMergedChildContext=t,Re(Mt),Re(wt),Ie(wt,t)):Re(Mt),Ie(Mt,n)}var Xn=null,bh=!1,Kd=!1;function oE(t){Xn===null?Xn=[t]:Xn.push(t)}function _A(t){bh=!0,oE(t)}function Si(){if(!Kd&&Xn!==null){Kd=!0;var t=0,e=Te;try{var n=Xn;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,bh=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(t+1)),P1(Pm,Si),i}finally{Te=e,Kd=!1}}return null}var Qs=[],Xs=0,Ru=null,ku=0,on=[],an=0,ns=null,Zn=1,er="";function Vi(t,e){Qs[Xs++]=ku,Qs[Xs++]=Ru,Ru=t,ku=e}function aE(t,e,n){on[an++]=Zn,on[an++]=er,on[an++]=ns,ns=t;var r=Zn;t=er;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var s=32-xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zn=1<<32-xn(e)+i|n<<i|r,er=s+t}else Zn=1<<s|n<<i|r,er=t}function Um(t){t.return!==null&&(Vi(t,1),aE(t,1,0))}function zm(t){for(;t===Ru;)Ru=Qs[--Xs],Qs[Xs]=null,ku=Qs[--Xs],Qs[Xs]=null;for(;t===ns;)ns=on[--an],on[an]=null,er=on[--an],on[an]=null,Zn=on[--an],on[an]=null}var qt=null,Wt=null,Pe=!1,wn=null;function lE(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $v(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,Wt=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ns!==null?{id:Zn,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,Wt=null,!0):!1;default:return!1}}function ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sp(t){if(Pe){var e=Wt;if(e){var n=e;if(!$v(t,e)){if(ip(t))throw Error(G(418));e=ei(n.nextSibling);var r=qt;e&&$v(t,e)?lE(r,n):(t.flags=t.flags&-4097|2,Pe=!1,qt=t)}}else{if(ip(t))throw Error(G(418));t.flags=t.flags&-4097|2,Pe=!1,qt=t}}}function Wv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function Pc(t){if(t!==qt)return!1;if(!Pe)return Wv(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ep(t.type,t.memoizedProps)),e&&(e=Wt)){if(ip(t))throw cE(),Error(G(418));for(;e;)lE(t,e),e=ei(e.nextSibling)}if(Wv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=qt?ei(t.stateNode.nextSibling):null;return!0}function cE(){for(var t=Wt;t;)t=ei(t.nextSibling)}function vo(){Wt=qt=null,Pe=!1}function Bm(t){wn===null?wn=[t]:wn.push(t)}var wA=_r.ReactCurrentBatchConfig;function ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Nc(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hv(t){var e=t._init;return e(t._payload)}function uE(t){function e(w,_){if(t){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=ii(w,_),w.index=0,w.sibling=null,w}function s(w,_,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,E,P){return _===null||_.tag!==6?(_=tf(E,w.mode,P),_.return=w,_):(_=i(_,E),_.return=w,_)}function c(w,_,E,P){var O=E.type;return O===Ws?d(w,_,E.props.children,P,E.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===jr&&Hv(O)===_.type)?(P=i(_,E.props),P.ref=ma(w,_,E),P.return=w,P):(P=ru(E.type,E.key,E.props,null,w.mode,P),P.ref=ma(w,_,E),P.return=w,P)}function u(w,_,E,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=nf(E,w.mode,P),_.return=w,_):(_=i(_,E.children||[]),_.return=w,_)}function d(w,_,E,P,O){return _===null||_.tag!==7?(_=Yi(E,w.mode,P,O),_.return=w,_):(_=i(_,E),_.return=w,_)}function p(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=tf(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ec:return E=ru(_.type,_.key,_.props,null,w.mode,E),E.ref=ma(w,null,_),E.return=w,E;case $s:return _=nf(_,w.mode,E),_.return=w,_;case jr:var P=_._init;return p(w,P(_._payload),E)}if(Ea(_)||ua(_))return _=Yi(_,w.mode,E,null),_.return=w,_;Nc(w,_)}return null}function m(w,_,E,P){var O=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(w,_,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ec:return E.key===O?c(w,_,E,P):null;case $s:return E.key===O?u(w,_,E,P):null;case jr:return O=E._init,m(w,_,O(E._payload),P)}if(Ea(E)||ua(E))return O!==null?null:d(w,_,E,P,null);Nc(w,E)}return null}function y(w,_,E,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(E)||null,a(_,w,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ec:return w=w.get(P.key===null?E:P.key)||null,c(_,w,P,O);case $s:return w=w.get(P.key===null?E:P.key)||null,u(_,w,P,O);case jr:var L=P._init;return y(w,_,E,L(P._payload),O)}if(Ea(P)||ua(P))return w=w.get(E)||null,d(_,w,P,O,null);Nc(_,P)}return null}function T(w,_,E,P){for(var O=null,L=null,S=_,v=_=0,I=null;S!==null&&v<E.length;v++){S.index>v?(I=S,S=null):I=S.sibling;var R=m(w,S,E[v],P);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(w,S),_=s(R,_,v),L===null?O=R:L.sibling=R,L=R,S=I}if(v===E.length)return n(w,S),Pe&&Vi(w,v),O;if(S===null){for(;v<E.length;v++)S=p(w,E[v],P),S!==null&&(_=s(S,_,v),L===null?O=S:L.sibling=S,L=S);return Pe&&Vi(w,v),O}for(S=r(w,S);v<E.length;v++)I=y(S,w,v,E[v],P),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?v:I.key),_=s(I,_,v),L===null?O=I:L.sibling=I,L=I);return t&&S.forEach(function(N){return e(w,N)}),Pe&&Vi(w,v),O}function b(w,_,E,P){var O=ua(E);if(typeof O!="function")throw Error(G(150));if(E=O.call(E),E==null)throw Error(G(151));for(var L=O=null,S=_,v=_=0,I=null,R=E.next();S!==null&&!R.done;v++,R=E.next()){S.index>v?(I=S,S=null):I=S.sibling;var N=m(w,S,R.value,P);if(N===null){S===null&&(S=I);break}t&&S&&N.alternate===null&&e(w,S),_=s(N,_,v),L===null?O=N:L.sibling=N,L=N,S=I}if(R.done)return n(w,S),Pe&&Vi(w,v),O;if(S===null){for(;!R.done;v++,R=E.next())R=p(w,R.value,P),R!==null&&(_=s(R,_,v),L===null?O=R:L.sibling=R,L=R);return Pe&&Vi(w,v),O}for(S=r(w,S);!R.done;v++,R=E.next())R=y(S,w,v,R.value,P),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?v:R.key),_=s(R,_,v),L===null?O=R:L.sibling=R,L=R);return t&&S.forEach(function(k){return e(w,k)}),Pe&&Vi(w,v),O}function C(w,_,E,P){if(typeof E=="object"&&E!==null&&E.type===Ws&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ec:e:{for(var O=E.key,L=_;L!==null;){if(L.key===O){if(O=E.type,O===Ws){if(L.tag===7){n(w,L.sibling),_=i(L,E.props.children),_.return=w,w=_;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===jr&&Hv(O)===L.type){n(w,L.sibling),_=i(L,E.props),_.ref=ma(w,L,E),_.return=w,w=_;break e}n(w,L);break}else e(w,L);L=L.sibling}E.type===Ws?(_=Yi(E.props.children,w.mode,P,E.key),_.return=w,w=_):(P=ru(E.type,E.key,E.props,null,w.mode,P),P.ref=ma(w,_,E),P.return=w,w=P)}return o(w);case $s:e:{for(L=E.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=i(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=nf(E,w.mode,P),_.return=w,w=_}return o(w);case jr:return L=E._init,C(w,_,L(E._payload),P)}if(Ea(E))return T(w,_,E,P);if(ua(E))return b(w,_,E,P);Nc(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,E),_.return=w,w=_):(n(w,_),_=tf(E,w.mode,P),_.return=w,w=_),o(w)):n(w,_)}return C}var _o=uE(!0),hE=uE(!1),Pu=Ti(null),Nu=null,Js=null,$m=null;function Wm(){$m=Js=Nu=null}function Hm(t){var e=Pu.current;Re(Pu),t._currentValue=e}function op(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){Nu=t,$m=Js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if($m!==t)if(t={context:t,memoizedValue:e,next:null},Js===null){if(Nu===null)throw Error(G(308));Js=t,Nu.dependencies={lanes:0,firstContext:t}}else Js=Js.next=t;return e}var Wi=null;function Gm(t){Wi===null?Wi=[t]:Wi.push(t)}function dE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gm(e)):(n.next=i.next,i.next=n),e.interleaved=n,cr(t,r)}function cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function qm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cr(t,n)}return i=r.interleaved,i===null?(e.next=e,Gm(r)):(e.next=i.next,i.next=e),r.interleaved=e,cr(t,n)}function Xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}function Gv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ou(t,e,n,r){var i=t.updateQueue;Vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,d=u=c=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,b=a;switch(m=e,y=n,b.tag){case 1:if(T=b.payload,typeof T=="function"){p=T.call(y,p,m);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=b.payload,m=typeof T=="function"?T.call(y,p,m):T,m==null)break e;p=De({},p,m);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,c=p):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);is|=o,t.lanes=o,t.memoizedState=p}}function qv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var jl={},Vn=Ti(jl),al=Ti(jl),ll=Ti(jl);function Hi(t){if(t===jl)throw Error(G(174));return t}function Km(t,e){switch(Ie(ll,e),Ie(al,t),Ie(Vn,jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uf(e,t)}Re(Vn),Ie(Vn,e)}function wo(){Re(Vn),Re(al),Re(ll)}function pE(t){Hi(ll.current);var e=Hi(Vn.current),n=Uf(e,t.type);e!==n&&(Ie(al,t),Ie(Vn,n))}function Ym(t){al.current===t&&(Re(Vn),Re(al))}var Oe=Ti(0);function Lu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yd=[];function Qm(){for(var t=0;t<Yd.length;t++)Yd[t]._workInProgressVersionPrimary=null;Yd.length=0}var Jc=_r.ReactCurrentDispatcher,Qd=_r.ReactCurrentBatchConfig,rs=0,Le=null,Ye=null,tt=null,Du=!1,ja=!1,cl=0,EA=0;function pt(){throw Error(G(321))}function Xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Jm(t,e,n,r,i,s){if(rs=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jc.current=t===null||t.memoizedState===null?IA:CA,t=n(r,i),ja){s=0;do{if(ja=!1,cl=0,25<=s)throw Error(G(301));s+=1,tt=Ye=null,e.updateQueue=null,Jc.current=bA,t=n(r,i)}while(ja)}if(Jc.current=Mu,e=Ye!==null&&Ye.next!==null,rs=0,tt=Ye=Le=null,Du=!1,e)throw Error(G(300));return t}function Zm(){var t=cl!==0;return cl=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Le.memoizedState=tt=t:tt=tt.next=t,tt}function fn(){if(Ye===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=tt===null?Le.memoizedState:tt.next;if(e!==null)tt=e,Ye=t;else{if(t===null)throw Error(G(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},tt===null?Le.memoizedState=tt=t:tt=tt.next=t}return tt}function ul(t,e){return typeof e=="function"?e(t):e}function Xd(t){var e=fn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var d=u.lane;if((rs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,Le.lanes|=d,is|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,bn(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,is|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jd(t){var e=fn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bn(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mE(){}function gE(t,e){var n=Le,r=fn(),i=e(),s=!bn(r.memoizedState,i);if(s&&(r.memoizedState=i,Dt=!0),r=r.queue,eg(_E.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,hl(9,vE.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(G(349));rs&30||yE(n,e,i)}return i}function yE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vE(t,e,n,r){e.value=n,e.getSnapshot=r,wE(e)&&EE(t)}function _E(t,e,n){return n(function(){wE(e)&&EE(t)})}function wE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function EE(t){var e=cr(t,1);e!==null&&In(e,t,1,-1)}function Kv(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:t},e.queue=t,t=t.dispatch=xA.bind(null,Le,t),[e.memoizedState,t]}function hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TE(){return fn().memoizedState}function Zc(t,e,n,r){var i=Nn();Le.flags|=t,i.memoizedState=hl(1|e,n,void 0,r===void 0?null:r)}function Ah(t,e,n,r){var i=fn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&Xm(r,o.deps)){i.memoizedState=hl(e,n,s,r);return}}Le.flags|=t,i.memoizedState=hl(1|e,n,s,r)}function Yv(t,e){return Zc(8390656,8,t,e)}function eg(t,e){return Ah(2048,8,t,e)}function SE(t,e){return Ah(4,2,t,e)}function xE(t,e){return Ah(4,4,t,e)}function IE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CE(t,e,n){return n=n!=null?n.concat([t]):null,Ah(4,4,IE.bind(null,e,t),n)}function tg(){}function bE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RE(t,e,n){return rs&21?(bn(n,e)||(n=L1(),Le.lanes|=n,is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function TA(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Qd.transition;Qd.transition={};try{t(!1),e()}finally{Te=n,Qd.transition=r}}function kE(){return fn().memoizedState}function SA(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PE(t))NE(e,n);else if(n=dE(t,e,n,r),n!==null){var i=It();In(n,t,r,i),OE(n,e,r)}}function xA(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PE(t))NE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,o)){var c=e.interleaved;c===null?(i.next=i,Gm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=dE(t,e,i,r),n!==null&&(i=It(),In(n,t,r,i),OE(n,e,r))}}function PE(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function NE(t,e){ja=Du=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function OE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}var Mu={readContext:dn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},IA={readContext:dn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:Yv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4194308,4,IE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zc(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SA.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:Kv,useDebugValue:tg,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Kv(!1),e=t[0];return t=TA.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=Nn();if(Pe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),nt===null)throw Error(G(349));rs&30||yE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Yv(_E.bind(null,r,s,t),[t]),r.flags|=2048,hl(9,vE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nn(),e=nt.identifierPrefix;if(Pe){var n=er,r=Zn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CA={readContext:dn,useCallback:bE,useContext:dn,useEffect:eg,useImperativeHandle:CE,useInsertionEffect:SE,useLayoutEffect:xE,useMemo:AE,useReducer:Xd,useRef:TE,useState:function(){return Xd(ul)},useDebugValue:tg,useDeferredValue:function(t){var e=fn();return RE(e,Ye.memoizedState,t)},useTransition:function(){var t=Xd(ul)[0],e=fn().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:kE,unstable_isNewReconciler:!1},bA={readContext:dn,useCallback:bE,useContext:dn,useEffect:eg,useImperativeHandle:CE,useInsertionEffect:SE,useLayoutEffect:xE,useMemo:AE,useReducer:Jd,useRef:TE,useState:function(){return Jd(ul)},useDebugValue:tg,useDeferredValue:function(t){var e=fn();return Ye===null?e.memoizedState=t:RE(e,Ye.memoizedState,t)},useTransition:function(){var t=Jd(ul)[0],e=fn().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:kE,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ap(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rh={isMounted:function(t){return(t=t._reactInternals)?ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),i=ri(t),s=ir(r,i);s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(In(e,t,i,r),Xc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),i=ri(t),s=ir(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(In(e,t,i,r),Xc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=ri(t),i=ir(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(In(e,t,r,n),Xc(e,t,r))}};function Qv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!rl(n,r)||!rl(i,s):!0}function LE(t,e,n){var r=!1,i=hi,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=jt(e)?ts:wt.current,r=e.contextTypes,s=(r=r!=null)?yo(t,i):hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Xv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rh.enqueueReplaceState(e,e.state,null)}function lp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=jt(e)?ts:wt.current,i.context=yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ap(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rh.enqueueReplaceState(i,i.state,null),Ou(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var n="",r=e;do n+=tb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AA=typeof WeakMap=="function"?WeakMap:Map;function DE(t,e,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vu||(Vu=!0,_p=r),cp(t,e)},n}function ME(t,e,n){n=ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cp(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BA.bind(null,t,e,n),e.then(t,t))}function Zv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function e0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ir(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var RA=_r.ReactCurrentOwner,Dt=!1;function St(t,e,n,r){e.child=t===null?hE(e,null,n,r):_o(e,t.child,n,r)}function t0(t,e,n,r,i){n=n.render;var s=e.ref;return lo(e,i),r=Jm(t,e,n,r,s,i),n=Zm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(Pe&&n&&Um(e),e.flags|=1,St(t,e,r,i),e.child)}function n0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jE(t,e,s,r,i)):(t=ru(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(o,r)&&t.ref===e.ref)return ur(t,e,i)}return e.flags|=1,t=ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function jE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(rl(s,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,ur(t,e,i)}return up(t,e,n,r,i)}function VE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(eo,$t),$t|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(eo,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(eo,$t),$t|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(eo,$t),$t|=r;return St(t,e,i,n),e.child}function FE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function up(t,e,n,r,i){var s=jt(n)?ts:wt.current;return s=yo(e,s),lo(e,i),n=Jm(t,e,n,r,s,i),r=Zm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(Pe&&r&&Um(e),e.flags|=1,St(t,e,n,i),e.child)}function r0(t,e,n,r,i){if(jt(n)){var s=!0;Au(e)}else s=!1;if(lo(e,i),e.stateNode===null)eu(t,e),LE(e,n,r),lp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=jt(n)?ts:wt.current,u=yo(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Xv(e,o,r,u),Vr=!1;var m=e.memoizedState;o.state=m,Ou(e,r,o,i),c=e.memoizedState,a!==r||m!==c||Mt.current||Vr?(typeof d=="function"&&(ap(e,n,d,r),c=e.memoizedState),(a=Vr||Qv(e,n,a,r,m,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:vn(e.type,a),o.props=u,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dn(c):(c=jt(n)?ts:wt.current,c=yo(e,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==c)&&Xv(e,o,r,c),Vr=!1,m=e.memoizedState,o.state=m,Ou(e,r,o,i);var T=e.memoizedState;a!==p||m!==T||Mt.current||Vr?(typeof y=="function"&&(ap(e,n,y,r),T=e.memoizedState),(u=Vr||Qv(e,n,u,r,m,T,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return hp(t,e,n,r,s,i)}function hp(t,e,n,r,i,s){FE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Bv(e,n,!1),ur(t,e,s);r=e.stateNode,RA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_o(e,t.child,null,s),e.child=_o(e,null,a,s)):St(t,e,a,s),e.memoizedState=r.state,i&&Bv(e,n,!0),e.child}function UE(t){var e=t.stateNode;e.pendingContext?zv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zv(t,e.context,!1),Km(t,e.containerInfo)}function i0(t,e,n,r,i){return vo(),Bm(i),e.flags|=256,St(t,e,n,r),e.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function fp(t){return{baseLanes:t,cachePool:null,transitions:null}}function zE(t,e,n){var r=e.pendingProps,i=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Oe,i&1),t===null)return sp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nh(o,r,0,null),t=Yi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fp(n),e.memoizedState=dp,t):ng(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ii(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ii(a,s):(s=Yi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dp,r}return s=t.child,t=s.sibling,r=ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ng(t,e){return e=Nh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oc(t,e,n,r){return r!==null&&Bm(r),_o(e,t.child,null,n),t=ng(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Zd(Error(G(422))),Oc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nh({mode:"visible",children:r.children},i,0,null),s=Yi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_o(e,t.child,null,o),e.child.memoizedState=fp(o),e.memoizedState=dp,s);if(!(e.mode&1))return Oc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=Zd(s,r,void 0),Oc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dt||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cr(t,i),In(r,t,i,-1))}return lg(),r=Zd(Error(G(421))),Oc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$A.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wt=ei(i.nextSibling),qt=e,Pe=!0,wn=null,t!==null&&(on[an++]=Zn,on[an++]=er,on[an++]=ns,Zn=t.id,er=t.overflow,ns=e),e=ng(e,r.children),e.flags|=4096,e)}function s0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),op(t.return,e,n)}function ef(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function BE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(St(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s0(t,n,e);else if(t.tag===19)s0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ef(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ef(e,!0,n,null,s);break;case"together":ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PA(t,e,n){switch(e.tag){case 3:UE(e),vo();break;case 5:pE(e);break;case 1:jt(e.type)&&Au(e);break;case 4:Km(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(Pu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?zE(t,e,n):(Ie(Oe,Oe.current&1),t=ur(t,e,n),t!==null?t.sibling:null);Ie(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,VE(t,e,n)}return ur(t,e,n)}var $E,pp,WE,HE;$E=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pp=function(){};WE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(Vn.current);var s=null;switch(n){case"input":i=Mf(t,i),r=Mf(t,r),s=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":i=Ff(t,i),r=Ff(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cu)}zf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ae("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};HE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ga(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NA(t,e,n){var r=e.pendingProps;switch(zm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return jt(e.type)&&bu(),mt(e),null;case 3:return r=e.stateNode,wo(),Re(Mt),Re(wt),Qm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(Tp(wn),wn=null))),pp(t,e),mt(e),null;case 5:Ym(e);var i=Hi(ll.current);if(n=e.type,t!==null&&e.stateNode!=null)WE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return mt(e),null}if(t=Hi(Vn.current),Pc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[ol]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<Sa.length;i++)Ae(Sa[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":pv(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":gv(r,s),Ae("invalid",r)}zf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&kc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kc(r.textContent,a,t),i=["children",""+a]):Qa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":Tc(r),mv(r,s,!0);break;case"textarea":Tc(r),yv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[ol]=r,$E(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bf(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sa.length;i++)Ae(Sa[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":pv(t,r),i=Mf(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":gv(t,r),i=Ff(t,r),Ae("invalid",t);break;default:i=r}zf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?T1(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&w1(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xa(t,c):typeof c=="number"&&Xa(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qa.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ae("scroll",t):c!=null&&Cm(t,s,c,o))}switch(n){case"input":Tc(t),mv(t,r,!1);break;case"textarea":Tc(t),yv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?io(t,!!r.multiple,s,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)HE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Hi(ll.current),Hi(Vn.current),Pc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:kc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return mt(e),null;case 13:if(Re(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Wt!==null&&e.mode&1&&!(e.flags&128))cE(),vo(),e.flags|=98560,s=!1;else if(s=Pc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Ln]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else wn!==null&&(Tp(wn),wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Xe===0&&(Xe=3):lg())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return wo(),pp(t,e),t===null&&il(e.stateNode.containerInfo),mt(e),null;case 10:return Hm(e.type._context),mt(e),null;case 17:return jt(e.type)&&bu(),mt(e),null;case 19:if(Re(Oe),s=e.memoizedState,s===null)return mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ga(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lu(t),o!==null){for(e.flags|=128,ga(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>To&&(e.flags|=128,r=!0,ga(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ga(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return mt(e),null}else 2*Be()-s.renderingStartTime>To&&n!==1073741824&&(e.flags|=128,r=!0,ga(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,n=Oe.current,Ie(Oe,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return ag(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$t&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function OA(t,e){switch(zm(e),e.tag){case 1:return jt(e.type)&&bu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wo(),Re(Mt),Re(wt),Qm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ym(e),null;case 13:if(Re(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Oe),null;case 4:return wo(),null;case 10:return Hm(e.type._context),null;case 22:case 23:return ag(),null;case 24:return null;default:return null}}var Lc=!1,vt=!1,LA=typeof WeakSet=="function"?WeakSet:Set,J=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function mp(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var o0=!1;function DA(t,e){if(Jf=Su,t=Q1(),Fm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,p=t,m=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++d===r&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zf={focusedElem:t,selectionRange:n},Su=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var b=T.memoizedProps,C=T.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:vn(e.type,b),C);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(P){Ve(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return T=o0,o0=!1,T}function Va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mp(e,n,s)}i=i.next}while(i!==r)}}function kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GE(t){var e=t.alternate;e!==null&&(t.alternate=null,GE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[ol],delete e[np],delete e[yA],delete e[vA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qE(t){return t.tag===5||t.tag===3||t.tag===4}function a0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cu));else if(r!==4&&(t=t.child,t!==null))for(yp(t,e,n),t=t.sibling;t!==null;)yp(t,e,n),t=t.sibling}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}var ot=null,_n=!1;function Pr(t,e,n){for(n=n.child;n!==null;)KE(t,e,n),n=n.sibling}function KE(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Th,n)}catch{}switch(n.tag){case 5:vt||Zs(n,e);case 6:var r=ot,i=_n;ot=null,Pr(t,e,n),ot=r,_n=i,ot!==null&&(_n?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(_n?(t=ot,n=n.stateNode,t.nodeType===8?qd(t.parentNode,n):t.nodeType===1&&qd(t,n),tl(t)):qd(ot,n.stateNode));break;case 4:r=ot,i=_n,ot=n.stateNode.containerInfo,_n=!0,Pr(t,e,n),ot=r,_n=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mp(n,e,o),i=i.next}while(i!==r)}Pr(t,e,n);break;case 1:if(!vt&&(Zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Pr(t,e,n),vt=r):Pr(t,e,n);break;default:Pr(t,e,n)}}function l0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LA),e.forEach(function(r){var i=WA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,_n=!1;break e;case 3:ot=a.stateNode.containerInfo,_n=!0;break e;case 4:ot=a.stateNode.containerInfo,_n=!0;break e}a=a.return}if(ot===null)throw Error(G(160));KE(s,o,i),ot=null,_n=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ve(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YE(e,t),e=e.sibling}function YE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),kn(t),r&4){try{Va(3,t,t.return),kh(3,t)}catch(b){Ve(t,t.return,b)}try{Va(5,t,t.return)}catch(b){Ve(t,t.return,b)}}break;case 1:yn(e,t),kn(t),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(yn(e,t),kn(t),r&512&&n!==null&&Zs(n,n.return),t.flags&32){var i=t.stateNode;try{Xa(i,"")}catch(b){Ve(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&y1(i,s),Bf(a,o);var u=Bf(a,s);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?T1(i,p):d==="dangerouslySetInnerHTML"?w1(i,p):d==="children"?Xa(i,p):Cm(i,d,p,u)}switch(a){case"input":jf(i,s);break;case"textarea":v1(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?io(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?io(i,!!s.multiple,s.defaultValue,!0):io(i,!!s.multiple,s.multiple?[]:"",!1))}i[ol]=s}catch(b){Ve(t,t.return,b)}}break;case 6:if(yn(e,t),kn(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Ve(t,t.return,b)}}break;case 3:if(yn(e,t),kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(e.containerInfo)}catch(b){Ve(t,t.return,b)}break;case 4:yn(e,t),kn(t);break;case 13:yn(e,t),kn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sg=Be())),r&4&&l0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(u=vt)||d,yn(e,t),vt=u):yn(e,t),kn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(p=J=d;J!==null;){switch(m=J,y=m.child,m.tag){case 0:case 11:case 14:case 15:Va(4,m,m.return);break;case 1:Zs(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(b){Ve(r,n,b)}}break;case 5:Zs(m,m.return);break;case 22:if(m.memoizedState!==null){u0(p);continue}}y!==null?(y.return=m,J=y):u0(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=E1("display",o))}catch(b){Ve(t,t.return,b)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(b){Ve(t,t.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yn(e,t),kn(t),r&4&&l0(t);break;case 21:break;default:yn(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qE(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xa(i,""),r.flags&=-33);var s=a0(t);vp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=a0(t);yp(t,a,o);break;default:throw Error(G(161))}}catch(c){Ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MA(t,e,n){J=t,QE(t)}function QE(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Lc;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||vt;a=Lc;var u=vt;if(Lc=o,(vt=c)&&!u)for(J=i;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?h0(i):c!==null?(c.return=o,J=c):h0(i);for(;s!==null;)J=s,QE(s),s=s.sibling;J=i,Lc=a,vt=u}c0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):c0(t)}}function c0(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&tl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}vt||e.flags&512&&gp(e)}catch(m){Ve(e,e.return,m)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function u0(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function h0(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kh(4,e)}catch(c){Ve(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ve(e,i,c)}}var s=e.return;try{gp(e)}catch(c){Ve(e,s,c)}break;case 5:var o=e.return;try{gp(e)}catch(c){Ve(e,o,c)}}}catch(c){Ve(e,e.return,c)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var jA=Math.ceil,ju=_r.ReactCurrentDispatcher,rg=_r.ReactCurrentOwner,un=_r.ReactCurrentBatchConfig,ve=0,nt=null,He=null,ct=0,$t=0,eo=Ti(0),Xe=0,dl=null,is=0,Ph=0,ig=0,Fa=null,Nt=null,sg=0,To=1/0,Qn=null,Vu=!1,_p=null,ni=null,Dc=!1,Gr=null,Fu=0,Ua=0,wp=null,tu=-1,nu=0;function It(){return ve&6?Be():tu!==-1?tu:tu=Be()}function ri(t){return t.mode&1?ve&2&&ct!==0?ct&-ct:wA.transition!==null?(nu===0&&(nu=L1()),nu):(t=Te,t!==0||(t=window.event,t=t===void 0?16:z1(t.type)),t):1}function In(t,e,n,r){if(50<Ua)throw Ua=0,wp=null,Error(G(185));Ll(t,n,r),(!(ve&2)||t!==nt)&&(t===nt&&(!(ve&2)&&(Ph|=n),Xe===4&&zr(t,ct)),Vt(t,r),n===1&&ve===0&&!(e.mode&1)&&(To=Be()+500,bh&&Si()))}function Vt(t,e){var n=t.callbackNode;wb(t,e);var r=Tu(t,t===nt?ct:0);if(r===0)n!==null&&wv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wv(n),e===1)t.tag===0?_A(d0.bind(null,t)):oE(d0.bind(null,t)),mA(function(){!(ve&6)&&Si()}),n=null;else{switch(D1(r)){case 1:n=Pm;break;case 4:n=N1;break;case 16:n=Eu;break;case 536870912:n=O1;break;default:n=Eu}n=iT(n,XE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XE(t,e){if(tu=-1,nu=0,ve&6)throw Error(G(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=Tu(t,t===nt?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uu(t,r);else{e=r;var i=ve;ve|=2;var s=ZE();(nt!==t||ct!==e)&&(Qn=null,To=Be()+500,Ki(t,e));do try{UA();break}catch(a){JE(t,a)}while(!0);Wm(),ju.current=s,ve=i,He!==null?e=0:(nt=null,ct=0,e=Xe)}if(e!==0){if(e===2&&(i=qf(t),i!==0&&(r=i,e=Ep(t,i))),e===1)throw n=dl,Ki(t,0),zr(t,r),Vt(t,Be()),n;if(e===6)zr(t,r);else{if(i=t.current.alternate,!(r&30)&&!VA(i)&&(e=Uu(t,r),e===2&&(s=qf(t),s!==0&&(r=s,e=Ep(t,s))),e===1))throw n=dl,Ki(t,0),zr(t,r),Vt(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Fi(t,Nt,Qn);break;case 3:if(zr(t,r),(r&130023424)===r&&(e=sg+500-Be(),10<e)){if(Tu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tp(Fi.bind(null,t,Nt,Qn),e);break}Fi(t,Nt,Qn);break;case 4:if(zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jA(r/1960))-r,10<r){t.timeoutHandle=tp(Fi.bind(null,t,Nt,Qn),r);break}Fi(t,Nt,Qn);break;case 5:Fi(t,Nt,Qn);break;default:throw Error(G(329))}}}return Vt(t,Be()),t.callbackNode===n?XE.bind(null,t):null}function Ep(t,e){var n=Fa;return t.current.memoizedState.isDehydrated&&(Ki(t,e).flags|=256),t=Uu(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&Tp(e)),t}function Tp(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function VA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zr(t,e){for(e&=~ig,e&=~Ph,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function d0(t){if(ve&6)throw Error(G(327));co();var e=Tu(t,0);if(!(e&1))return Vt(t,Be()),null;var n=Uu(t,e);if(t.tag!==0&&n===2){var r=qf(t);r!==0&&(e=r,n=Ep(t,r))}if(n===1)throw n=dl,Ki(t,0),zr(t,e),Vt(t,Be()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fi(t,Nt,Qn),Vt(t,Be()),null}function og(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(To=Be()+500,bh&&Si())}}function ss(t){Gr!==null&&Gr.tag===0&&!(ve&6)&&co();var e=ve;ve|=1;var n=un.transition,r=Te;try{if(un.transition=null,Te=1,t)return t()}finally{Te=r,un.transition=n,ve=e,!(ve&6)&&Si()}}function ag(){$t=eo.current,Re(eo)}function Ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pA(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(zm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bu();break;case 3:wo(),Re(Mt),Re(wt),Qm();break;case 5:Ym(r);break;case 4:wo();break;case 13:Re(Oe);break;case 19:Re(Oe);break;case 10:Hm(r.type._context);break;case 22:case 23:ag()}n=n.return}if(nt=t,He=t=ii(t.current,null),ct=$t=e,Xe=0,dl=null,ig=Ph=is=0,Nt=Fa=null,Wi!==null){for(e=0;e<Wi.length;e++)if(n=Wi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wi=null}return t}function JE(t,e){do{var n=He;try{if(Wm(),Jc.current=Mu,Du){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Du=!1}if(rs=0,tt=Ye=Le=null,ja=!1,cl=0,rg.current=null,n===null||n.return===null){Xe=1,dl=e,He=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=ct,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Zv(o);if(y!==null){y.flags&=-257,e0(y,o,a,s,e),y.mode&1&&Jv(s,u,e),e=y,c=u;var T=e.updateQueue;if(T===null){var b=new Set;b.add(c),e.updateQueue=b}else T.add(c);break e}else{if(!(e&1)){Jv(s,u,e),lg();break e}c=Error(G(426))}}else if(Pe&&a.mode&1){var C=Zv(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),e0(C,o,a,s,e),Bm(Eo(c,a));break e}}s=c=Eo(c,a),Xe!==4&&(Xe=2),Fa===null?Fa=[s]:Fa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=DE(s,c,e);Gv(s,w);break e;case 1:a=c;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ni===null||!ni.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=ME(s,a,e);Gv(s,P);break e}}s=s.return}while(s!==null)}tT(n)}catch(O){e=O,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function ZE(){var t=ju.current;return ju.current=Mu,t===null?Mu:t}function lg(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),nt===null||!(is&268435455)&&!(Ph&268435455)||zr(nt,ct)}function Uu(t,e){var n=ve;ve|=2;var r=ZE();(nt!==t||ct!==e)&&(Qn=null,Ki(t,e));do try{FA();break}catch(i){JE(t,i)}while(!0);if(Wm(),ve=n,ju.current=r,He!==null)throw Error(G(261));return nt=null,ct=0,Xe}function FA(){for(;He!==null;)eT(He)}function UA(){for(;He!==null&&!hb();)eT(He)}function eT(t){var e=rT(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?tT(t):He=e,rg.current=null}function tT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OA(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,He=null;return}}else if(n=NA(n,e,$t),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Xe===0&&(Xe=5)}function Fi(t,e,n){var r=Te,i=un.transition;try{un.transition=null,Te=1,zA(t,e,n,r)}finally{un.transition=i,Te=r}return null}function zA(t,e,n,r){do co();while(Gr!==null);if(ve&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Eb(t,s),t===nt&&(He=nt=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dc||(Dc=!0,iT(Eu,function(){return co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=Te;Te=1;var a=ve;ve|=4,rg.current=null,DA(t,n),YE(n,t),aA(Zf),Su=!!Jf,Zf=Jf=null,t.current=n,MA(n),db(),ve=a,Te=o,un.transition=s}else t.current=n;if(Dc&&(Dc=!1,Gr=t,Fu=i),s=t.pendingLanes,s===0&&(ni=null),mb(n.stateNode),Vt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,t=_p,_p=null,t;return Fu&1&&t.tag!==0&&co(),s=t.pendingLanes,s&1?t===wp?Ua++:(Ua=0,wp=t):Ua=0,Si(),null}function co(){if(Gr!==null){var t=D1(Fu),e=un.transition,n=Te;try{if(un.transition=null,Te=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,Fu=0,ve&6)throw Error(G(331));var i=ve;for(ve|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Va(8,d,s)}var p=d.child;if(p!==null)p.return=d,J=p;else for(;J!==null;){d=J;var m=d.sibling,y=d.return;if(GE(d),d===u){J=null;break}if(m!==null){m.return=y,J=m;break}J=y}}}var T=s.alternate;if(T!==null){var b=T.child;if(b!==null){T.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Va(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,J=w;break e}J=s.return}}var _=t.current;for(J=_;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=_;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kh(9,a)}}catch(O){Ve(a,a.return,O)}if(a===o){J=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,J=P;break e}J=a.return}}if(ve=i,Si(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Th,t)}catch{}r=!0}return r}finally{Te=n,un.transition=e}}return!1}function f0(t,e,n){e=Eo(n,e),e=DE(t,e,1),t=ti(t,e,1),e=It(),t!==null&&(Ll(t,1,e),Vt(t,e))}function Ve(t,e,n){if(t.tag===3)f0(t,t,n);else for(;e!==null;){if(e.tag===3){f0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=Eo(n,t),t=ME(e,t,1),e=ti(e,t,1),t=It(),e!==null&&(Ll(e,1,t),Vt(e,t));break}}e=e.return}}function BA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(ct&n)===n&&(Xe===4||Xe===3&&(ct&130023424)===ct&&500>Be()-sg?Ki(t,0):ig|=n),Vt(t,e)}function nT(t,e){e===0&&(t.mode&1?(e=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):e=1);var n=It();t=cr(t,e),t!==null&&(Ll(t,e,n),Vt(t,n))}function $A(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nT(t,n)}function WA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),nT(t,n)}var rT;rT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,PA(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Pe&&e.flags&1048576&&aE(e,ku,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eu(t,e),t=e.pendingProps;var i=yo(e,wt.current);lo(e,n),i=Jm(null,e,r,t,i,n);var s=Zm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(s=!0,Au(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qm(e),i.updater=Rh,e.stateNode=i,i._reactInternals=e,lp(e,r,t,n),e=hp(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&Um(e),St(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GA(r),t=vn(r,t),i){case 0:e=up(null,e,r,t,n);break e;case 1:e=r0(null,e,r,t,n);break e;case 11:e=t0(null,e,r,t,n);break e;case 14:e=n0(null,e,r,vn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),up(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),r0(t,e,r,i,n);case 3:e:{if(UE(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fE(t,e),Ou(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Eo(Error(G(423)),e),e=i0(t,e,r,n,i);break e}else if(r!==i){i=Eo(Error(G(424)),e),e=i0(t,e,r,n,i);break e}else for(Wt=ei(e.stateNode.containerInfo.firstChild),qt=e,Pe=!0,wn=null,n=hE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){e=ur(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 5:return pE(e),t===null&&sp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ep(r,i)?o=null:s!==null&&ep(r,s)&&(e.flags|=32),FE(t,e),St(t,e,o,n),e.child;case 6:return t===null&&sp(e),null;case 13:return zE(t,e,n);case 4:return Km(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_o(e,null,r,n):St(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),t0(t,e,r,i,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(Pu,r._currentValue),r._currentValue=o,s!==null)if(bn(s.value,o)){if(s.children===i.children&&!Mt.current){e=ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ir(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),op(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),op(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}St(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lo(e,n),i=dn(i),r=r(i),e.flags|=1,St(t,e,r,n),e.child;case 14:return r=e.type,i=vn(r,e.pendingProps),i=vn(r.type,i),n0(t,e,r,i,n);case 15:return jE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),eu(t,e),e.tag=1,jt(r)?(t=!0,Au(e)):t=!1,lo(e,n),LE(e,r,i),lp(e,r,i,n),hp(null,e,r,!0,t,n);case 19:return BE(t,e,n);case 22:return VE(t,e,n)}throw Error(G(156,e.tag))};function iT(t,e){return P1(t,e)}function HA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new HA(t,e,n,r)}function cg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GA(t){if(typeof t=="function")return cg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Am)return 11;if(t===Rm)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ru(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")cg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ws:return Yi(n.children,i,s,e);case bm:o=8,i|=8;break;case Nf:return t=cn(12,n,e,i|2),t.elementType=Nf,t.lanes=s,t;case Of:return t=cn(13,n,e,i),t.elementType=Of,t.lanes=s,t;case Lf:return t=cn(19,n,e,i),t.elementType=Lf,t.lanes=s,t;case p1:return Nh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d1:o=10;break e;case f1:o=9;break e;case Am:o=11;break e;case Rm:o=14;break e;case jr:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Nh(t,e,n,r){return t=cn(22,t,r,e),t.elementType=p1,t.lanes=n,t.stateNode={isHidden:!1},t}function tf(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function nf(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Md(0),this.expirationTimes=Md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Md(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ug(t,e,n,r,i,s,o,a,c){return t=new qA(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qm(s),t}function KA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sT(t){if(!t)return hi;t=t._reactInternals;e:{if(ys(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(jt(n))return sE(t,n,e)}return e}function oT(t,e,n,r,i,s,o,a,c){return t=ug(n,r,!0,t,i,s,o,a,c),t.context=sT(null),n=t.current,r=It(),i=ri(n),s=ir(r,i),s.callback=e??null,ti(n,s,i),t.current.lanes=i,Ll(t,i,r),Vt(t,r),t}function Oh(t,e,n,r){var i=e.current,s=It(),o=ri(i);return n=sT(n),e.context===null?e.context=n:e.pendingContext=n,e=ir(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,o),t!==null&&(In(t,i,o,s),Xc(t,i,o)),o}function zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hg(t,e){p0(t,e),(t=t.alternate)&&p0(t,e)}function YA(){return null}var aT=typeof reportError=="function"?reportError:function(t){console.error(t)};function dg(t){this._internalRoot=t}Lh.prototype.render=dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Oh(t,e,null,null)};Lh.prototype.unmount=dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ss(function(){Oh(null,t,null,null)}),e[lr]=null}};function Lh(t){this._internalRoot=t}Lh.prototype.unstable_scheduleHydration=function(t){if(t){var e=V1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&U1(t)}};function fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function m0(){}function QA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=zu(o);s.call(u)}}var o=oT(e,r,t,0,null,!1,!1,"",m0);return t._reactRootContainer=o,t[lr]=o.current,il(t.nodeType===8?t.parentNode:t),ss(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=zu(c);a.call(u)}}var c=ug(t,0,!1,null,null,!1,!1,"",m0);return t._reactRootContainer=c,t[lr]=c.current,il(t.nodeType===8?t.parentNode:t),ss(function(){Oh(e,c,n,r)}),c}function Mh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=zu(o);a.call(c)}}Oh(e,o,t,i)}else o=QA(n,e,t,i,r);return zu(o)}M1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ta(e.pendingLanes);n!==0&&(Nm(e,n|1),Vt(e,Be()),!(ve&6)&&(To=Be()+500,Si()))}break;case 13:ss(function(){var r=cr(t,1);if(r!==null){var i=It();In(r,t,1,i)}}),hg(t,1)}};Om=function(t){if(t.tag===13){var e=cr(t,134217728);if(e!==null){var n=It();In(e,t,134217728,n)}hg(t,134217728)}};j1=function(t){if(t.tag===13){var e=ri(t),n=cr(t,e);if(n!==null){var r=It();In(n,t,e,r)}hg(t,e)}};V1=function(){return Te};F1=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Wf=function(t,e,n){switch(e){case"input":if(jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ch(r);if(!i)throw Error(G(90));g1(r),jf(r,i)}}}break;case"textarea":v1(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};I1=og;C1=ss;var XA={usingClientEntryPoint:!1,Events:[Ml,Ks,Ch,S1,x1,og]},ya={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JA={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R1(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||YA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Th=Mc.inject(JA),jn=Mc}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XA;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(e))throw Error(G(200));return KA(t,e,null,n)};Zt.createRoot=function(t,e){if(!fg(t))throw Error(G(299));var n=!1,r="",i=aT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ug(t,1,!1,null,null,n,!1,r,i),t[lr]=e.current,il(t.nodeType===8?t.parentNode:t),new dg(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=R1(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return ss(t)};Zt.hydrate=function(t,e,n){if(!Dh(e))throw Error(G(200));return Mh(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!fg(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=aT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=oT(e,null,t,1,n??null,i,!1,s,o),t[lr]=e.current,il(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lh(e)};Zt.render=function(t,e,n){if(!Dh(e))throw Error(G(200));return Mh(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Dh(t))throw Error(G(40));return t._reactRootContainer?(ss(function(){Mh(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};Zt.unstable_batchedUpdates=og;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Mh(t,e,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function lT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lT)}catch(t){console.error(t)}}lT(),l1.exports=Zt;var ZA=l1.exports,cT,g0=ZA;cT=g0.createRoot,g0.hydrateRoot;const e2={prefix:"fas",iconName:"microphone-lines-slash",icon:[640,512,["microphone-alt-slash"],"f539","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L472.1 344.7c15.2-26 23.9-56.3 23.9-88.7l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 24 0 16c0 21.2-5.1 41.1-14.2 58.7L416 300.8l0-44.8-57.1 0-34.5-27c2.9-3.1 7-5 11.6-5l80 0 0-32-80 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l80 0 0-32-80 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l80 0c0-53-43-96-96-96s-96 43-96 96l0 54.3L38.8 5.1zm362.5 407l-43.1-33.9C346.1 382 333.3 384 320 384c-70.7 0-128-57.3-128-128l0-8.7L144.7 210c-.5 1.9-.7 3.9-.7 6l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c20.4-2.8 39.7-9.1 57.3-18.2z"]},uT=e2,hT={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"]},dT={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},t2={prefix:"fas",iconName:"g",icon:[448,512,[103],"47","M224 96C135.6 96 64 167.6 64 256s71.6 160 160 160c77.4 0 142-55 156.8-128L256 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l144 0c25.8 0 49.6 21.4 47.2 50.6C437.8 389.6 341.4 480 224 480C100.3 480 0 379.7 0 256S100.3 32 224 32c57.4 0 109.7 21.6 149.3 57c13.2 11.8 14.3 32 2.5 45.2s-32 14.3-45.2 2.5C302.3 111.4 265 96 224 96z"]},n2={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},fT={prefix:"fas",iconName:"microphone",icon:[384,512,[],"f130","M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z"]},rf={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},Bu={prefix:"fas",iconName:"volume-high",icon:[640,512,[128266,"volume-up"],"f028","M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64l0 384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352 64 352c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l67.8 0L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"]},pT={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},mT={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},sf={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},$u={prefix:"fas",iconName:"power-off",icon:[512,512,[9211],"f011","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 224c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224zM143.5 120.6c13.6-11.3 15.4-31.5 4.1-45.1s-31.5-15.4-45.1-4.1C49.7 115.4 16 181.8 16 256c0 132.5 107.5 240 240 240s240-107.5 240-240c0-74.2-33.8-140.6-86.6-184.6c-13.6-11.3-33.8-9.4-45.1 4.1s-9.4 33.8 4.1 45.1c38.9 32.3 63.5 81 63.5 135.4c0 97.2-78.8 176-176 176s-176-78.8-176-176c0-54.4 24.7-103.1 63.5-135.4z"]},Wu={prefix:"fas",iconName:"volume-xmark",icon:[576,512,["volume-mute","volume-times"],"f6a9","M301.1 34.8C312.6 40 320 51.4 320 64l0 384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352 64 352c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l67.8 0L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},gT={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},yT={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480l0-83.6c0-4 1.5-7.8 4.2-10.8L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},y0=()=>{};let pg={},vT={},_T=null,wT={mark:y0,measure:y0};try{typeof window<"u"&&(pg=window),typeof document<"u"&&(vT=document),typeof MutationObserver<"u"&&(_T=MutationObserver),typeof performance<"u"&&(wT=performance)}catch{}const{userAgent:v0=""}=pg.navigator||{},di=pg,ke=vT,_0=_T,jc=wT;di.document;const wr=!!ke.documentElement&&!!ke.head&&typeof ke.addEventListener=="function"&&typeof ke.createElement=="function",ET=~v0.indexOf("MSIE")||~v0.indexOf("Trident/");var Ne="classic",TT="duotone",Kt="sharp",Yt="sharp-duotone",r2=[Ne,TT,Kt,Yt],i2={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},w0={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},s2=["kit"],o2=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,a2=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,l2={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},c2={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},u2={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},h2={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},d2={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},f2={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},ST={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},p2=["solid","regular","light","thin","duotone","brands"],xT=[1,2,3,4,5,6,7,8,9,10],m2=xT.concat([11,12,13,14,15,16,17,18,19,20]),xa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},g2=[...Object.keys(h2),...p2,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",xa.GROUP,xa.SWAP_OPACITY,xa.PRIMARY,xa.SECONDARY].concat(xT.map(t=>"".concat(t,"x"))).concat(m2.map(t=>"w-".concat(t))),y2={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},v2={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},_2={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},E0={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const hr="___FONT_AWESOME___",Sp=16,IT="fa",CT="svg-inline--fa",os="data-fa-i2svg",xp="data-fa-pseudo-element",w2="data-fa-pseudo-element-pending",mg="data-prefix",gg="data-icon",T0="fontawesome-i2svg",E2="async",T2=["HTML","HEAD","STYLE","SCRIPT"],bT=(()=>{try{return!0}catch{return!1}})(),AT=[Ne,Kt,Yt];function Vl(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Ne]}})}const RT={...ST};RT[Ne]={...ST[Ne],...w0.kit,...w0["kit-duotone"]};const Qi=Vl(RT),Ip={...f2};Ip[Ne]={...Ip[Ne],...E0.kit,...E0["kit-duotone"]};const fl=Vl(Ip),Cp={...d2};Cp[Ne]={...Cp[Ne],..._2.kit};const Xi=Vl(Cp),bp={...u2};bp[Ne]={...bp[Ne],...v2.kit};const S2=Vl(bp),x2=o2,kT="fa-layers-text",I2=a2,C2={...i2};Vl(C2);const b2=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],of=xa,So=new Set;Object.keys(fl[Ne]).map(So.add.bind(So));Object.keys(fl[Kt]).map(So.add.bind(So));Object.keys(fl[Yt]).map(So.add.bind(So));const A2=[...s2,...g2],za=di.FontAwesomeConfig||{};function R2(t){var e=ke.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function k2(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}ke&&typeof ke.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=k2(R2(n));i!=null&&(za[r]=i)});const PT={styleDefault:"solid",familyDefault:"classic",cssPrefix:IT,replacementClass:CT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};za.familyPrefix&&(za.cssPrefix=za.familyPrefix);const xo={...PT,...za};xo.autoReplaceSvg||(xo.observeMutations=!1);const ee={};Object.keys(PT).forEach(t=>{Object.defineProperty(ee,t,{enumerable:!0,set:function(e){xo[t]=e,Ba.forEach(n=>n(ee))},get:function(){return xo[t]}})});Object.defineProperty(ee,"familyPrefix",{enumerable:!0,set:function(t){xo.cssPrefix=t,Ba.forEach(e=>e(ee))},get:function(){return xo.cssPrefix}});di.FontAwesomeConfig=ee;const Ba=[];function P2(t){return Ba.push(t),()=>{Ba.splice(Ba.indexOf(t),1)}}const Nr=Sp,Dn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function N2(t){if(!t||!wr)return;const e=ke.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=ke.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return ke.head.insertBefore(e,r),t}const O2="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function pl(){let t=12,e="";for(;t-- >0;)e+=O2[Math.random()*62|0];return e}function Uo(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function yg(t){return t.classList?Uo(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function NT(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L2(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(NT(t[n]),'" '),"").trim()}function jh(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function vg(t){return t.size!==Dn.size||t.x!==Dn.x||t.y!==Dn.y||t.rotate!==Dn.rotate||t.flipX||t.flipY}function D2(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:u}}function M2(t){let{transform:e,width:n=Sp,height:r=Sp,startCentered:i=!1}=t,s="";return i&&ET?s+="translate(".concat(e.x/Nr-n/2,"em, ").concat(e.y/Nr-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/Nr,"em), calc(-50% + ").concat(e.y/Nr,"em)) "):s+="translate(".concat(e.x/Nr,"em, ").concat(e.y/Nr,"em) "),s+="scale(".concat(e.size/Nr*(e.flipX?-1:1),", ").concat(e.size/Nr*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var j2=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function OT(){const t=IT,e=CT,n=ee.cssPrefix,r=ee.replacementClass;let i=j2;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}let S0=!1;function af(){ee.autoAddCss&&!S0&&(N2(OT()),S0=!0)}var V2={mixout(){return{dom:{css:OT,insertCss:af}}},hooks(){return{beforeDOMElementCreation(){af()},beforeI2svg(){af()}}}};const dr=di||{};dr[hr]||(dr[hr]={});dr[hr].styles||(dr[hr].styles={});dr[hr].hooks||(dr[hr].hooks={});dr[hr].shims||(dr[hr].shims=[]);var Mn=dr[hr];const LT=[],DT=function(){ke.removeEventListener("DOMContentLoaded",DT),Hu=1,LT.map(t=>t())};let Hu=!1;wr&&(Hu=(ke.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ke.readyState),Hu||ke.addEventListener("DOMContentLoaded",DT));function F2(t){wr&&(Hu?setTimeout(t,0):LT.push(t))}function Fl(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?NT(t):"<".concat(e," ").concat(L2(n),">").concat(r.map(Fl).join(""),"</").concat(e,">")}function x0(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var lf=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=n,c,u,d;for(r===void 0?(c=1,d=e[s[0]]):(c=0,d=r);c<o;c++)u=s[c],d=a(d,e[u],u,e);return d};function U2(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Ap(t){const e=U2(t);return e.length===1?e[0].toString(16):null}function z2(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function I0(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Rp(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=I0(e);typeof Mn.hooks.addPack=="function"&&!r?Mn.hooks.addPack(t,I0(e)):Mn.styles[t]={...Mn.styles[t]||{},...i},t==="fas"&&Rp("fa",e)}const{styles:Bi,shims:B2}=Mn,$2={[Ne]:Object.values(Xi[Ne]),[Kt]:Object.values(Xi[Kt]),[Yt]:Object.values(Xi[Yt])};let _g=null,MT={},jT={},VT={},FT={},UT={};const W2={[Ne]:Object.keys(Qi[Ne]),[Kt]:Object.keys(Qi[Kt]),[Yt]:Object.keys(Qi[Yt])};function H2(t){return~A2.indexOf(t)}function G2(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!H2(i)?i:null}const zT=()=>{const t=r=>lf(Bi,(i,s,o)=>(i[o]=lf(s,r,{}),i),{});MT=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),jT=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),UT=t((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});const e="far"in Bi||ee.autoFetchSvg,n=lf(B2,(r,i)=>{const s=i[0];let o=i[1];const a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});VT=n.names,FT=n.unicodes,_g=Vh(ee.styleDefault,{family:ee.familyDefault})};P2(t=>{_g=Vh(t.styleDefault,{family:ee.familyDefault})});zT();function wg(t,e){return(MT[t]||{})[e]}function q2(t,e){return(jT[t]||{})[e]}function qr(t,e){return(UT[t]||{})[e]}function BT(t){return VT[t]||{prefix:null,iconName:null}}function K2(t){const e=FT[t],n=wg("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function fi(){return _g}const Eg=()=>({prefix:null,iconName:null,rest:[]});function Vh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Ne}=e,r=Qi[n][t],i=fl[n][t]||fl[n][r],s=t in Mn.styles?t:null;return i||s||null}const Y2={[Ne]:Object.keys(Xi[Ne]),[Kt]:Object.keys(Xi[Kt]),[Yt]:Object.keys(Xi[Yt])};function Fh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[Ne]:"".concat(ee.cssPrefix,"-").concat(Ne),[Kt]:"".concat(ee.cssPrefix,"-").concat(Kt),[Yt]:"".concat(ee.cssPrefix,"-").concat(Yt)};let i=null,s=Ne;const o=r2.filter(c=>c!==TT);o.forEach(c=>{(t.includes(r[c])||t.some(u=>Y2[c].includes(u)))&&(s=c)});const a=t.reduce((c,u)=>{const d=G2(ee.cssPrefix,u);if(Bi[u]?(u=$2[s].includes(u)?S2[s][u]:u,i=u,c.prefix=u):W2[s].indexOf(u)>-1?(i=u,c.prefix=Vh(u,{family:s})):d?c.iconName=d:u!==ee.replacementClass&&!o.some(p=>u===r[p])&&c.rest.push(u),!n&&c.prefix&&c.iconName){const p=i==="fa"?BT(c.iconName):{},m=qr(c.prefix,c.iconName);p.prefix&&(i=null),c.iconName=p.iconName||m||c.iconName,c.prefix=p.prefix||c.prefix,c.prefix==="far"&&!Bi.far&&Bi.fas&&!ee.autoFetchSvg&&(c.prefix="fas")}return c},Eg());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&s===Kt&&(Bi.fass||ee.autoFetchSvg)&&(a.prefix="fass",a.iconName=qr(a.prefix,a.iconName)||a.iconName),!a.prefix&&s===Yt&&(Bi.fasds||ee.autoFetchSvg)&&(a.prefix="fasds",a.iconName=qr(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||i==="fa")&&(a.prefix=fi()||"fas"),a}class Q2{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},Rp(s,i[s]);const o=Xi[Ne][s];o&&Rp(o,i[s]),zT()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:a}=r[i],c=a[2];e[s]||(e[s]={}),c.length>0&&c.forEach(u=>{typeof u=="string"&&(e[s][u]=a)}),e[s][o]=a}),e}}let C0=[],to={};const uo={},X2=Object.keys(uo);function J2(t,e){let{mixoutsTo:n}=e;return C0=t,to={},Object.keys(uo).forEach(r=>{X2.indexOf(r)===-1&&delete uo[r]}),C0.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{to[o]||(to[o]=[]),to[o].push(s[o])})}r.provides&&r.provides(uo)}),n}function kp(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(to[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function as(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(to[t]||[]).forEach(s=>{s.apply(null,n)})}function pi(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return uo[t]?uo[t].apply(null,e):void 0}function Pp(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||fi();if(e)return e=qr(n,e)||e,x0($T.definitions,n,e)||x0(Mn.styles,n,e)}const $T=new Q2,Z2=()=>{ee.autoReplaceSvg=!1,ee.observeMutations=!1,as("noAuto")},eR={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return wr?(as("beforeI2svg",t),pi("pseudoElements2svg",t),pi("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;ee.autoReplaceSvg===!1&&(ee.autoReplaceSvg=!0),ee.observeMutations=!0,F2(()=>{nR({autoReplaceSvgRoot:e}),as("watch",t)})}},tR={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:qr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Vh(t[0]);return{prefix:n,iconName:qr(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(ee.cssPrefix,"-"))>-1||t.match(x2))){const e=Fh(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||fi(),iconName:qr(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=fi();return{prefix:e,iconName:qr(e,t)||t}}}},tn={noAuto:Z2,config:ee,dom:eR,parse:tR,library:$T,findIconDefinition:Pp,toHtml:Fl},nR=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=ke}=t;(Object.keys(Mn.styles).length>0||ee.autoFetchSvg)&&wr&&ee.autoReplaceSvg&&tn.dom.i2svg({node:e})};function Uh(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Fl(n))}}),Object.defineProperty(t,"node",{get:function(){if(!wr)return;const n=ke.createElement("div");return n.innerHTML=t.html,n.children}}),t}function rR(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(vg(o)&&n.found&&!r.found){const{width:a,height:c}=n,u={x:a/c/2,y:.5};i.style=jh({...s,"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function iR(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(ee.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:o},children:r}]}]}function Tg(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:c,titleId:u,extra:d,watchable:p=!1}=t,{width:m,height:y}=n.found?n:e,T=r==="fak",b=[ee.replacementClass,i?"".concat(ee.cssPrefix,"-").concat(i):""].filter(O=>d.classes.indexOf(O)===-1).filter(O=>O!==""||!!O).concat(d.classes).join(" ");let C={children:[],attributes:{...d.attributes,"data-prefix":r,"data-icon":i,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)}};const w=T&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};p&&(C.attributes[os]=""),a&&(C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(u||pl())},children:[a]}),delete C.attributes.title);const _={...C,prefix:r,iconName:i,main:e,mask:n,maskId:c,transform:s,symbol:o,styles:{...w,...d.styles}},{children:E,attributes:P}=n.found&&e.found?pi("generateAbstractMask",_)||{children:[],attributes:{}}:pi("generateAbstractIcon",_)||{children:[],attributes:{}};return _.children=E,_.attributes=P,o?iR(_):rR(_)}function b0(t){const{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,c={...o.attributes,...s?{title:s}:{},class:o.classes.join(" ")};a&&(c[os]="");const u={...o.styles};vg(i)&&(u.transform=M2({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const d=jh(u);d.length>0&&(c.style=d);const p=[];return p.push({tag:"span",attributes:c,children:[e]}),s&&p.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),p}function sR(t){const{content:e,title:n,extra:r}=t,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=jh(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:cf}=Mn;function Np(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(ee.cssPrefix,"-").concat(of.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ee.cssPrefix,"-").concat(of.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ee.cssPrefix,"-").concat(of.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const oR={found:!1,width:512,height:512};function aR(t,e){!bT&&!ee.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Op(t,e){let n=e;return e==="fa"&&ee.styleDefault!==null&&(e=fi()),new Promise((r,i)=>{if(n==="fa"){const s=BT(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&cf[e]&&cf[e][t]){const s=cf[e][t];return r(Np(s))}aR(t,e),r({...oR,icon:ee.showMissingIcons&&t?pi("missingIconAbstract")||{}:{}})})}const A0=()=>{},Lp=ee.measurePerformance&&jc&&jc.mark&&jc.measure?jc:{mark:A0,measure:A0},Ia='FA "6.6.0"',lR=t=>(Lp.mark("".concat(Ia," ").concat(t," begins")),()=>WT(t)),WT=t=>{Lp.mark("".concat(Ia," ").concat(t," ends")),Lp.measure("".concat(Ia," ").concat(t),"".concat(Ia," ").concat(t," begins"),"".concat(Ia," ").concat(t," ends"))};var Sg={begin:lR,end:WT};const iu=()=>{};function R0(t){return typeof(t.getAttribute?t.getAttribute(os):null)=="string"}function cR(t){const e=t.getAttribute?t.getAttribute(mg):null,n=t.getAttribute?t.getAttribute(gg):null;return e&&n}function uR(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ee.replacementClass)}function hR(){return ee.autoReplaceSvg===!0?su.replace:su[ee.autoReplaceSvg]||su.replace}function dR(t){return ke.createElementNS("http://www.w3.org/2000/svg",t)}function fR(t){return ke.createElement(t)}function HT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?dR:fR}=e;if(typeof t=="string")return ke.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(HT(s,{ceFn:n}))}),r}function pR(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const su={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(HT(n),e)}),e.getAttribute(os)===null&&ee.keepOriginalSource){let n=ke.createComment(pR(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~yg(e).indexOf(ee.replacementClass))return su.replace(t);const r=new RegExp("".concat(ee.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===ee.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>Fl(s)).join(`
`);e.setAttribute(os,""),e.innerHTML=i}};function k0(t){t()}function GT(t,e){const n=typeof e=="function"?e:iu;if(t.length===0)n();else{let r=k0;ee.mutateApproach===E2&&(r=di.requestAnimationFrame||k0),r(()=>{const i=hR(),s=Sg.begin("mutate");t.map(i),s(),n()})}}let xg=!1;function qT(){xg=!0}function Dp(){xg=!1}let Gu=null;function P0(t){if(!_0||!ee.observeMutations)return;const{treeCallback:e=iu,nodeCallback:n=iu,pseudoElementsCallback:r=iu,observeMutationsRoot:i=ke}=t;Gu=new _0(s=>{if(xg)return;const o=fi();Uo(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!R0(a.addedNodes[0])&&(ee.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&ee.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&R0(a.target)&&~b2.indexOf(a.attributeName))if(a.attributeName==="class"&&cR(a.target)){const{prefix:c,iconName:u}=Fh(yg(a.target));a.target.setAttribute(mg,c||o),u&&a.target.setAttribute(gg,u)}else uR(a.target)&&n(a.target)})}),wr&&Gu.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function mR(){Gu&&Gu.disconnect()}function gR(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function yR(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=Fh(yg(t));return i.prefix||(i.prefix=fi()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=q2(i.prefix,t.innerText)||wg(i.prefix,Ap(t.innerText))),!i.iconName&&ee.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function vR(t){const e=Uo(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ee.autoA11y&&(n?e["aria-labelledby"]="".concat(ee.replacementClass,"-title-").concat(r||pl()):(e["aria-hidden"]="true",e.focusable="false")),e}function _R(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Dn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function N0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=yR(t),s=vR(t),o=kp("parseNodeAttributes",{},t);let a=e.styleParser?gR(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Dn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s},...o}}const{styles:wR}=Mn;function KT(t){const e=ee.autoReplaceSvg==="nest"?N0(t,{styleParser:!1}):N0(t);return~e.extra.classes.indexOf(kT)?pi("generateLayersText",t,e):pi("generateSvgReplacementMutation",t,e)}let $n=new Set;AT.map(t=>{$n.add("fa-".concat(t))});Object.keys(Qi[Ne]).map($n.add.bind($n));Object.keys(Qi[Kt]).map($n.add.bind($n));Object.keys(Qi[Yt]).map($n.add.bind($n));$n=[...$n];function O0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!wr)return Promise.resolve();const n=ke.documentElement.classList,r=d=>n.add("".concat(T0,"-").concat(d)),i=d=>n.remove("".concat(T0,"-").concat(d)),s=ee.autoFetchSvg?$n:AT.map(d=>"fa-".concat(d)).concat(Object.keys(wR));s.includes("fa")||s.push("fa");const o=[".".concat(kT,":not([").concat(os,"])")].concat(s.map(d=>".".concat(d,":not([").concat(os,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=Uo(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();const c=Sg.begin("onTree"),u=a.reduce((d,p)=>{try{const m=KT(p);m&&d.push(m)}catch(m){bT||m.name==="MissingIcon"&&console.error(m)}return d},[]);return new Promise((d,p)=>{Promise.all(u).then(m=>{GT(m,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),c(),d()})}).catch(m=>{c(),p(m)})})}function ER(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;KT(t).then(n=>{n&&GT([n],e)})}function TR(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Pp(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:Pp(i||{})),t(r,{...n,mask:i})}}const SR=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Dn,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:c=[],attributes:u={},styles:d={}}=e;if(!t)return;const{prefix:p,iconName:m,icon:y}=t;return Uh({type:"icon",...t},()=>(as("beforeDOMElementCreation",{iconDefinition:t,params:e}),ee.autoA11y&&(o?u["aria-labelledby"]="".concat(ee.replacementClass,"-title-").concat(a||pl()):(u["aria-hidden"]="true",u.focusable="false")),Tg({icons:{main:Np(y),mask:i?Np(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:m,transform:{...Dn,...n},symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:u,styles:d,classes:c}})))};var xR={mixout(){return{icon:TR(SR)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=O0,t.nodeCallback=ER,t}}},provides(t){t.i2svg=function(e){const{node:n=ke,callback:r=()=>{}}=e;return O0(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:c,mask:u,maskId:d,extra:p}=n;return new Promise((m,y)=>{Promise.all([Op(r,o),u.iconName?Op(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(T=>{let[b,C]=T;m([e,Tg({icons:{main:b,mask:C},prefix:o,iconName:r,transform:a,symbol:c,maskId:d,title:i,titleId:s,extra:p,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e;const a=jh(o);a.length>0&&(r.style=a);let c;return vg(s)&&(c=pi("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(c||i.icon),{children:n,attributes:r}}}},IR={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return Uh({type:"layer"},()=>{as("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(ee.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},CR={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return Uh({type:"counter",content:t},()=>(as("beforeDOMElementCreation",{content:t,params:e}),sR({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(ee.cssPrefix,"-layers-counter"),...r]}})))}}}},bR={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Dn,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return Uh({type:"text",content:t},()=>(as("beforeDOMElementCreation",{content:t,params:e}),b0({content:t,transform:{...Dn,...n},title:r,extra:{attributes:s,styles:o,classes:["".concat(ee.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let o=null,a=null;if(ET){const c=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/c,a=u.height/c}return ee.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,b0({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}};const AR=new RegExp('"',"ug"),L0=[1105920,1112319],D0={FontAwesome:{normal:"fas",400:"fas"},...c2,...l2,...y2},Mp=Object.keys(D0).reduce((t,e)=>(t[e.toLowerCase()]=D0[e],t),{}),RR=Object.keys(Mp).reduce((t,e)=>{const n=Mp[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function kR(t){const e=t.replace(AR,""),n=z2(e,0),r=n>=L0[0]&&n<=L0[1],i=e.length===2?e[0]===e[1]:!1;return{value:Ap(i?e[0]:e),isSecondary:r||i}}function PR(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(Mp[n]||{})[i]||RR[n]}function M0(t,e){const n="".concat(w2).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const o=Uo(t.children).filter(m=>m.getAttribute(xp)===e)[0],a=di.getComputedStyle(t,e),c=a.getPropertyValue("font-family"),u=c.match(I2),d=a.getPropertyValue("font-weight"),p=a.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&p!=="none"&&p!==""){const m=a.getPropertyValue("content");let y=PR(c,d);const{value:T,isSecondary:b}=kR(m),C=u[0].startsWith("FontAwesome");let w=wg(y,T),_=w;if(C){const E=K2(T);E.iconName&&E.prefix&&(w=E.iconName,y=E.prefix)}if(w&&!b&&(!o||o.getAttribute(mg)!==y||o.getAttribute(gg)!==_)){t.setAttribute(n,_),o&&t.removeChild(o);const E=_R(),{extra:P}=E;P.attributes[xp]=e,Op(w,y).then(O=>{const L=Tg({...E,icons:{main:O,mask:Eg()},prefix:y,iconName:_,extra:P,watchable:!0}),S=ke.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(S,t.firstChild):t.appendChild(S),S.outerHTML=L.map(v=>Fl(v)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function NR(t){return Promise.all([M0(t,"::before"),M0(t,"::after")])}function OR(t){return t.parentNode!==document.head&&!~T2.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(xp)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function j0(t){if(wr)return new Promise((e,n)=>{const r=Uo(t.querySelectorAll("*")).filter(OR).map(NR),i=Sg.begin("searchPseudoElements");qT(),Promise.all(r).then(()=>{i(),Dp(),e()}).catch(()=>{i(),Dp(),n()})})}var LR={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=j0,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=ke}=e;ee.searchPseudoElements&&j0(n)}}};let V0=!1;var DR={mixout(){return{dom:{unwatch(){qT(),V0=!0}}}},hooks(){return{bootstrap(){P0(kp("mutationObserverCallbacks",{}))},noAuto(){mR()},watch(t){const{observeMutationsRoot:e}=t;V0?Dp():P0(kp("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const F0=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var MR={mixout(){return{parse:{transform:t=>F0(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=F0(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(a," ").concat(c," ").concat(u)},p={transform:"translate(".concat(s/2*-1," -256)")},m={outer:o,inner:d,path:p};return{tag:"g",attributes:{...m.outer},children:[{tag:"g",attributes:{...m.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...m.path}}]}]}}}};const uf={x:0,y:0,width:"100%",height:"100%"};function U0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function jR(t){return t.tag==="g"?t.children:[t]}var VR={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Fh(n.split(" ").map(i=>i.trim())):Eg();return r.prefix||(r.prefix=fi()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e;const{width:c,icon:u}=i,{width:d,icon:p}=s,m=D2({transform:a,containerWidth:d,iconWidth:c}),y={tag:"rect",attributes:{...uf,fill:"white"}},T=u.children?{children:u.children.map(U0)}:{},b={tag:"g",attributes:{...m.inner},children:[U0({tag:u.tag,attributes:{...u.attributes,...m.path},...T})]},C={tag:"g",attributes:{...m.outer},children:[b]},w="mask-".concat(o||pl()),_="clip-".concat(o||pl()),E={tag:"mask",attributes:{...uf,id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[y,C]},P={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:jR(p)},E]};return n.push(P,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(w,")"),...uf}}),{children:n,attributes:r}}}},FR={provides(t){let e=!1;di.matchMedia&&(e=di.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},o={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||o.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),n.push(o),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},UR={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},zR=[V2,xR,IR,CR,bR,LR,DR,MR,VR,FR,UR];J2(zR,{mixoutsTo:tn});tn.noAuto;tn.config;tn.library;tn.dom;const jp=tn.parse;tn.findIconDefinition;tn.toHtml;const BR=tn.icon;tn.layer;tn.text;tn.counter;var YT={exports:{}},$R="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WR=$R,HR=WR;function QT(){}function XT(){}XT.resetWarningCache=QT;var GR=function(){function t(r,i,s,o,a,c){if(c!==HR){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XT,resetWarningCache:QT};return n.PropTypes=n,n};YT.exports=GR();var qR=YT.exports;const he=_m(qR);function z0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z0(Object(n),!0).forEach(function(r){no(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function no(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YR(t,e){if(t==null)return{};var n=KR(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vp(t){return QR(t)||XR(t)||JR(t)||ZR()}function QR(t){if(Array.isArray(t))return Fp(t)}function XR(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JR(t,e){if(t){if(typeof t=="string")return Fp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fp(t,e)}}function Fp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ek(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,c=t.spin,u=t.spinPulse,d=t.spinReverse,p=t.pulse,m=t.fixedWidth,y=t.inverse,T=t.border,b=t.listItem,C=t.flip,w=t.size,_=t.rotation,E=t.pull,P=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":c,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":p,"fa-fw":m,"fa-inverse":y,"fa-border":T,"fa-li":b,"fa-flip":C===!0,"fa-flip-horizontal":C==="horizontal"||C==="both","fa-flip-vertical":C==="vertical"||C==="both"},no(e,"fa-".concat(w),typeof w<"u"&&w!==null),no(e,"fa-rotate-".concat(_),typeof _<"u"&&_!==null&&_!==0),no(e,"fa-pull-".concat(E),typeof E<"u"&&E!==null),no(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(P).map(function(O){return P[O]?O:null}).filter(function(O){return O})}function tk(t){return t=t-0,t===t}function JT(t){return tk(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var nk=["style"];function rk(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ik(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=JT(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[rk(i)]=s:e[i]=s,e},{})}function ZT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return ZT(t,c)}),i=Object.keys(e.attributes||{}).reduce(function(c,u){var d=e.attributes[u];switch(u){case"class":c.attrs.className=d,delete e.attributes.class;break;case"style":c.attrs.style=ik(d);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?c.attrs[u.toLowerCase()]=d:c.attrs[JT(u)]=d}return c},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=YR(n,nk);return i.attrs.style=On(On({},i.attrs.style),o),t.apply(void 0,[e.tag,On(On({},i.attrs),a)].concat(Vp(r)))}var eS=!1;try{eS=!0}catch{}function sk(){if(!eS&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function B0(t){if(t&&qu(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(jp.icon)return jp.icon(t);if(t===null)return null;if(t&&qu(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function hf(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?no({},t,e):{}}var $0={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},xe=we.forwardRef(function(t,e){var n=On(On({},$0),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,c=n.titleId,u=n.maskId,d=B0(r),p=hf("classes",[].concat(Vp(ek(n)),Vp((o||"").split(" ")))),m=hf("transform",typeof n.transform=="string"?jp.transform(n.transform):n.transform),y=hf("mask",B0(i)),T=BR(d,On(On(On(On({},p),m),y),{},{symbol:s,title:a,titleId:c,maskId:u}));if(!T)return sk("Could not find icon",d),null;var b=T.abstract,C={ref:e};return Object.keys(n).forEach(function(w){$0.hasOwnProperty(w)||(C[w]=n[w])}),ok(b[0],C)});xe.displayName="FontAwesomeIcon";xe.propTypes={beat:he.bool,border:he.bool,beatFade:he.bool,bounce:he.bool,className:he.string,fade:he.bool,flash:he.bool,mask:he.oneOfType([he.object,he.array,he.string]),maskId:he.string,fixedWidth:he.bool,inverse:he.bool,flip:he.oneOf([!0,!1,"horizontal","vertical","both"]),icon:he.oneOfType([he.object,he.array,he.string]),listItem:he.bool,pull:he.oneOf(["right","left"]),pulse:he.bool,rotation:he.oneOf([0,90,180,270]),shake:he.bool,size:he.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:he.bool,spinPulse:he.bool,spinReverse:he.bool,symbol:he.oneOfType([he.bool,he.string]),title:he.string,titleId:he.string,transform:he.oneOfType([he.string,he.object]),swapOpacity:he.bool};var ok=ZT.bind(null,we.createElement);/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(this,arguments)}var Kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kr||(Kr={}));const W0="popstate";function ak(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Up("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nS(i)}return ck(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lk(){return Math.random().toString(36).substr(2,8)}function H0(t,e){return{usr:t.state,key:t.key,idx:e}}function Up(t,e,n,r){return n===void 0&&(n=null),ml({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zo(e):e,{state:n,key:e&&e.key||r||lk()})}function nS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ck(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Kr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ml({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Kr.Pop;let C=d(),w=C==null?null:C-u;u=C,c&&c({action:a,location:b.location,delta:w})}function m(C,w){a=Kr.Push;let _=Up(b.location,C,w);u=d()+1;let E=H0(_,u),P=b.createHref(_);try{o.pushState(E,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}s&&c&&c({action:a,location:b.location,delta:1})}function y(C,w){a=Kr.Replace;let _=Up(b.location,C,w);u=d();let E=H0(_,u),P=b.createHref(_);o.replaceState(E,"",P),s&&c&&c({action:a,location:b.location,delta:0})}function T(C){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof C=="string"?C:nS(C);return _=_.replace(/ $/,"%20"),Je(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let b={get action(){return a},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(W0,p),c=C,()=>{i.removeEventListener(W0,p),c=null}},createHref(C){return e(i,C)},createURL:T,encodeLocation(C){let w=T(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:y,go(C){return o.go(C)}};return b}var G0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(G0||(G0={}));function uk(t,e,n){return n===void 0&&(n="/"),hk(t,e,n,!1)}function hk(t,e,n,r){let i=typeof e=="string"?zo(e):e,s=sS(i.pathname||"/",n);if(s==null)return null;let o=rS(t);dk(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=Sk(s);a=Ek(o[c],u,r)}return a}function rS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Je(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ji([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:_k(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of iS(s.path))i(s,o,c)}),e}function iS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iS(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function dk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fk=/^:[\w-]+$/,pk=3,mk=2,gk=1,yk=10,vk=-2,q0=t=>t==="*";function _k(t,e){let n=t.split("/"),r=n.length;return n.some(q0)&&(r+=vk),e&&(r+=mk),n.filter(i=>!q0(i)).reduce((i,s)=>i+(fk.test(s)?pk:s===""?gk:yk),r)}function wk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ek(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=K0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=K0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Ji([s,p.pathname]),pathnameBase:Rk(Ji([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Ji([s,p.pathnameBase]))}return o}function K0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Tk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let b=a[p]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const T=a[p];return y&&!T?u[m]=void 0:u[m]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Tk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Sk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zo(t):t;return{pathname:n?n.startsWith("/")?n:Ik(n,e):e,search:kk(r),hash:Pk(i)}}function Ik(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function df(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ck(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bk(t,e){let n=Ck(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ak(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zo(t):(i=ml({},t),Je(!i.pathname||!i.pathname.includes("?"),df("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),df("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),df("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let c=xk(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ji=t=>t.join("/").replace(/\/\/+/g,"/"),Rk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Nk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oS=["post","put","patch","delete"];new Set(oS);const Ok=["get",...oS];new Set(Ok);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)}const Ig=V.createContext(null),Lk=V.createContext(null),zh=V.createContext(null),Bh=V.createContext(null),vs=V.createContext({outlet:null,matches:[],isDataRoute:!1}),aS=V.createContext(null);function $h(){return V.useContext(Bh)!=null}function lS(){return $h()||Je(!1),V.useContext(Bh).location}function cS(t){V.useContext(zh).static||V.useLayoutEffect(t)}function Er(){let{isDataRoute:t}=V.useContext(vs);return t?Yk():Dk()}function Dk(){$h()||Je(!1);let t=V.useContext(Ig),{basename:e,future:n,navigator:r}=V.useContext(zh),{matches:i}=V.useContext(vs),{pathname:s}=lS(),o=JSON.stringify(bk(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return cS(()=>{a.current=!0}),V.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=Ak(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ji([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}const Mk=V.createContext(null);function jk(t){let e=V.useContext(vs).outlet;return e&&V.createElement(Mk.Provider,{value:t},e)}function Vk(t,e){return Fk(t,e)}function Fk(t,e,n,r){$h()||Je(!1);let{navigator:i}=V.useContext(zh),{matches:s}=V.useContext(vs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=lS(),d;if(e){var p;let C=typeof e=="string"?zo(e):e;c==="/"||(p=C.pathname)!=null&&p.startsWith(c)||Je(!1),d=C}else d=u;let m=d.pathname||"/",y=m;if(c!=="/"){let C=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let T=uk(t,{pathname:y}),b=Wk(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Ji([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Ji([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&b?V.createElement(Bh.Provider,{value:{location:gl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Kr.Pop}},b):b}function Uk(){let t=Kk(),e=Nk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const zk=V.createElement(Uk,null);class Bk extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(vs.Provider,{value:this.props.routeContext},V.createElement(aS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $k(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Ig);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(vs.Provider,{value:e},r)}function Wk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||Je(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:m,errors:y}=n,T=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||T){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let y,T=!1,b=null,C=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,b=p.route.errorElement||zk,c&&(u<0&&m===0?(T=!0,C=null):u===m&&(T=!0,C=p.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,m+1)),_=()=>{let E;return y?E=b:T?E=C:p.route.Component?E=V.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=d,V.createElement($k,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:E})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?V.createElement(Bk,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var uS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uS||{}),Ku=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ku||{});function Hk(t){let e=V.useContext(Ig);return e||Je(!1),e}function Gk(t){let e=V.useContext(Lk);return e||Je(!1),e}function qk(t){let e=V.useContext(vs);return e||Je(!1),e}function hS(t){let e=qk(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function Kk(){var t;let e=V.useContext(aS),n=Gk(Ku.UseRouteError),r=hS(Ku.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Yk(){let{router:t}=Hk(uS.UseNavigateStable),e=hS(Ku.UseNavigateStable),n=V.useRef(!1);return cS(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gl({fromRouteId:e},s)))},[t,e])}const Y0={};function Qk(t,e){Y0[e]||(Y0[e]=!0,console.warn(e))}const Q0=(t,e,n)=>Qk(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Xk(t,e){t!=null&&t.v7_startTransition||Q0("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Q0("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Jk(t){return jk(t.context)}function Pn(t){Je(!1)}function Zk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Kr.Pop,navigator:s,static:o=!1,future:a}=t;$h()&&Je(!1);let c=e.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:c,navigator:s,static:o,future:gl({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=zo(r));let{pathname:d="/",search:p="",hash:m="",state:y=null,key:T="default"}=r,b=V.useMemo(()=>{let C=sS(d,c);return C==null?null:{location:{pathname:C,search:p,hash:m,state:y,key:T},navigationType:i}},[c,d,p,m,y,T,i]);return b==null?null:V.createElement(zh.Provider,{value:u},V.createElement(Bh.Provider,{children:n,value:b}))}function eP(t){let{children:e,location:n}=t;return Vk(zp(e),n)}new Promise(()=>{});function zp(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,zp(r.props.children,s));return}r.type!==Pn&&Je(!1),!r.props.index||!r.props.children||Je(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tP="6";try{window.__reactRouterVersion=tP}catch{}const nP="startTransition",X0=kf[nP];function rP(t){let{basename:e,children:n,future:r,window:i}=t,s=V.useRef();s.current==null&&(s.current=ak({window:i,v5Compat:!0}));let o=s.current,[a,c]=V.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=V.useCallback(p=>{u&&X0?X0(()=>c(p)):c(p)},[c,u]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.useEffect(()=>Xk(r),[r]),V.createElement(Zk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var J0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(J0||(J0={}));var Z0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Z0||(Z0={}));function dS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dS(t))&&(r&&(r+=" "),r+=e);return r}const yl=t=>typeof t=="number"&&!isNaN(t),Zi=t=>typeof t=="string",Ht=t=>typeof t=="function",ou=t=>Zi(t)||Ht(t)?t:null,Bp=t=>V.isValidElement(t)||Zi(t)||Ht(t)||yl(t);function iP(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Wh(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:c,preventExitTransition:u,done:d,nodeRef:p,isIn:m,playToast:y}=o;const T=r?`${e}--${c}`:e,b=r?`${n}--${c}`:n,C=V.useRef(0);return V.useLayoutEffect(()=>{const w=p.current,_=T.split(" "),E=P=>{P.target===p.current&&(y(),w.removeEventListener("animationend",E),w.removeEventListener("animationcancel",E),C.current===0&&P.type!=="animationcancel"&&w.classList.remove(..._))};w.classList.add(..._),w.addEventListener("animationend",E),w.addEventListener("animationcancel",E)},[]),V.useEffect(()=>{const w=p.current,_=()=>{w.removeEventListener("animationend",_),i?iP(w,d,s):d()};m||(u?_():(C.current=1,w.className+=` ${b}`,w.addEventListener("animationend",_)))},[m]),we.createElement(we.Fragment,null,a)}}function e_(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const xt=new Map;let vl=[];const $p=new Set,sP=t=>$p.forEach(e=>e(t)),fS=()=>xt.size>0;function pS(t,e){var n;if(e)return!((n=xt.get(e))==null||!n.isToastActive(t));let r=!1;return xt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function mS(t,e){Bp(t)&&(fS()||vl.push({content:t,options:e}),xt.forEach(n=>{n.buildToast(t,e)}))}function t_(t,e){xt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function oP(t){const{subscribe:e,getSnapshot:n,setProps:r}=V.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const c=function(d,p,m){let y=1,T=0,b=[],C=[],w=[],_=p;const E=new Map,P=new Set,O=()=>{w=Array.from(E.values()),P.forEach(v=>v())},L=v=>{C=v==null?[]:C.filter(I=>I!==v),O()},S=v=>{const{toastId:I,onOpen:R,updateId:N,children:k}=v.props,A=N==null;v.staleId&&E.delete(v.staleId),E.set(I,v),C=[...C,v.props.toastId].filter(Q=>Q!==v.staleId),O(),m(e_(v,A?"added":"updated")),A&&Ht(R)&&R(V.isValidElement(k)&&k.props)};return{id:d,props:_,observe:v=>(P.add(v),()=>P.delete(v)),toggle:(v,I)=>{E.forEach(R=>{I!=null&&I!==R.props.toastId||Ht(R.toggle)&&R.toggle(v)})},removeToast:L,toasts:E,clearQueue:()=>{T-=b.length,b=[]},buildToast:(v,I)=>{if((q=>{let{containerId:W,toastId:Z,updateId:ce}=q;const ue=W?W!==d:d!==1,se=E.has(Z)&&ce==null;return ue||se})(I))return;const{toastId:R,updateId:N,data:k,staleId:A,delay:Q}=I,re=()=>{L(R)},$=N==null;$&&T++;const K={..._,style:_.toastStyle,key:y++,...Object.fromEntries(Object.entries(I).filter(q=>{let[W,Z]=q;return Z!=null})),toastId:R,updateId:N,data:k,closeToast:re,isIn:!1,className:ou(I.className||_.toastClassName),bodyClassName:ou(I.bodyClassName||_.bodyClassName),progressClassName:ou(I.progressClassName||_.progressClassName),autoClose:!I.isLoading&&(B=I.autoClose,j=_.autoClose,B===!1||yl(B)&&B>0?B:j),deleteToast(){const q=E.get(R),{onClose:W,children:Z}=q.props;Ht(W)&&W(V.isValidElement(Z)&&Z.props),m(e_(q,"removed")),E.delete(R),T--,T<0&&(T=0),b.length>0?S(b.shift()):O()}};var B,j;K.closeButton=_.closeButton,I.closeButton===!1||Bp(I.closeButton)?K.closeButton=I.closeButton:I.closeButton===!0&&(K.closeButton=!Bp(_.closeButton)||_.closeButton);let D=v;V.isValidElement(v)&&!Zi(v.type)?D=V.cloneElement(v,{closeToast:re,toastProps:K,data:k}):Ht(v)&&(D=v({closeToast:re,toastProps:K,data:k}));const U={content:D,props:K,staleId:A};_.limit&&_.limit>0&&T>_.limit&&$?b.push(U):yl(Q)?setTimeout(()=>{S(U)},Q):S(U)},setProps(v){_=v},setToggle:(v,I)=>{E.get(v).toggle=I},isToastActive:v=>C.some(I=>I===v),getSnapshot:()=>w}}(o,s,sP);xt.set(o,c);const u=c.observe(a);return vl.forEach(d=>mS(d.content,d.options)),vl=[],()=>{u(),xt.delete(o)}},setProps(a){var c;(c=xt.get(o))==null||c.setProps(a)},getSnapshot(){var a;return(a=xt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=V.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return t.newestOnTop&&i.reverse(),i.forEach(a=>{const{position:c}=a.props;o.has(c)||o.set(c,[]),o.get(c).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:pS,count:i==null?void 0:i.length}}function aP(t){const[e,n]=V.useState(!1),[r,i]=V.useState(!1),s=V.useRef(null),o=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:p}=t;var m,y;function T(){n(!0)}function b(){n(!1)}function C(E){const P=s.current;o.canDrag&&P&&(o.didMove=!0,e&&b(),o.delta=t.draggableDirection==="x"?E.clientX-o.start:E.clientY-o.start,o.start!==E.clientX&&(o.canCloseOnClick=!1),P.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",w);const E=s.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();E.style.transition="transform 0.2s, opacity 0.2s",E.style.removeProperty("transform"),E.style.removeProperty("opacity")}}(y=xt.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||y.setToggle(m.id,m.fn),V.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||b(),window.addEventListener("focus",T),window.addEventListener("blur",b),()=>{window.removeEventListener("focus",T),window.removeEventListener("blur",b)}},[t.pauseOnFocusLoss]);const _={onPointerDown:function(E){if(t.draggable===!0||t.draggable===E.pointerType){o.didMove=!1,document.addEventListener("pointermove",C),document.addEventListener("pointerup",w);const P=s.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(o.start=E.clientX,o.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(o.start=E.clientY,o.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(E){const{top:P,bottom:O,left:L,right:S}=s.current.getBoundingClientRect();E.nativeEvent.type!=="touchend"&&t.pauseOnHover&&E.clientX>=L&&E.clientX<=S&&E.clientY>=P&&E.clientY<=O?b():T()}};return a&&c&&(_.onMouseEnter=b,t.stacked||(_.onMouseLeave=T)),p&&(_.onClick=E=>{d&&d(E),o.canCloseOnClick&&u()}),{playToast:T,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function lP(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:c,progress:u,rtl:d,isIn:p,theme:m}=t;const y=s||c&&u===0,T={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};c&&(T.transform=`scaleX(${u})`);const b=Yr("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),C=Ht(o)?o({rtl:d,type:i,defaultClassName:b}):Yr(b,o),w={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{p&&r()}};return we.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},we.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),we.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:C,style:T,...w}))}let cP=1;const gS=()=>""+cP++;function uP(t){return t&&(Zi(t.toastId)||yl(t.toastId))?t.toastId:gS()}function $a(t,e){return mS(t,e),e.toastId}function Yu(t,e){return{...e,type:e&&e.type||t,toastId:uP(e)}}function Vc(t){return(e,n)=>$a(e,Yu(t,n))}function ye(t,e){return $a(t,Yu("default",e))}ye.loading=(t,e)=>$a(t,Yu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ye.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Zi(i)?ye.loading(i,n):ye.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,p,m)=>{if(p==null)return void ye.dismiss(r);const y={type:d,...a,...n,data:m},T=Zi(p)?{render:p}:p;return r?ye.update(r,{...y,...T}):ye(T.render,{...y,...T}),m},u=Ht(t)?t():t;return u.then(d=>c("success",o,d)).catch(d=>c("error",s,d)),u},ye.success=Vc("success"),ye.info=Vc("info"),ye.error=Vc("error"),ye.warning=Vc("warning"),ye.warn=ye.warning,ye.dark=(t,e)=>$a(t,Yu("default",{theme:"dark",...e})),ye.dismiss=function(t){(function(e){var n;if(fS()){if(e==null||Zi(n=e)||yl(n))xt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=xt.get(e.containerId);r?r.removeToast(e.id):xt.forEach(i=>{i.removeToast(e.id)})}}else vl=vl.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ye.clearWaitingQueue=function(t){t===void 0&&(t={}),xt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ye.isActive=pS,ye.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=xt.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:gS()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,$a(o,s)}},ye.done=t=>{ye.update(t,{progress:1})},ye.onChange=function(t){return $p.add(t),()=>{$p.delete(t)}},ye.play=t=>t_(!0,t),ye.pause=t=>t_(!1,t);const hP=typeof window<"u"?V.useLayoutEffect:V.useEffect,Fc=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return we.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},ff={info:function(t){return we.createElement(Fc,{...t},we.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return we.createElement(Fc,{...t},we.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return we.createElement(Fc,{...t},we.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return we.createElement(Fc,{...t},we.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return we.createElement("div",{className:"Toastify__spinner"})}},dP=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=aP(t),{closeButton:o,children:a,autoClose:c,onClick:u,type:d,hideProgressBar:p,closeToast:m,transition:y,position:T,className:b,style:C,bodyClassName:w,bodyStyle:_,progressClassName:E,progressStyle:P,updateId:O,role:L,progress:S,rtl:v,toastId:I,deleteToast:R,isIn:N,isLoading:k,closeOnClick:A,theme:Q}=t,re=Yr("Toastify__toast",`Toastify__toast-theme--${Q}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":v},{"Toastify__toast--close-on-click":A}),$=Ht(b)?b({rtl:v,position:T,type:d,defaultClassName:re}):Yr(re,b),K=function(U){let{theme:q,type:W,isLoading:Z,icon:ce}=U,ue=null;const se={theme:q,type:W};return ce===!1||(Ht(ce)?ue=ce({...se,isLoading:Z}):V.isValidElement(ce)?ue=V.cloneElement(ce,se):Z?ue=ff.spinner():(Ce=>Ce in ff)(W)&&(ue=ff[W](se))),ue}(t),B=!!S||!c,j={closeToast:m,type:d,theme:Q};let D=null;return o===!1||(D=Ht(o)?o(j):V.isValidElement(o)?V.cloneElement(o,j):function(U){let{closeToast:q,theme:W,ariaLabel:Z="close"}=U;return we.createElement("button",{className:`Toastify__close-button Toastify__close-button--${W}`,type:"button",onClick:ce=>{ce.stopPropagation(),q(ce)},"aria-label":Z},we.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},we.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(j)),we.createElement(y,{isIn:N,done:R,position:T,preventExitTransition:n,nodeRef:r,playToast:s},we.createElement("div",{id:I,onClick:u,"data-in":N,className:$,...i,style:C,ref:r},we.createElement("div",{...N&&{role:L},className:Ht(w)?w({type:d}):Yr("Toastify__toast-body",w),style:_},K!=null&&we.createElement("div",{className:Yr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},K),we.createElement("div",null,a)),D,we.createElement(lP,{...O&&!B?{key:`pb-${O}`}:{},rtl:v,theme:Q,delay:c,isRunning:e,isIn:N,closeToast:m,hide:p,type:d,style:P,className:E,controlledProgress:B,progress:S||0})))},Hh=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},fP=Wh(Hh("bounce",!0));Wh(Hh("slide",!0));Wh(Hh("zoom"));Wh(Hh("flip"));const pP={position:"top-right",transition:fP,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Gh(t){let e={...pP,...t};const n=t.stacked,[r,i]=V.useState(!0),s=V.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=oP(e),{className:u,style:d,rtl:p,containerId:m}=e;function y(b){const C=Yr("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":p});return Ht(u)?u({position:b,rtl:p,defaultClassName:C}):Yr(C,ou(u))}function T(){n&&(i(!0),ye.play())}return hP(()=>{if(n){var b;const C=s.current.querySelectorAll('[data-in="true"]'),w=12,_=(b=e.position)==null?void 0:b.includes("top");let E=0,P=0;Array.from(C).reverse().forEach((O,L)=>{const S=O;S.classList.add("Toastify__toast--stacked"),L>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=_?"top":"bot");const v=E*(r?.2:1)+(r?0:w*L);S.style.setProperty("--y",`${_?v:-1*v}px`),S.style.setProperty("--g",`${w}`),S.style.setProperty("--s",""+(1-(r?P:0))),E+=S.offsetHeight,P+=.025})}},[r,c,n]),we.createElement("div",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),ye.pause())},onMouseLeave:T},o((b,C)=>{const w=C.length?{...d}:{...d,pointerEvents:"none"};return we.createElement("div",{className:y(b),style:w,key:`container-${b}`},C.map(_=>{let{content:E,props:P}=_;return we.createElement(dP,{...P,stacked:n,collapseAll:T,isIn:a(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},E)}))}))}var n_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(m=64)),r.push(n[d],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new gP;const m=s<<2|a>>4;if(r.push(m),u!==64){const y=a<<4&240|u>>2;if(r.push(y),p!==64){const T=u<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yP=function(t){const e=yS(t);return vS.encodeByteArray(e,!0)},Qu=function(t){return yP(t).replace(/\./g,"")},_S=function(t){try{return vS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=()=>vP().__FIREBASE_DEFAULTS__,wP=()=>{if(typeof process>"u"||typeof n_>"u")return;const t=n_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_S(t[1]);return e&&JSON.parse(e)},qh=()=>{try{return _P()||wP()||EP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wS=t=>{var e,n;return(n=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TP=t=>{const e=wS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ES=()=>{var t;return(t=qh())===null||t===void 0?void 0:t.config},TS=t=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qu(JSON.stringify(n)),Qu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function CP(){var t;const e=(t=qh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kP(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PP(){return!CP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NP(){try{return typeof indexedDB=="object"}catch{return!1}}function OP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LP,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Tr(i,a,r)}}function DP(t,e){return t.replace(MP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const MP=/\{\$([^}]+)}/g;function jP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(r_(s)&&r_(o)){if(!Xu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ba(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VP(t,e){const n=new FP(t,e);return n.subscribe.bind(n)}class FP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pf),i.error===void 0&&(i.error=pf),i.complete===void 0&&(i.complete=pf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zP=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($P(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BP(t){return t===Ui?void 0:t}function $P(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const HP={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},GP=fe.INFO,qP={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},KP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cg{constructor(e){this.name=e,this._logLevel=GP,this._logHandler=KP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const YP=(t,e)=>e.some(n=>t instanceof n);let i_,s_;function QP(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XP(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SS=new WeakMap,Wp=new WeakMap,xS=new WeakMap,mf=new WeakMap,bg=new WeakMap;function JP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SS.set(n,t)}).catch(()=>{}),bg.set(e,t),e}function ZP(t){if(Wp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wp.set(t,e)}let Hp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eN(t){Hp=t(Hp)}function tN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gf(this),e,...n);return xS.set(r,e.sort?e.sort():[e]),si(r)}:XP().includes(t)?function(...e){return t.apply(gf(this),e),si(SS.get(this))}:function(...e){return si(t.apply(gf(this),e))}}function nN(t){return typeof t=="function"?tN(t):(t instanceof IDBTransaction&&ZP(t),YP(t,QP())?new Proxy(t,Hp):t)}function si(t){if(t instanceof IDBRequest)return JP(t);if(mf.has(t))return mf.get(t);const e=nN(t);return e!==t&&(mf.set(t,e),bg.set(e,t)),e}const gf=t=>bg.get(t);function rN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",c=>{r(si(o.result),c.oldVersion,c.newVersion,si(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iN=["get","getKey","getAll","getAllKeys","count"],sN=["put","add","delete","clear"],yf=new Map;function o_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yf.get(e))return yf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iN.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return yf.set(e,s),s}eN(t=>({...t,get:(e,n,r)=>o_(e,n)||t.get(e,n,r),has:(e,n)=>!!o_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gp="@firebase/app",a_="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Cg("@firebase/app"),lN="@firebase/app-compat",cN="@firebase/analytics-compat",uN="@firebase/analytics",hN="@firebase/app-check-compat",dN="@firebase/app-check",fN="@firebase/auth",pN="@firebase/auth-compat",mN="@firebase/database",gN="@firebase/data-connect",yN="@firebase/database-compat",vN="@firebase/functions",_N="@firebase/functions-compat",wN="@firebase/installations",EN="@firebase/installations-compat",TN="@firebase/messaging",SN="@firebase/messaging-compat",xN="@firebase/performance",IN="@firebase/performance-compat",CN="@firebase/remote-config",bN="@firebase/remote-config-compat",AN="@firebase/storage",RN="@firebase/storage-compat",kN="@firebase/firestore",PN="@firebase/vertexai",NN="@firebase/firestore-compat",ON="firebase",LN="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",DN={[Gp]:"fire-core",[lN]:"fire-core-compat",[uN]:"fire-analytics",[cN]:"fire-analytics-compat",[dN]:"fire-app-check",[hN]:"fire-app-check-compat",[fN]:"fire-auth",[pN]:"fire-auth-compat",[mN]:"fire-rtdb",[gN]:"fire-data-connect",[yN]:"fire-rtdb-compat",[vN]:"fire-fn",[_N]:"fire-fn-compat",[wN]:"fire-iid",[EN]:"fire-iid-compat",[TN]:"fire-fcm",[SN]:"fire-fcm-compat",[xN]:"fire-perf",[IN]:"fire-perf-compat",[CN]:"fire-rc",[bN]:"fire-rc-compat",[AN]:"fire-gcs",[RN]:"fire-gcs-compat",[kN]:"fire-fst",[NN]:"fire-fst-compat",[PN]:"fire-vertex","fire-js":"fire-js",[ON]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,MN=new Map,Kp=new Map;function l_(t,e){try{t.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Io(t){const e=t.name;if(Kp.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,t);for(const n of Ju.values())l_(n,t);for(const n of MN.values())l_(n,t);return!0}function Ag(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new Ul("app","Firebase",jN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=LN;function mn(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=ES()),!n)throw oi.create("no-options");const s=Ju.get(i);if(s){if(Xu(n,s.options)&&Xu(r,s.config))return s;throw oi.create("duplicate-app",{appName:i})}const o=new WP(i);for(const c of Kp.values())o.addComponent(c);const a=new VN(n,r,o);return Ju.set(i,a),a}function IS(t=qp){const e=Ju.get(t);if(!e&&t===qp&&ES())return mn();if(!e)throw oi.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let i=(r=DN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(a.join(" "));return}Io(new ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebase-heartbeat-database",UN=1,_l="firebase-heartbeat-store";let vf=null;function CS(){return vf||(vf=rN(FN,UN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_l)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),vf}async function zN(t){try{const n=(await CS()).transaction(_l),r=await n.objectStore(_l).get(bS(t));return await n.done,r}catch(e){if(e instanceof Tr)fr.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function c_(t,e){try{const r=(await CS()).transaction(_l,"readwrite");await r.objectStore(_l).put(e,bS(t)),await r.done}catch(n){if(n instanceof Tr)fr.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(r.message)}}}function bS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1024,$N=30*24*60*60*1e3;class WN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=$N}),this._storage.overwrite(this._heartbeatsCache))}catch(r){fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u_(),{heartbeatsToSend:r,unsentEntries:i}=HN(this._heartbeatsCache.heartbeats),s=Qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fr.warn(n),""}}}function u_(){return new Date().toISOString().substring(0,10)}function HN(t,e=BN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),h_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),h_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NP()?OP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h_(t){return Qu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){Io(new ls("platform-logger",e=>new oN(e),"PRIVATE")),Io(new ls("heartbeat",e=>new WN(e),"PRIVATE")),ai(Gp,a_,t),ai(Gp,a_,"esm2017"),ai("fire-js","")}qN("");var KN="firebase",YN="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(KN,YN,"app");const An={apiKey:"AIzaSyDAFPLwyruXowFvMY-hip30Y0Sb9P2gjhw",authDomain:"vexed-11745.firebaseapp.com",projectId:"vexed-11745",storageBucket:"vexed-11745.firebasestorage.app",messagingSenderId:"286672434784",appId:"1:286672434784:web:9692bd3121e93743d7b505",measurementId:"G-SQE6KZ21TE"};function Rg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QN=AS,RS=new Ul("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Cg("@firebase/auth");function XN(t,...e){Zu.logLevel<=fe.WARN&&Zu.warn(`Auth (${Bo}): ${t}`,...e)}function au(t,...e){Zu.logLevel<=fe.ERROR&&Zu.error(`Auth (${Bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw Pg(t,...e)}function Cn(t,...e){return Pg(t,...e)}function kg(t,e,n){const r=Object.assign(Object.assign({},QN()),{[e]:n});return new Ul("auth","Firebase",r).create(e,{appName:t.name})}function sr(t){return kg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),kg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RS.create(t,...e)}function ie(t,e,...n){if(!t)throw Pg(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw au(e),new Error(e)}function pr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZN(){return d_()==="http:"||d_()==="https:"}function d_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZN()||AP()||"connection"in navigator)?navigator.onLine:!0}function tO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=IP()||RP()}get(){return eO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new Bl(3e4,6e4);function xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sr(t,e,n,r,i={}){return PS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=zl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return bP()||(u.referrerPolicy="no-referrer"),kS.fetch()(NS(t,t.config.apiHost,n,a),u)})}async function PS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nO),e);try{const i=new sO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Uc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Uc(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kg(t,d,u);pn(t,d)}}catch(i){if(i instanceof Tr)throw i;pn(t,"network-request-failed",{message:String(i)})}}async function $l(t,e,n,r,i={}){const s=await Sr(t,e,n,r,i);return"mfaPendingCredential"in s&&pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function NS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ng(t.config,i):`${t.config.apiScheme}://${i}`}function iO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),rO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cn(t,e,r);return i.customData._tokenResponse=n,i}function f_(t){return t!==void 0&&t.enterprise!==void 0}class oO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aO(t,e){return Sr(t,"GET","/v2/recaptchaConfig",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e){return Sr(t,"POST","/v1/accounts:delete",e)}async function OS(t,e){return Sr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cO(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=Og(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wa(_f(i.auth_time)),issuedAtTime:Wa(_f(i.iat)),expirationTime:Wa(_f(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _f(t){return Number(t)*1e3}function Og(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return au("JWT malformed, contained fewer than 3 sections"),null;try{const i=_S(n);return i?JSON.parse(i):(au("Failed to decode base64 JWT payload"),null)}catch(i){return au("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p_(t){const e=Og(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&uO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Co(t,OS(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?LS(s.providerUserInfo):[],a=fO(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function dO(t){const e=Ft(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LS(t){return t.map(e=>{var{providerId:n}=e,r=Rg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e){const n=await PS(t,{},async()=>{const r=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=NS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mO(t,e){return Sr(t,"POST","/v2/accounts:revokeToken",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=p_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await pO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ho;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Co(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cO(this,e)}reload(){return dO(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await Co(this,lO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:P,isAnonymous:O,providerData:L,stsTokenManager:S}=n;ie(E&&S,e,"internal-error");const v=ho.fromJSON(this.name,S);ie(typeof E=="string",e,"internal-error"),Or(p,e.name),Or(m,e.name),ie(typeof P=="boolean",e,"internal-error"),ie(typeof O=="boolean",e,"internal-error"),Or(y,e.name),Or(T,e.name),Or(b,e.name),Or(C,e.name),Or(w,e.name),Or(_,e.name);const I=new nr({uid:E,auth:e,email:m,emailVerified:P,displayName:p,isAnonymous:O,photoURL:T,phoneNumber:y,tenantId:b,stsTokenManager:v,createdAt:w,lastLoginAt:_});return L&&Array.isArray(L)&&(I.providerData=L.map(R=>Object.assign({},R))),C&&(I._redirectEventId=C),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new ho;i.updateFromServerResponse(n);const s=new nr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await eh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?LS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ho;a.updateFromIdToken(r);const c=new nr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;function rr(t){pr(t instanceof Function,"Expected a class definition");let e=m_.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DS.type="NONE";const g_=DS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e,n){return`firebase:${t}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lu(this.userKey,i.apiKey,s),this.fullPersistenceKey=lu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(rr(g_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||rr(g_);const o=lu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const p=nr._fromJSON(e,d);u!==s&&(a=p),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new fo(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zS(e))return"Blackberry";if(BS(e))return"Webos";if(jS(e))return"Safari";if((e.includes("chrome/")||VS(e))&&!e.includes("edge/"))return"Chrome";if(US(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MS(t=Et()){return/firefox\//i.test(t)}function jS(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VS(t=Et()){return/crios\//i.test(t)}function FS(t=Et()){return/iemobile/i.test(t)}function US(t=Et()){return/android/i.test(t)}function zS(t=Et()){return/blackberry/i.test(t)}function BS(t=Et()){return/webos/i.test(t)}function Lg(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gO(t=Et()){var e;return Lg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yO(){return kP()&&document.documentMode===10}function $S(t=Et()){return Lg(t)||US(t)||BS(t)||zS(t)||/windows phone/i.test(t)||FS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e=[]){let n;switch(t){case"Browser":n=y_(Et());break;case"Worker":n=`${y_(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e={}){return Sr(t,"GET","/v2/passwordPolicy",xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=6;class EO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:wO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new vO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await OS(this,{idToken:e}),r=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(sr(this));const n=e?Ft(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _O(this),n=new EO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ii(t){return Ft(t)}class v_{constructor(e){this.auth=e,this.observer=null,this.addObserver=VP(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SO(t){Kh=t}function HS(t){return Kh.loadJS(t)}function xO(){return Kh.recaptchaEnterpriseScript}function IO(){return Kh.gapiScript}function CO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bO{constructor(){this.enterprise=new AO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RO="recaptcha-enterprise",GS="NO_RECAPTCHA";class kO{constructor(e){this.type=RO,this.auth=Ii(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{aO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new oO(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;f_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(GS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bO().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&f_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xO();c.length!==0&&(c+=a),HS(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function __(t,e,n,r=!1,i=!1){const s=new kO(t);let o;if(i)o=GS;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Xp(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await __(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await __(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e){const n=Ag(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xu(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function NO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OO(t,e,n){const r=Ii(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=qS(e),{host:o,port:a}=LO(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),DO()}function qS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LO(t){const e=qS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:w_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:w_(o)}}}function w_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function MO(t,e){return Sr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){return $l(t,"POST","/v1/accounts:signInWithPassword",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e){return $l(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}async function FO(t,e){return $l(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Dg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,n,"signInWithPassword",jO);case"emailLink":return VO(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,r,"signUpPassword",MO);case"emailLink":return FO(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e){return $l(t,"POST","/v1/accounts:signInWithIdp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="http://localhost";class cs extends Dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Rg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new cs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:UO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BO(t){const e=Ca(ba(t)).link,n=e?Ca(ba(e)).deep_link_id:null,r=Ca(ba(t)).deep_link_id;return(r?Ca(ba(r)).link:null)||r||n||e||t}class Mg{constructor(e){var n,r,i,s,o,a;const c=Ca(ba(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=zO((i=c.mode)!==null&&i!==void 0?i:null);ie(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=BO(e);try{return new Mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.providerId=$o.PROVIDER_ID}static credential(e,n){return wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mg.parseLink(n);return ie(r,"argument-error"),wl._fromEmailAndCode(e,r.code,r.tenantId)}}$o.PROVIDER_ID="password";$o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends jg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Wl{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cs._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jn.credential(n,r)}catch{return null}}}Jn.GOOGLE_SIGN_IN_METHOD="google.com";Jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Wl{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Wl{constructor(){super("twitter.com")}static credential(e,n){return cs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e){return $l(t,"POST","/v1/accounts:signUp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await nr._fromIdTokenResponse(e,r,i),o=E_(r);return new us({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=E_(r);return new us({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function E_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new th(e,n,r,i)}}function KS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(t,s,e,r):s})}async function WO(t,e,n=!1){const r=await Co(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(sr(r));const i="reauthenticate";try{const s=await Co(t,KS(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=Og(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),us._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e,n=!1){if(Tn(t.app))return Promise.reject(sr(t));const r="signIn",i=await KS(t,r,e),s=await us._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function GO(t,e){return YS(Ii(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(t){const e=Ii(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qO(t,e,n){if(Tn(t.app))return Promise.reject(sr(t));const r=Ii(t),o=await Xp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$O).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&QS(t),c}),a=await us._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function KO(t,e,n){return Tn(t.app)?Promise.reject(sr(t)):GO(Ft(t),$o.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){return Sr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Co(r,YO(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function XO(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function JO(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function Ci(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function Hl(t){return Ft(t).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=1e3,e4=10;class JS extends XS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);yO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,e4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JS.type="LOCAL";const t4=JS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends XS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZS.type="SESSION";const ex=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await n4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=Vg("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function i4(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function s4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function a4(){return tx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="firebaseLocalStorageDb",l4=1,rh="firebaseLocalStorage",rx="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(t,e){return t.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function c4(){const t=indexedDB.deleteDatabase(nx);return new Gl(t).toPromise()}function Jp(){const t=indexedDB.open(nx,l4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rh,{keyPath:rx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await c4(),e(await Jp()))})})}async function T_(t,e,n){const r=Qh(t,!0).put({[rx]:e,value:n});return new Gl(r).toPromise()}async function u4(t,e){const n=Qh(t,!1).get(e),r=await new Gl(n).toPromise();return r===void 0?null:r.value}function S_(t,e){const n=Qh(t,!0).delete(e);return new Gl(n).toPromise()}const h4=800,d4=3;class ix{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(a4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await s4(),!this.activeServiceWorker)return;this.sender=new r4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await T_(e,nh,"1"),await S_(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>T_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>u4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qh(i,!1).getAll();return new Gl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ix.type="LOCAL";const f4=ix;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e){return e?rr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p4(t){return YS(t.auth,new Fg(t),t.bypassAuthState)}function m4(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),HO(n,new Fg(t),t.bypassAuthState)}async function g4(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),WO(n,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p4;case"linkViaPopup":case"linkViaRedirect":return g4;case"reauthViaPopup":case"reauthViaRedirect":return m4;default:pn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new Bl(2e3,1e4);async function v4(t,e,n){if(Tn(t.app))return Promise.reject(Cn(t,"operation-not-supported-in-this-environment"));const r=Ii(t);JN(t,e,jg);const i=sx(r,n);return new Gi(r,"signInViaPopup",e,i).executeNotNull()}class Gi extends ox{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gi.currentPopupAction&&Gi.currentPopupAction.cancel(),Gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y4.get())};e()}}Gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="pendingRedirect",cu=new Map;class w4 extends ox{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cu.get(this.auth._key());if(!e){try{const r=await E4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cu.set(this.auth._key(),e)}return this.bypassAuthState||cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E4(t,e){const n=x4(e),r=S4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function T4(t,e){cu.set(t._key(),e)}function S4(t){return rr(t._redirectPersistence)}function x4(t){return lu(_4,t.config.apiKey,t.name)}async function I4(t,e,n=!1){if(Tn(t.app))return Promise.reject(sr(t));const r=Ii(t),i=sx(r,e),o=await new w4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=10*60*1e3;class b4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ax(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C4&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(e))}saveEventToCache(e){this.cachedEventUids.add(x_(e)),this.lastProcessedEventTime=Date.now()}}function x_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ax({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ax(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e={}){return Sr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P4=/^https?/;async function N4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R4(t);for(const n of e)try{if(O4(n))return}catch{}pn(t,"unauthorized-domain")}function O4(t){const e=Yp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P4.test(n))return!1;if(k4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new Bl(3e4,6e4);function I_(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D4(t){return new Promise((e,n)=>{var r,i,s;function o(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),n(Cn(t,"network-request-failed"))},timeout:L4.get()})}if(!((i=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fn().gapi)===null||s===void 0)&&s.load)o();else{const a=CO("iframefcb");return Fn()[a]=()=>{gapi.load?o():n(Cn(t,"network-request-failed"))},HS(`${IO()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw uu=null,e})}let uu=null;function M4(t){return uu=uu||D4(t),uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new Bl(5e3,15e3),V4="__/auth/iframe",F4="emulator/auth/iframe",U4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B4(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ng(e,F4):`https://${t.config.authDomain}/${V4}`,r={apiKey:e.apiKey,appName:t.name,v:Bo},i=z4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zl(r).slice(1)}`}async function $4(t){const e=await M4(t),n=Fn().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:B4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cn(t,"network-request-failed"),a=Fn().setTimeout(()=>{s(o)},j4.get());function c(){Fn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H4=500,G4=600,q4="_blank",K4="http://localhost";class C_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y4(t,e,n,r=H4,i=G4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},W4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Et().toLowerCase();n&&(a=VS(u)?q4:n),MS(u)&&(e=e||K4,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(gO(u)&&a!=="_self")return Q4(e||"",a),new C_(null);const p=window.open(e||"",a,d);ie(p,t,"popup-blocked");try{p.focus()}catch{}return new C_(p)}function Q4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="__/auth/handler",J4="emulator/auth/handler",Z4=encodeURIComponent("fac");async function b_(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bo,eventId:i};if(e instanceof jg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Wl){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${Z4}=${encodeURIComponent(c)}`:"";return`${eL(t)}?${zl(a).slice(1)}${u}`}function eL({config:t}){return t.emulator?Ng(t,J4):`https://${t.authDomain}/${X4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="webStorageSupport";class tL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ex,this._completeRedirectFn=I4,this._overrideRedirectResult=T4}async _openPopup(e,n,r,i){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await b_(e,n,r,Yp(),i);return Y4(e,o,Vg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await b_(e,n,r,Yp(),i);return i4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $4(e),r=new b4(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wf,{type:wf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wf];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $S()||jS()||Lg()}}const nL=tL;var A_="@firebase/auth",R_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sL(t){Io(new ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WS(t)},u=new TO(r,i,s,c);return NO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Io(new ls("auth-internal",e=>{const n=Ii(e.getProvider("auth").getImmediate());return(r=>new rL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(A_,R_,iL(t)),ai(A_,R_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=5*60,aL=TS("authIdTokenMaxAge")||oL;let k_=null;const lL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aL)return;const i=n==null?void 0:n.token;k_!==i&&(k_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rn(t=IS()){const e=Ag(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PO(t,{popupRedirectResolver:nL,persistence:[f4,t4,ex]}),r=TS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=lL(s.toString());JO(n,o,()=>o(n.currentUser)),XO(n,a=>o(a))}}const i=wS("auth");return i&&OO(n,`http://${i}`),n}function cL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sL("Browser");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,lx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function I(){}I.prototype=v.prototype,S.D=v.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(R,N,k){for(var A=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)A[Q-2]=arguments[Q];return v.prototype[N].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,I){I||(I=0);var R=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)R[N]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(N=0;16>N;++N)R[N]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=S.g[0],I=S.g[1],N=S.g[2];var k=S.g[3],A=v+(k^I&(N^k))+R[0]+3614090360&4294967295;v=I+(A<<7&4294967295|A>>>25),A=k+(N^v&(I^N))+R[1]+3905402710&4294967295,k=v+(A<<12&4294967295|A>>>20),A=N+(I^k&(v^I))+R[2]+606105819&4294967295,N=k+(A<<17&4294967295|A>>>15),A=I+(v^N&(k^v))+R[3]+3250441966&4294967295,I=N+(A<<22&4294967295|A>>>10),A=v+(k^I&(N^k))+R[4]+4118548399&4294967295,v=I+(A<<7&4294967295|A>>>25),A=k+(N^v&(I^N))+R[5]+1200080426&4294967295,k=v+(A<<12&4294967295|A>>>20),A=N+(I^k&(v^I))+R[6]+2821735955&4294967295,N=k+(A<<17&4294967295|A>>>15),A=I+(v^N&(k^v))+R[7]+4249261313&4294967295,I=N+(A<<22&4294967295|A>>>10),A=v+(k^I&(N^k))+R[8]+1770035416&4294967295,v=I+(A<<7&4294967295|A>>>25),A=k+(N^v&(I^N))+R[9]+2336552879&4294967295,k=v+(A<<12&4294967295|A>>>20),A=N+(I^k&(v^I))+R[10]+4294925233&4294967295,N=k+(A<<17&4294967295|A>>>15),A=I+(v^N&(k^v))+R[11]+2304563134&4294967295,I=N+(A<<22&4294967295|A>>>10),A=v+(k^I&(N^k))+R[12]+1804603682&4294967295,v=I+(A<<7&4294967295|A>>>25),A=k+(N^v&(I^N))+R[13]+4254626195&4294967295,k=v+(A<<12&4294967295|A>>>20),A=N+(I^k&(v^I))+R[14]+2792965006&4294967295,N=k+(A<<17&4294967295|A>>>15),A=I+(v^N&(k^v))+R[15]+1236535329&4294967295,I=N+(A<<22&4294967295|A>>>10),A=v+(N^k&(I^N))+R[1]+4129170786&4294967295,v=I+(A<<5&4294967295|A>>>27),A=k+(I^N&(v^I))+R[6]+3225465664&4294967295,k=v+(A<<9&4294967295|A>>>23),A=N+(v^I&(k^v))+R[11]+643717713&4294967295,N=k+(A<<14&4294967295|A>>>18),A=I+(k^v&(N^k))+R[0]+3921069994&4294967295,I=N+(A<<20&4294967295|A>>>12),A=v+(N^k&(I^N))+R[5]+3593408605&4294967295,v=I+(A<<5&4294967295|A>>>27),A=k+(I^N&(v^I))+R[10]+38016083&4294967295,k=v+(A<<9&4294967295|A>>>23),A=N+(v^I&(k^v))+R[15]+3634488961&4294967295,N=k+(A<<14&4294967295|A>>>18),A=I+(k^v&(N^k))+R[4]+3889429448&4294967295,I=N+(A<<20&4294967295|A>>>12),A=v+(N^k&(I^N))+R[9]+568446438&4294967295,v=I+(A<<5&4294967295|A>>>27),A=k+(I^N&(v^I))+R[14]+3275163606&4294967295,k=v+(A<<9&4294967295|A>>>23),A=N+(v^I&(k^v))+R[3]+4107603335&4294967295,N=k+(A<<14&4294967295|A>>>18),A=I+(k^v&(N^k))+R[8]+1163531501&4294967295,I=N+(A<<20&4294967295|A>>>12),A=v+(N^k&(I^N))+R[13]+2850285829&4294967295,v=I+(A<<5&4294967295|A>>>27),A=k+(I^N&(v^I))+R[2]+4243563512&4294967295,k=v+(A<<9&4294967295|A>>>23),A=N+(v^I&(k^v))+R[7]+1735328473&4294967295,N=k+(A<<14&4294967295|A>>>18),A=I+(k^v&(N^k))+R[12]+2368359562&4294967295,I=N+(A<<20&4294967295|A>>>12),A=v+(I^N^k)+R[5]+4294588738&4294967295,v=I+(A<<4&4294967295|A>>>28),A=k+(v^I^N)+R[8]+2272392833&4294967295,k=v+(A<<11&4294967295|A>>>21),A=N+(k^v^I)+R[11]+1839030562&4294967295,N=k+(A<<16&4294967295|A>>>16),A=I+(N^k^v)+R[14]+4259657740&4294967295,I=N+(A<<23&4294967295|A>>>9),A=v+(I^N^k)+R[1]+2763975236&4294967295,v=I+(A<<4&4294967295|A>>>28),A=k+(v^I^N)+R[4]+1272893353&4294967295,k=v+(A<<11&4294967295|A>>>21),A=N+(k^v^I)+R[7]+4139469664&4294967295,N=k+(A<<16&4294967295|A>>>16),A=I+(N^k^v)+R[10]+3200236656&4294967295,I=N+(A<<23&4294967295|A>>>9),A=v+(I^N^k)+R[13]+681279174&4294967295,v=I+(A<<4&4294967295|A>>>28),A=k+(v^I^N)+R[0]+3936430074&4294967295,k=v+(A<<11&4294967295|A>>>21),A=N+(k^v^I)+R[3]+3572445317&4294967295,N=k+(A<<16&4294967295|A>>>16),A=I+(N^k^v)+R[6]+76029189&4294967295,I=N+(A<<23&4294967295|A>>>9),A=v+(I^N^k)+R[9]+3654602809&4294967295,v=I+(A<<4&4294967295|A>>>28),A=k+(v^I^N)+R[12]+3873151461&4294967295,k=v+(A<<11&4294967295|A>>>21),A=N+(k^v^I)+R[15]+530742520&4294967295,N=k+(A<<16&4294967295|A>>>16),A=I+(N^k^v)+R[2]+3299628645&4294967295,I=N+(A<<23&4294967295|A>>>9),A=v+(N^(I|~k))+R[0]+4096336452&4294967295,v=I+(A<<6&4294967295|A>>>26),A=k+(I^(v|~N))+R[7]+1126891415&4294967295,k=v+(A<<10&4294967295|A>>>22),A=N+(v^(k|~I))+R[14]+2878612391&4294967295,N=k+(A<<15&4294967295|A>>>17),A=I+(k^(N|~v))+R[5]+4237533241&4294967295,I=N+(A<<21&4294967295|A>>>11),A=v+(N^(I|~k))+R[12]+1700485571&4294967295,v=I+(A<<6&4294967295|A>>>26),A=k+(I^(v|~N))+R[3]+2399980690&4294967295,k=v+(A<<10&4294967295|A>>>22),A=N+(v^(k|~I))+R[10]+4293915773&4294967295,N=k+(A<<15&4294967295|A>>>17),A=I+(k^(N|~v))+R[1]+2240044497&4294967295,I=N+(A<<21&4294967295|A>>>11),A=v+(N^(I|~k))+R[8]+1873313359&4294967295,v=I+(A<<6&4294967295|A>>>26),A=k+(I^(v|~N))+R[15]+4264355552&4294967295,k=v+(A<<10&4294967295|A>>>22),A=N+(v^(k|~I))+R[6]+2734768916&4294967295,N=k+(A<<15&4294967295|A>>>17),A=I+(k^(N|~v))+R[13]+1309151649&4294967295,I=N+(A<<21&4294967295|A>>>11),A=v+(N^(I|~k))+R[4]+4149444226&4294967295,v=I+(A<<6&4294967295|A>>>26),A=k+(I^(v|~N))+R[11]+3174756917&4294967295,k=v+(A<<10&4294967295|A>>>22),A=N+(v^(k|~I))+R[2]+718787259&4294967295,N=k+(A<<15&4294967295|A>>>17),A=I+(k^(N|~v))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+k&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var I=v-this.blockSize,R=this.B,N=this.h,k=0;k<v;){if(N==0)for(;k<=I;)i(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<v;)if(R[N++]=S.charCodeAt(k++),N==this.blockSize){i(this,R),N=0;break}}else for(;k<v;)if(R[N++]=S[k++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var I=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=I&255,I/=256;for(this.u(S),S=Array(16),v=I=0;4>v;++v)for(var R=0;32>R;R+=8)S[I++]=this.g[v]>>>R&255;return S};function s(S,v){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=v(S)}function o(S,v){this.h=v;for(var I=[],R=!0,N=S.length-1;0<=N;N--){var k=S[N]|0;R&&k==v||(I[N]=k,R=!1)}this.g=I}var a={};function c(S){return-128<=S&&128>S?s(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return C(u(-S));for(var v=[],I=1,R=0;S>=I;R++)v[R]=S/I|0,I*=4294967296;return new o(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return C(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(v,8)),R=p,N=0;N<S.length;N+=8){var k=Math.min(8,S.length-N),A=parseInt(S.substring(N,N+k),v);8>k?(k=u(Math.pow(v,k)),R=R.j(k).add(u(A))):(R=R.j(I),R=R.add(u(A)))}return R}var p=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-C(this).m();for(var S=0,v=1,I=0;I<this.g.length;I++){var R=this.i(I);S+=(0<=R?R:4294967296+R)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(b(this))return"-"+C(this).toString(S);for(var v=u(Math.pow(S,6)),I=this,R="";;){var N=P(I,v).g;I=w(I,N.j(v));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=N,T(I))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=w(this,S),b(S)?-1:T(S)?0:1};function C(S){for(var v=S.g.length,I=[],R=0;R<v;R++)I[R]=~S.g[R];return new o(I,~S.h).add(m)}t.abs=function(){return b(this)?C(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),I=[],R=0,N=0;N<=v;N++){var k=R+(this.i(N)&65535)+(S.i(N)&65535),A=(k>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);R=A>>>16,k&=65535,A&=65535,I[N]=A<<16|k}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(S,v){return S.add(C(v))}t.j=function(S){if(T(this)||T(S))return p;if(b(this))return b(S)?C(this).j(C(S)):C(C(this).j(S));if(b(S))return C(this.j(C(S)));if(0>this.l(y)&&0>S.l(y))return u(this.m()*S.m());for(var v=this.g.length+S.g.length,I=[],R=0;R<2*v;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<S.g.length;N++){var k=this.i(R)>>>16,A=this.i(R)&65535,Q=S.i(N)>>>16,re=S.i(N)&65535;I[2*R+2*N]+=A*re,_(I,2*R+2*N),I[2*R+2*N+1]+=k*re,_(I,2*R+2*N+1),I[2*R+2*N+1]+=A*Q,_(I,2*R+2*N+1),I[2*R+2*N+2]+=k*Q,_(I,2*R+2*N+2)}for(R=0;R<v;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=v;R<2*v;R++)I[R]=0;return new o(I,0)};function _(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function E(S,v){this.g=S,this.h=v}function P(S,v){if(T(v))throw Error("division by zero");if(T(S))return new E(p,p);if(b(S))return v=P(C(S),v),new E(C(v.g),C(v.h));if(b(v))return v=P(S,C(v)),new E(C(v.g),v.h);if(30<S.g.length){if(b(S)||b(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,R=v;0>=R.l(S);)I=O(I),R=O(R);var N=L(I,1),k=L(R,1);for(R=L(R,2),I=L(I,2);!T(R);){var A=k.add(R);0>=A.l(S)&&(N=N.add(I),k=A),R=L(R,1),I=L(I,1)}return v=w(S,N.j(v)),new E(N,v)}for(N=p;0<=S.l(v);){for(I=Math.max(1,Math.floor(S.m()/v.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=u(I),A=k.j(v);b(A)||0<A.l(S);)I-=R,k=u(I),A=k.j(v);T(k)&&(k=m),N=N.add(k),S=w(S,A)}return new E(N,S)}t.A=function(S){return P(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),I=[],R=0;R<v;R++)I[R]=this.i(R)&S.i(R);return new o(I,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),I=[],R=0;R<v;R++)I[R]=this.i(R)|S.i(R);return new o(I,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),I=[],R=0;R<v;R++)I[R]=this.i(R)^S.i(R);return new o(I,this.h^S.h)};function O(S){for(var v=S.g.length+1,I=[],R=0;R<v;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(I,S.h)}function L(S,v){var I=v>>5;v%=32;for(var R=S.g.length-I,N=[],k=0;k<R;k++)N[k]=0<v?S.i(k+I)>>>v|S.i(k+I+1)<<32-v:S.i(k+I);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,es=o}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cx,Aa,ux,hu,Zp,hx,dx,fx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var g=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var M=l[x];if(!(M in g))break e;g=g[M]}l=l[l.length-1],x=g[l],h=h(x),h!=x&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var g=0,x=!1,M={next:function(){if(!x&&g<l.length){var F=g++;return{value:h(F,l[F]),done:!1}}return x=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,g){return l.call.apply(l.bind,arguments)}function p(l,h,g){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,x),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function m(l,h,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function y(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var x=g.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function T(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(x,M,F){for(var Y=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)Y[Se-2]=arguments[Se];return h.prototype[M].apply(x,Y)}}function b(l){const h=l.length;if(0<h){const g=Array(h);for(let x=0;x<h;x++)g[x]=l[x];return g}return[]}function C(l,h){for(let g=1;g<arguments.length;g++){const x=arguments[g];if(c(x)){const M=l.length||0,F=x.length||0;l.length=M+F;for(let Y=0;Y<F;Y++)l[M+Y]=x[Y]}else l.push(x)}}class w{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function P(l){return P[" "](l),l}P[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(l,h,g){for(const x in l)h.call(g,l[x],x,l)}function S(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function v(l){const h={};for(const g in l)h[g]=l[g];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,h){let g,x;for(let M=1;M<arguments.length;M++){x=arguments[M];for(g in x)l[g]=x[g];for(let F=0;F<I.length;F++)g=I[F],Object.prototype.hasOwnProperty.call(x,g)&&(l[g]=x[g])}}function N(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function k(l){a.setTimeout(()=>{throw l},0)}function A(){var l=j;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Q{constructor(){this.h=this.g=null}add(h,g){const x=re.get();x.set(h,g),this.h?this.h.next=x:this.g=x,this.h=x}}var re=new w(()=>new $,l=>l.reset());class ${constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let K,B=!1,j=new Q,D=()=>{const l=a.Promise.resolve(void 0);K=()=>{l.then(U)}};var U=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){k(g)}var h=re;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}B=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function ce(l,h){if(W.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(O){e:{try{P(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ue[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ce.aa.h.call(this)}}T(ce,W);var ue={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ai(l,h,g,x,M){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!x,this.ha=M,this.key=++Ce,this.da=this.fa=!1}function nn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function At(l){this.src=l,this.g={},this.h=0}At.prototype.add=function(l,h,g,x,M){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var Y=Is(l,h,x,M);return-1<Y?(h=l[Y],g||(h.fa=!1)):(h=new Ai(h,this.src,F,!!x,M),h.fa=g,l.push(h)),h};function xs(l,h){var g=h.type;if(g in l.g){var x=l.g[g],M=Array.prototype.indexOf.call(x,h,void 0),F;(F=0<=M)&&Array.prototype.splice.call(x,M,1),F&&(nn(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Is(l,h,g,x){for(var M=0;M<l.length;++M){var F=l[M];if(!F.da&&F.listener==h&&F.capture==!!g&&F.ha==x)return M}return-1}var Cs="closure_lm_"+(1e6*Math.random()|0),bs={};function Ko(l,h,g,x,M){if(Array.isArray(h)){for(var F=0;F<h.length;F++)Ko(l,h[F],g,x,M);return null}return g=Jo(g),l&&l[se]?l.K(h,g,u(x)?!!x.capture:!!x,M):gd(l,h,g,!1,x,M)}function gd(l,h,g,x,M,F){if(!h)throw Error("Invalid event type");var Y=u(M)?!!M.capture:!!M,Se=Qo(l);if(Se||(l[Cs]=Se=new At(l)),g=Se.add(h,g,x,Y,F),g.proxy)return g;if(x=Zl(),g.proxy=x,x.src=l,x.listener=g,l.addEventListener)Z||(M=Y),M===void 0&&(M=!1),l.addEventListener(h.toString(),x,M);else if(l.attachEvent)l.attachEvent(tc(h.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Zl(){function l(g){return h.call(l.src,l.listener,g)}const h=nc;return l}function ec(l,h,g,x,M){if(Array.isArray(h))for(var F=0;F<h.length;F++)ec(l,h[F],g,x,M);else x=u(x)?!!x.capture:!!x,g=Jo(g),l&&l[se]?(l=l.i,h=String(h).toString(),h in l.g&&(F=l.g[h],g=Is(F,g,x,M),-1<g&&(nn(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete l.g[h],l.h--)))):l&&(l=Qo(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Is(h,g,x,M)),(g=-1<l?h[l]:null)&&Yo(g))}function Yo(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[se])xs(h.i,l);else{var g=l.type,x=l.proxy;h.removeEventListener?h.removeEventListener(g,x,l.capture):h.detachEvent?h.detachEvent(tc(g),x):h.addListener&&h.removeListener&&h.removeListener(x),(g=Qo(h))?(xs(g,l),g.h==0&&(g.src=null,h[Cs]=null)):nn(l)}}}function tc(l){return l in bs?bs[l]:bs[l]="on"+l}function nc(l,h){if(l.da)l=!0;else{h=new ce(h,this);var g=l.listener,x=l.ha||l.src;l.fa&&Yo(l),l=g.call(x,h)}return l}function Qo(l){return l=l[Cs],l instanceof At?l:null}var Xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jo(l){return typeof l=="function"?l:(l[Xo]||(l[Xo]=function(h){return l.handleEvent(h)}),l[Xo])}function Ge(){q.call(this),this.i=new At(this),this.M=this,this.F=null}T(Ge,q),Ge.prototype[se]=!0,Ge.prototype.removeEventListener=function(l,h,g,x){ec(this,l,h,g,x)};function Ue(l,h){var g,x=l.F;if(x)for(g=[];x;x=x.F)g.push(x);if(l=l.M,x=h.type||h,typeof h=="string")h=new W(h,l);else if(h instanceof W)h.target=h.target||l;else{var M=h;h=new W(x,l),R(h,M)}if(M=!0,g)for(var F=g.length-1;0<=F;F--){var Y=h.g=g[F];M=As(Y,x,!0,h)&&M}if(Y=h.g=l,M=As(Y,x,!0,h)&&M,M=As(Y,x,!1,h)&&M,g)for(F=0;F<g.length;F++)Y=h.g=g[F],M=As(Y,x,!1,h)&&M}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],x=0;x<g.length;x++)nn(g[x]);delete l.g[h],l.h--}}this.F=null},Ge.prototype.K=function(l,h,g,x){return this.i.add(String(l),h,!1,g,x)},Ge.prototype.L=function(l,h,g,x){return this.i.add(String(l),h,!0,g,x)};function As(l,h,g,x){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,F=0;F<h.length;++F){var Y=h[F];if(Y&&!Y.da&&Y.capture==g){var Se=Y.listener,it=Y.ha||Y.src;Y.fa&&xs(l.i,Y),M=Se.call(it,x)!==!1&&M}}return M&&!x.defaultPrevented}function rc(l,h,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Zo(l){l.g=rc(()=>{l.g=null,l.i&&(l.i=!1,Zo(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class ic extends q{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(l){q.call(this),this.h=l,this.g={}}T(xr,q);var sc=[];function Ut(l){L(l.g,function(h,g){this.g.hasOwnProperty(g)&&Yo(h)},l),l.g={}}xr.prototype.N=function(){xr.aa.N.call(this),Ut(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=a.JSON.stringify,rn=a.JSON.parse,Gn=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function sn(){}sn.prototype.h=null;function Ir(l){return l.h||(l.h=l.i())}function Ri(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rs(){W.call(this,"d")}T(Rs,W);function ks(){W.call(this,"c")}T(ks,W);var qn={},ea=null;function Ps(){return ea=ea||new Ge}qn.La="serverreachability";function ki(l){W.call(this,qn.La,l)}T(ki,W);function Pi(l){const h=Ps();Ue(h,new ki(h))}qn.STAT_EVENT="statevent";function Ni(l,h){W.call(this,qn.STAT_EVENT,l),this.stat=h}T(Ni,W);function Ke(l){const h=Ps();Ue(h,new Ni(h,l))}qn.Ma="timingevent";function oc(l,h){W.call(this,qn.Ma,l),this.size=h}T(oc,W);function Oi(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function Tt(l,h,g,x,M,F){l.info(function(){if(l.g)if(F)for(var Y="",Se=F.split("&"),it=0;it<Se.length;it++){var _e=Se[it].split("=");if(1<_e.length){var dt=_e[0];_e=_e[1];var ft=dt.split("_");Y=2<=ft.length&&ft[1]=="type"?Y+(dt+"="+_e+"&"):Y+(dt+"=redacted&")}}else Y=null;else Y=F;return"XMLHTTP REQ ("+x+") [attempt "+M+"]: "+h+`
`+g+`
`+Y})}function ta(l,h,g,x,M,F,Y){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+M+"]: "+h+`
`+g+`
`+F+" "+Y})}function br(l,h,g,x){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+vd(l,g)+(x?" "+x:"")})}function yd(l,h){l.info(function(){return"TIMEOUT: "+h})}Li.prototype.info=function(){};function vd(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var x=g[l];if(!(2>x.length)){var M=x[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Y=1;Y<M.length;Y++)M[Y]=""}}}}return qe(g)}catch{return h}}var Ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_d;function ac(){}T(ac,sn),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},_d=new ac;function Ar(l,h,g,x){this.j=l,this.i=h,this.l=g,this.R=x||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xy}function xy(){this.i=null,this.g="",this.h=!1}var Iy={},wd={};function Ed(l,h,g){l.L=1,l.v=hc(Kn(h)),l.m=g,l.P=!0,Cy(l,null)}function Cy(l,h){l.F=Date.now(),lc(l),l.A=Kn(l.v);var g=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),Uy(g.i,"t",x),l.C=0,g=l.j.J,l.h=new xy,l.g=iv(l.j,g?h:null,!l.m),0<l.O&&(l.M=new ic(m(l.Y,l,l.g),l.O)),h=l.U,g=l.g,x=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(sc[0]=M.toString()),M=sc);for(var F=0;F<M.length;F++){var Y=Ko(g,M[F],x||h.handleEvent,!1,h.h||h);if(!Y)break;h.g[Y.key]=Y}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Pi(),Tt(l.i,l.u,l.A,l.l,l.R,l.m)}Ar.prototype.ca=function(l){l=l.target;const h=this.M;h&&Yn(l)==3?h.j():this.Y(l)},Ar.prototype.Y=function(l){try{if(l==this.g)e:{const ft=Yn(this.g);var h=this.g.Ba();const Ds=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||qy(this.g)))){this.J||ft!=4||h==7||(h==8||0>=Ds?Pi(3):Pi(2)),Td(this);var g=this.g.Z();this.X=g;t:if(by(this)){var x=qy(this.g);l="";var M=x.length,F=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),na(this);var Y="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(x[h],{stream:!(F&&h==M-1)});x.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,ta(this.i,this.u,this.A,this.l,this.R,ft,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,it=this.g;if((Se=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Se)){var _e=Se;break t}}_e=null}if(g=_e)br(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sd(this,g);else{this.o=!1,this.s=3,Ke(12),Di(this),na(this);break e}}if(this.P){g=!0;let gn;for(;!this.J&&this.C<Y.length;)if(gn=lC(this,Y),gn==wd){ft==4&&(this.s=4,Ke(14),g=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Iy){this.s=4,Ke(15),br(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else br(this.i,this.l,gn,null),Sd(this,gn);if(by(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||Y.length!=0||this.h.h||(this.s=1,Ke(16),g=!1),this.o=this.o&&g,!g)br(this.i,this.l,Y,"[Invalid Chunked Response]"),Di(this),na(this);else if(0<Y.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Rd(dt),dt.M=!0,Ke(11))}}else br(this.i,this.l,Y,null),Sd(this,Y);ft==4&&Di(this),this.o&&!this.J&&(ft==4?ev(this.j,this):(this.o=!1,lc(this)))}else IC(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),Di(this),na(this)}}}catch{}finally{}};function by(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function lC(l,h){var g=l.C,x=h.indexOf(`
`,g);return x==-1?wd:(g=Number(h.substring(g,x)),isNaN(g)?Iy:(x+=1,x+g>h.length?wd:(h=h.slice(x,x+g),l.C=x+g,h)))}Ar.prototype.cancel=function(){this.J=!0,Di(this)};function lc(l){l.S=Date.now()+l.I,Ay(l,l.I)}function Ay(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Oi(m(l.ba,l),h)}function Td(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ar.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(yd(this.i,this.A),this.L!=2&&(Pi(),Ke(17)),Di(this),this.s=2,na(this)):Ay(this,this.S-l)};function na(l){l.j.G==0||l.J||ev(l.j,l)}function Di(l){Td(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Ut(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Sd(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||xd(g.h,l))){if(!l.K&&xd(g.h,l)&&g.G==3){try{var x=g.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var M=x;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)yc(g),mc(g);else break e;Ad(g),Ke(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=Oi(m(g.Za,g),6e3));if(1>=Py(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ji(g,11)}else if((l.K||g.g==l)&&yc(g),!_(h))for(M=g.Da.g.parse(h),h=0;h<M.length;h++){let _e=M[h];if(g.T=_e[0],_e=_e[1],g.G==2)if(_e[0]=="c"){g.K=_e[1],g.ia=_e[2];const dt=_e[3];dt!=null&&(g.la=dt,g.j.info("VER="+g.la));const ft=_e[4];ft!=null&&(g.Aa=ft,g.j.info("SVER="+g.Aa));const Ds=_e[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(x=1.5*Ds,g.L=x,g.j.info("backChannelRequestTimeoutMs_="+x)),x=g;const gn=l.g;if(gn){const _c=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_c){var F=x.h;F.g||_c.indexOf("spdy")==-1&&_c.indexOf("quic")==-1&&_c.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Id(F,F.h),F.h=null))}if(x.D){const kd=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;kd&&(x.ya=kd,be(x.I,x.D,kd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),x=g;var Y=l;if(x.qa=rv(x,x.J?x.ia:null,x.W),Y.K){Ny(x.h,Y);var Se=Y,it=x.L;it&&(Se.I=it),Se.B&&(Td(Se),lc(Se)),x.g=Y}else Jy(x);0<g.i.length&&gc(g)}else _e[0]!="stop"&&_e[0]!="close"||ji(g,7);else g.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?ji(g,7):bd(g):_e[0]!="noop"&&g.l&&g.l.ta(_e),g.v=0)}}Pi(4)}catch{}}var cC=class{constructor(l,h){this.g=l,this.map=h}};function Ry(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ky(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Py(l){return l.h?1:l.g?l.g.size:0}function xd(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Id(l,h){l.g?l.g.add(h):l.h=h}function Ny(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Ry.prototype.cancel=function(){if(this.i=Oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Oy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return b(l.i)}function uC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],g=l.length,x=0;x<g;x++)h.push(l[x]);return h}h=[],g=0;for(x in l)h[g++]=l[x];return h}function hC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const x in l)h[g++]=x;return h}}}function Ly(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=hC(l),x=uC(l),M=x.length,F=0;F<M;F++)h.call(void 0,x[F],g&&g[F],l)}var Dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dC(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var x=l[g].indexOf("="),M=null;if(0<=x){var F=l[g].substring(0,x);M=l[g].substring(x+1)}else F=l[g];h(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Mi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Mi){this.h=l.h,cc(this,l.j),this.o=l.o,this.g=l.g,uc(this,l.s),this.l=l.l;var h=l.i,g=new sa;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),My(this,g),this.m=l.m}else l&&(h=String(l).match(Dy))?(this.h=!1,cc(this,h[1]||"",!0),this.o=ra(h[2]||""),this.g=ra(h[3]||"",!0),uc(this,h[4]),this.l=ra(h[5]||"",!0),My(this,h[6]||"",!0),this.m=ra(h[7]||"")):(this.h=!1,this.i=new sa(null,this.h))}Mi.prototype.toString=function(){var l=[],h=this.j;h&&l.push(ia(h,jy,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(ia(h,jy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ia(g,g.charAt(0)=="/"?mC:pC,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ia(g,yC)),l.join("")};function Kn(l){return new Mi(l)}function cc(l,h,g){l.j=g?ra(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function uc(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function My(l,h,g){h instanceof sa?(l.i=h,vC(l.i,l.h)):(g||(h=ia(h,gC)),l.i=new sa(h,l.h))}function be(l,h,g){l.i.set(h,g)}function hc(l){return be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ra(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ia(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,fC),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function fC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var jy=/[#\/\?@]/g,pC=/[#\?:]/g,mC=/[#\?]/g,gC=/[#\?@]/g,yC=/#/g;function sa(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Rr(l){l.g||(l.g=new Map,l.h=0,l.i&&dC(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=sa.prototype,t.add=function(l,h){Rr(this),this.i=null,l=Os(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function Vy(l,h){Rr(l),h=Os(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Fy(l,h){return Rr(l),h=Os(l,h),l.g.has(h)}t.forEach=function(l,h){Rr(this),this.g.forEach(function(g,x){g.forEach(function(M){l.call(h,M,x,this)},this)},this)},t.na=function(){Rr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let x=0;x<h.length;x++){const M=l[x];for(let F=0;F<M.length;F++)g.push(h[x])}return g},t.V=function(l){Rr(this);let h=[];if(typeof l=="string")Fy(this,l)&&(h=h.concat(this.g.get(Os(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return Rr(this),this.i=null,l=Os(this,l),Fy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Uy(l,h,g){Vy(l,h),0<g.length&&(l.i=null,l.g.set(Os(l,h),b(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var x=h[g];const F=encodeURIComponent(String(x)),Y=this.V(x);for(x=0;x<Y.length;x++){var M=F;Y[x]!==""&&(M+="="+encodeURIComponent(String(Y[x]))),l.push(M)}}return this.i=l.join("&")};function Os(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function vC(l,h){h&&!l.j&&(Rr(l),l.i=null,l.g.forEach(function(g,x){var M=x.toLowerCase();x!=M&&(Vy(this,x),Uy(this,M,g))},l)),l.j=h}function _C(l,h){const g=new Li;if(a.Image){const x=new Image;x.onload=y(kr,g,"TestLoadImage: loaded",!0,h,x),x.onerror=y(kr,g,"TestLoadImage: error",!1,h,x),x.onabort=y(kr,g,"TestLoadImage: abort",!1,h,x),x.ontimeout=y(kr,g,"TestLoadImage: timeout",!1,h,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else h(!1)}function wC(l,h){const g=new Li,x=new AbortController,M=setTimeout(()=>{x.abort(),kr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:x.signal}).then(F=>{clearTimeout(M),F.ok?kr(g,"TestPingServer: ok",!0,h):kr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),kr(g,"TestPingServer: error",!1,h)})}function kr(l,h,g,x,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),x(g)}catch{}}function EC(){this.g=new Gn}function TC(l,h,g){const x=g||"";try{Ly(l,function(M,F){let Y=M;u(M)&&(Y=qe(M)),h.push(x+F+"="+encodeURIComponent(Y))})}catch(M){throw h.push(x+"type="+encodeURIComponent("_badmap")),M}}function dc(l){this.l=l.Ub||null,this.j=l.eb||!1}T(dc,sn),dc.prototype.g=function(){return new fc(this.l,this.j)},dc.prototype.i=function(l){return function(){return l}}({});function fc(l,h){Ge.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(fc,Ge),t=fc.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,aa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,aa(this)),this.g&&(this.readyState=3,aa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function zy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?oa(this):aa(this),this.readyState==3&&zy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,oa(this))},t.Qa=function(l){this.g&&(this.response=l,oa(this))},t.ga=function(){this.g&&oa(this)};function oa(l){l.readyState=4,l.l=null,l.j=null,l.v=null,aa(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function aa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function By(l){let h="";return L(l,function(g,x){h+=x,h+=":",h+=g,h+=`\r
`}),h}function Cd(l,h,g){e:{for(x in g){var x=!1;break e}x=!0}x||(g=By(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):be(l,h,g))}function je(l){Ge.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(je,Ge);var SC=/^https?$/i,xC=["POST","PUT"];t=je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_d.g(),this.v=this.o?Ir(this.o):Ir(_d),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(F){$y(this,F);return}if(l=g||"",g=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var M in x)g.set(M,x[M]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const F of x.keys())g.set(F,x.get(F));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xC,h,void 0))||x||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Y]of g)this.g.setRequestHeader(F,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gy(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){$y(this,F)}};function $y(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Wy(l),pc(l)}function Wy(l){l.A||(l.A=!0,Ue(l,"complete"),Ue(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ue(this,"complete"),Ue(this,"abort"),pc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pc(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hy(this):this.bb())},t.bb=function(){Hy(this)};function Hy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Yn(l)!=4||l.Z()!=2)){if(l.u&&Yn(l)==4)rc(l.Ea,0,l);else if(Ue(l,"readystatechange"),Yn(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var x;if(x=Y===0){var M=String(l.D).match(Dy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),x=!SC.test(M?M.toLowerCase():"")}g=x}if(g)Ue(l,"complete"),Ue(l,"success");else{l.m=6;try{var F=2<Yn(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Wy(l)}}finally{pc(l)}}}}function pc(l,h){if(l.g){Gy(l);const g=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Ue(l,"ready");try{g.onreadystatechange=x}catch{}}}function Gy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),rn(h)}};function qy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function IC(l){const h={};l=(l.g&&2<=Yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(_(l[x]))continue;var g=N(l[x]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=h[M]||[];h[M]=F,F.push(g)}S(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function Ky(l){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,l),this.cb=la("retryDelaySeedMs",1e4,l),this.Wa=la("forwardChannelMaxRetries",2,l),this.wa=la("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ry(l&&l.concurrentRequestLimit),this.Da=new EC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ky.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,x){Ke(0),this.W=l,this.H=h||{},g&&x!==void 0&&(this.H.OSID=g,this.H.OAID=x),this.F=this.X,this.I=rv(this,null,this.W),gc(this)};function bd(l){if(Yy(l),l.G==3){var h=l.U++,g=Kn(l.I);if(be(g,"SID",l.K),be(g,"RID",h),be(g,"TYPE","terminate"),ca(l,g),h=new Ar(l,l.j,h),h.L=2,h.v=hc(Kn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=iv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),lc(h)}nv(l)}function mc(l){l.g&&(Rd(l),l.g.cancel(),l.g=null)}function Yy(l){mc(l),l.u&&(a.clearTimeout(l.u),l.u=null),yc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function gc(l){if(!ky(l.h)&&!l.s){l.s=!0;var h=l.Ga;K||D(),B||(K(),B=!0),j.add(h,l),l.B=0}}function CC(l,h){return Py(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Oi(m(l.Ga,l,h),tv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Ar(this,this.j,l);let F=this.o;if(this.S&&(F?(F=v(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var x=this.i[g];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=Xy(this,M,h),g=Kn(this.I),be(g,"RID",l),be(g,"CVER",22),this.D&&be(g,"X-HTTP-Session-Id",this.D),ca(this,g),F&&(this.O?h="headers="+encodeURIComponent(String(By(F)))+"&"+h:this.m&&Cd(g,this.m,F)),Id(this.h,M),this.Ua&&be(g,"TYPE","init"),this.P?(be(g,"$req",h),be(g,"SID","null"),M.T=!0,Ed(M,g,null)):Ed(M,g,h),this.G=2}}else this.G==3&&(l?Qy(this,l):this.i.length==0||ky(this.h)||Qy(this))};function Qy(l,h){var g;h?g=h.l:g=l.U++;const x=Kn(l.I);be(x,"SID",l.K),be(x,"RID",g),be(x,"AID",l.T),ca(l,x),l.m&&l.o&&Cd(x,l.m,l.o),g=new Ar(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Xy(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Id(l.h,g),Ed(g,x,h)}function ca(l,h){l.H&&L(l.H,function(g,x){be(h,x,g)}),l.l&&Ly({},function(g,x){be(h,x,g)})}function Xy(l,h,g){g=Math.min(l.i.length,g);var x=l.l?m(l.l.Na,l.l,l):null;e:{var M=l.i;let F=-1;for(;;){const Y=["count="+g];F==-1?0<g?(F=M[0].g,Y.push("ofs="+F)):F=0:Y.push("ofs="+F);let Se=!0;for(let it=0;it<g;it++){let _e=M[it].g;const dt=M[it].map;if(_e-=F,0>_e)F=Math.max(0,M[it].g-100),Se=!1;else try{TC(dt,Y,"req"+_e+"_")}catch{x&&x(dt)}}if(Se){x=Y.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,x}function Jy(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;K||D(),B||(K(),B=!0),j.add(h,l),l.v=0}}function Ad(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Oi(m(l.Fa,l),tv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Zy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Oi(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),mc(this),Zy(this))};function Rd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Zy(l){l.g=new Ar(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Kn(l.qa);be(h,"RID","rpc"),be(h,"SID",l.K),be(h,"AID",l.T),be(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&be(h,"TO",l.ja),be(h,"TYPE","xmlhttp"),ca(l,h),l.m&&l.o&&Cd(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=hc(Kn(h)),g.m=null,g.P=!0,Cy(g,l)}t.Za=function(){this.C!=null&&(this.C=null,mc(this),Ad(this),Ke(19))};function yc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ev(l,h){var g=null;if(l.g==h){yc(l),Rd(l),l.g=null;var x=2}else if(xd(l.h,h))g=h.D,Ny(l.h,h),x=1;else return;if(l.G!=0){if(h.o)if(x==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;x=Ps(),Ue(x,new oc(x,g)),gc(l)}else Jy(l);else if(M=h.s,M==3||M==0&&0<h.X||!(x==1&&CC(l,h)||x==2&&Ad(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),M){case 1:ji(l,5);break;case 4:ji(l,10);break;case 3:ji(l,6);break;default:ji(l,2)}}}function tv(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function ji(l,h){if(l.j.info("Error code "+h),h==2){var g=m(l.fb,l),x=l.Xa;const M=!x;x=new Mi(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cc(x,"https"),hc(x),M?_C(x.toString(),g):wC(x.toString(),g)}else Ke(2);l.G=0,l.l&&l.l.sa(h),nv(l),Yy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function nv(l){if(l.G=0,l.ka=[],l.l){const h=Oy(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ka,h),C(l.ka,l.i),l.h.i.length=0,b(l.i),l.i.length=0),l.l.ra()}}function rv(l,h,g){var x=g instanceof Mi?Kn(g):new Mi(g);if(x.g!="")h&&(x.g=h+"."+x.g),uc(x,x.s);else{var M=a.location;x=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var F=new Mi(null);x&&cc(F,x),h&&(F.g=h),M&&uc(F,M),g&&(F.l=g),x=F}return g=l.D,h=l.ya,g&&h&&be(x,g,h),be(x,"VER",l.la),ca(l,x),x}function iv(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new je(new dc({eb:g})):new je(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sv(){}t=sv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vc(){}vc.prototype.g=function(l,h){return new zt(l,h)};function zt(l,h){Ge.call(this),this.g=new Ky(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ls(this)}T(zt,Ge),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){bd(this.g)},zt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=qe(l),l=g);h.i.push(new cC(h.Ya++,l)),h.G==3&&gc(h)},zt.prototype.N=function(){this.g.l=null,delete this.j,bd(this.g),delete this.g,zt.aa.N.call(this)};function ov(l){Rs.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}T(ov,Rs);function av(){ks.call(this),this.status=1}T(av,ks);function Ls(l){this.g=l}T(Ls,sv),Ls.prototype.ua=function(){Ue(this.g,"a")},Ls.prototype.ta=function(l){Ue(this.g,new ov(l))},Ls.prototype.sa=function(l){Ue(this.g,new av)},Ls.prototype.ra=function(){Ue(this.g,"b")},vc.prototype.createWebChannel=vc.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,fx=function(){return new vc},dx=function(){return Ps()},hx=qn,Zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,hu=Ns,Sy.COMPLETE="complete",ux=Sy,Ri.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,Aa=Ri,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,cx=je}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Cg("@firebase/firestore");function Vs(){return hs.logLevel}function X(t,...e){if(hs.logLevel<=fe.DEBUG){const n=e.map(Ug);hs.debug(`Firestore (${Wo}): ${t}`,...n)}}function mr(t,...e){if(hs.logLevel<=fe.ERROR){const n=e.map(Ug);hs.error(`Firestore (${Wo}): ${t}`,...n)}}function bo(t,...e){if(hs.logLevel<=fe.WARN){const n=e.map(Ug);hs.warn(`Firestore (${Wo}): ${t}`,...n)}}function Ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+t;throw mr(e),new Error(e)}function Ee(t,e){t||oe()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class hL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dL{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new px(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new yt(e)}}class fL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ee(this.o===void 0);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new mL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Ao(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Ze(0,0))}static max(){return new ae(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return El.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends El{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const vL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends El{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return vL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Fe.fromString(e))}static fromName(e){return new ne(Fe.fromString(e).popFirst(5))}static empty(){return new ne(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Fe(e.slice()))}}function _L(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new mi(i,ne.empty(),e)}function wL(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(ae.min(),ne.empty(),-1)}static max(){return new mi(ae.max(),ne.empty(),-1)}}function EL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==TL)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Go(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xh.oe=-1;function Jh(t){return t==null}function ih(t){return t===0&&1/t==-1/0}function IL(t){return typeof t=="number"&&Number.isInteger(t)&&!ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O_(e)),e=bL(t.get(n),e);return O_(e)}function bL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function O_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new at(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new rt(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yx("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const AL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(Ee(!!t),typeof t=="string"){let e=0;const n=AL.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zh(t){const e=t.mapValue.fields.__previous_value__;return zg(e)?Zh(e):e}function Tl(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:PL(t)?9007199254740991:kL(t)?10:11:oe()}function Wn(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tl(t).isEqual(Tl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gi(i.timestampValue),a=gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yi(i.bytesValue).isEqual(yi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ze(i.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ze(i.integerValue)===ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ze(i.doubleValue),a=ze(s.doubleValue);return o===a?ih(o)===ih(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ao(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(L_(o)!==L_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Wn(o[c],a[c])))return!1;return!0}(t,e);default:return oe()}}function xl(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function Ro(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ze(s.integerValue||s.doubleValue),c=ze(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return M_(t.timestampValue,e.timestampValue);case 4:return M_(Tl(t),Tl(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){const a=yi(s),c=yi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=ge(a[u],c[u]);if(d!==0)return d}return ge(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ge(ze(s.latitude),ze(o.latitude));return a!==0?a:ge(ze(s.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return j_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,d;const p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,T=(c=m.value)===null||c===void 0?void 0:c.arrayValue,b=ge(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:j_(y,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===$c.mapValue&&o===$c.mapValue)return 0;if(s===$c.mapValue)return 1;if(o===$c.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const m=ge(c[p],d[p]);if(m!==0)return m;const y=Ro(a[c[p]],u[d[p]]);if(y!==0)return y}return ge(c.length,d.length)}(t.mapValue,e.mapValue);default:throw oe()}}function M_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=gi(t),r=gi(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function j_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ro(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function ko(t){return em(t)}function em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=em(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${em(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function du(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(t);return e?16+du(e):16;case 5:return 2*t.stringValue.length;case 6:return yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+du(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return _s(r.fields,(s,o)=>{i+=s.length+du(o)}),i}(t.mapValue);default:throw oe()}}function tm(t){return!!t&&"integerValue"in t}function Bg(t){return!!t&&"arrayValue"in t}function V_(t){return!!t&&"nullValue"in t}function F_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fu(t){return!!t&&"mapValue"in t}function kL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ha(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_s(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ln(Ha(this.value))}}function vx(t){const e=[];return _s(t.fields,(n,r)=>{const i=new lt([n]);if(fu(r)){const s=vx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,ae.min(),ae.min(),ae.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new _t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new _t(e,2,n,ae.min(),ae.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,ae.min(),ae.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.position=e,this.inclusive=n}}function U_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function NL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{}class Qe extends _x{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LL(e,n,r):n==="array-contains"?new jL(e,r):n==="in"?new VL(e,r):n==="not-in"?new FL(e,r):n==="array-contains-any"?new UL(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DL(e,r):new ML(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ro(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends _x{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return wx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wx(t){return t.op==="and"}function Ex(t){return OL(t)&&wx(t)}function OL(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function nm(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(Ex(t))return t.filters.map(e=>nm(e)).join(",");{const e=t.filters.map(n=>nm(n)).join(",");return`${t.op}(${e})`}}function Tx(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Wn(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Tx(o,i.filters[a]),!0):!1}(t,e):void oe()}function Sx(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(Sx).join(" ,")+"}"}(t):"Filter"}class LL extends Qe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class DL extends Qe{constructor(e,n){super(e,"in",n),this.keys=xx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ML extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=xx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class jL extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bg(n)&&xl(n.arrayValue,this.value)}}class VL extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class FL extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xl(this.value.arrayValue,n)}}class UL extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function B_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zL(t,e,n,r,i,s,o)}function $g(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ko(r)).join(",")),e.ue=n}return e.ue}function Wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z_(t.startAt,e.startAt)&&z_(t.endAt,e.endAt)}function rm(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BL(t,e,n,r,i,s,o,a){return new ed(t,e,n,r,i,s,o,a)}function Hg(t){return new ed(t)}function $_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $L(t){return t.collectionGroup!==null}function Ga(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rt(lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new oh(s,r))}),n.has(lt.keyField().canonicalString())||e.ce.push(new oh(lt.keyField(),r))}return e.ce}function Un(t){const e=le(t);return e.le||(e.le=WL(e,Ga(t))),e.le}function WL(t,e){if(t.limitType==="F")return B_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new oh(i.field,s)});const n=t.endAt?new sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sh(t.startAt.position,t.startAt.inclusive):null;return B_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function im(t,e,n){return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function td(t,e){return Wg(Un(t),Un(e))&&t.limitType===e.limitType}function Ix(t){return`${$g(Un(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Sx(i)).join(", ")}]`),Jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ko(i)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function nd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ga(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=U_(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ga(r),i)||r.endAt&&!function(o,a,c){const u=U_(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ga(r),i))}(t,e)}function HL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Cx(t){return(e,n)=>{let r=!1;for(const i of Ga(t)){const s=GL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GL(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ro(c,u):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new Me(ne.comparator);function gr(){return qL}const bx=new Me(ne.comparator);function Ra(...t){let e=bx;for(const n of t)e=e.insert(n.key,n);return e}function Ax(t){let e=bx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return qa()}function Rx(){return qa()}function qa(){return new ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const KL=new Me(ne.comparator),YL=new rt(ne.comparator);function pe(...t){let e=YL;for(const n of t)e=e.add(n);return e}const QL=new rt(ge);function XL(){return QL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function kx(t){return{integerValue:""+t}}function JL(t,e){return IL(e)?kx(e):Gg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function ZL(t,e,n){return t instanceof ah?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zg(s)&&(s=Zh(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Il?Nx(t,e):t instanceof Cl?Ox(t,e):function(i,s){const o=Px(i,s),a=W_(o)+W_(i.Pe);return tm(o)&&tm(i.Pe)?kx(a):Gg(i.serializer,a)}(t,e)}function eD(t,e,n){return t instanceof Il?Nx(t,e):t instanceof Cl?Ox(t,e):n}function Px(t,e){return t instanceof lh?function(r){return tm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ah extends rd{}class Il extends rd{constructor(e){super(),this.elements=e}}function Nx(t,e){const n=Lx(e);for(const r of t.elements)n.some(i=>Wn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cl extends rd{constructor(e){super(),this.elements=e}}function Ox(t,e){let n=Lx(e);for(const r of t.elements)n=n.filter(i=>!Wn(i,r));return{arrayValue:{values:n}}}class lh extends rd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function W_(t){return ze(t.integerValue||t.doubleValue)}function Lx(t){return Bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Il&&i instanceof Il||r instanceof Cl&&i instanceof Cl?Ao(r.elements,i.elements,Wn):r instanceof lh&&i instanceof lh?Wn(r.Pe,i.Pe):r instanceof ah&&i instanceof ah}(t.transform,e.transform)}class nD{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class id{}function Dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jx(t.key,or.none()):new ql(t.key,t.data,or.none());{const n=t.data,r=ln.empty();let i=new rt(lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Es(t.key,r,new Sn(i.toArray()),or.none())}}function rD(t,e,n){t instanceof ql?function(i,s,o){const a=i.value.clone(),c=G_(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Es?function(i,s,o){if(!pu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G_(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Mx(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof ql?function(s,o,a,c){if(!pu(s.precondition,o))return a;const u=s.value.clone(),d=q_(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Es?function(s,o,a,c){if(!pu(s.precondition,o))return a;const u=q_(s.fieldTransforms,c,o),d=o.data;return d.setAll(Mx(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return pu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Px(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function H_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ao(r,i,(s,o)=>tD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ql extends id{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Es extends id{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Mx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G_(t,e,n){const r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,eD(o,a,n[i]))}return r}function q_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ZL(s,o,e))}return r}class jx extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sD extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=Dx(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,r)=>H_(n,r))&&Ao(this.baseMutations,e.baseMutations,(n,r)=>H_(n,r))}}class qg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return KL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,me;function cD(t){switch(t){default:return oe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function Vx(t){if(t===void 0)return mr("GRPC error has no .code"),H.UNKNOWN;switch(t){case $e.OK:return H.OK;case $e.CANCELLED:return H.CANCELLED;case $e.UNKNOWN:return H.UNKNOWN;case $e.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case $e.INTERNAL:return H.INTERNAL;case $e.UNAVAILABLE:return H.UNAVAILABLE;case $e.UNAUTHENTICATED:return H.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case $e.NOT_FOUND:return H.NOT_FOUND;case $e.ALREADY_EXISTS:return H.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return H.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case $e.ABORTED:return H.ABORTED;case $e.OUT_OF_RANGE:return H.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return H.UNIMPLEMENTED;case $e.DATA_LOSS:return H.DATA_LOSS;default:return oe()}}(me=$e||($e={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new es([4294967295,4294967295],0);function K_(t){const e=uD().encode(t),n=new lx;return n.update(e),new Uint8Array(n.digest())}function Y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new es([n,r],0),new es([i,s],0)]}class Kg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=es.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(es.fromNumber(r)));return i.compare(hD)===1&&(i=new es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=K_(e),[r,i]=Y_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Kg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=K_(e),[r,i]=Y_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sd(ae.min(),i,new Me(ge),gr(),pe())}}class Kl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Fx{constructor(e,n){this.targetId=e,this.me=n}}class Ux{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Q_{constructor(){this.fe=0,this.ge=J_(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Kl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=J_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dD{constructor(e){this.Le=e,this.Be=new Map,this.ke=gr(),this.qe=X_(),this.Qe=new Me(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(rm(s))if(r===0){const o=new ne(s.path);this.Ue(n,o,_t.newNoDocument(o,ae.min()))}else Ee(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(c){if(c instanceof yx)return bo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Kg(o,i,s)}catch(c){return bo(c instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&rm(a.target)){const c=new ne(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,_t.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new sd(e,n,this.Qe,this.ke,r);return this.ke=gr(),this.qe=X_(),this.Qe=new Me(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Q_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rt(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Q_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function X_(){return new Me(ne.comparator)}function J_(){return new Me(ne.comparator)}const fD={asc:"ASCENDING",desc:"DESCENDING"},pD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mD={and:"AND",or:"OR"};class gD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(t,e){return t.useProto3Json||Jh(e)?e:{value:e}}function ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yD(t,e){return ch(t,e.toTimestamp())}function zn(t){return Ee(!!t),ae.fromTimestamp(function(n){const r=gi(n);return new Ze(r.seconds,r.nanos)}(t))}function Yg(t,e){return om(t,e).canonicalString()}function om(t,e){const n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Bx(t){const e=Fe.fromString(t);return Ee(qx(e)),e}function am(t,e){return Yg(t.databaseId,e.path)}function Ef(t,e){const n=Bx(e);if(n.get(1)!==t.databaseId.projectId)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(Wx(n))}function $x(t,e){return Yg(t.databaseId,e)}function vD(t){const e=Bx(t);return e.length===4?Fe.emptyPath():Wx(e)}function lm(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wx(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z_(t,e,n){return{name:am(t,e),fields:n.value.mapValue.fields}}function _D(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ee(d===void 0||typeof d=="string"),ht.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ht.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?H.UNKNOWN:Vx(u.code);return new te(d,u.message||"")}(o);n=new Ux(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ef(t,r.document.name),s=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):ae.min(),a=new ln({mapValue:{fields:r.document.fields}}),c=_t.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new mu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ef(t,r.document),s=r.readTime?zn(r.readTime):ae.min(),o=_t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ef(t,r.document),s=r.removedTargetIds||[];n=new mu([],s,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new lD(i,s),a=r.targetId;n=new Fx(a,o)}}return n}function wD(t,e){let n;if(e instanceof ql)n={update:Z_(t,e.key,e.value)};else if(e instanceof jx)n={delete:am(t,e.key)};else if(e instanceof Es)n={update:Z_(t,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof sD))return oe();n={verify:am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ah)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Il)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function ED(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zn(i.updateTime):zn(s);return o.isEqual(ae.min())&&(o=zn(s)),new nD(o,i.transformResults||[])}(n,e))):[]}function TD(t,e){return{documents:[$x(t,e.path)]}}function SD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$x(t,i);const s=function(u){if(u.length!==0)return Gx(Hn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Us(m.field),direction:CD(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function xD(t){let e=vD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ee(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=Hx(p);return m instanceof Hn&&Ex(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(T){return new oh(zs(T.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Jh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,y=p.values||[];return new sh(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const m=!p.before,y=p.values||[];return new sh(y,m)}(n.endAt)),BL(e,i,o,s,a,"F",c,u)}function ID(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zs(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zs(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zs(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>Hx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function CD(t){return fD[t]}function bD(t){return pD[t]}function AD(t){return mD[t]}function Us(t){return{fieldPath:t.canonicalString()}}function zs(t){return lt.fromServerFormat(t.fieldPath)}function Gx(t){return t instanceof Qe?function(n){if(n.op==="=="){if(F_(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(V_(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F_(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(V_(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:bD(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>Gx(i));return r.length===1?r[0]:{compositeFilter:{op:AD(n.op),filters:r}}}(t):oe()}function RD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.ct=e}}function PD(t){const e=xD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.un=new OD}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(mi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class OD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kt(e,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kt.DEFAULT_COLLECTION_PERCENTILE=10,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kt.DEFAULT=new kt(41943040,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kt.DISABLED=new kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Po(0)}static kn(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class LD{constructor(e){this.Un=e,this.buffer=new rt(tw),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.Hn(3e5)})}}class MD{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Xh.oe);const r=new LD(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(ew)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ew):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Vs()<=fe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function jD(t,e){return new MD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.changes=new ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ka(r.mutation,i,Sn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ra();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gr();const o=qa(),a=function(){return qa()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Es)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ka(d.mutation,u,d.mutation.getFieldMask(),Ze.now())):o.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new FD(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qa();let i=new Me((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Sn.empty();d=a.applyToLocalView(u,d),r.set(c,d);const p=(i.get(a.batchId)||pe()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,p=Rx();d.forEach(m=>{if(!s.has(m)){const y=Dx(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$L(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(qi());let a=-1,c=s;return o.next(u=>z.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,pe())).next(d=>({batchId:a,changes:Ax(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,c=>{const u=function(p,m){return new ed(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,_t.newInvalidDocument(d)))});let a=Ra();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Ka(d.mutation,u,Sn.empty(),Ze.now()),nd(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:PD(i.bundledQuery),readTime:zn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.overlays=new Me(ne.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=qi(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=qi(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=qi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aD(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Tr=new rt(et.Er),this.dr=new rt(et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new et(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new Fe([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new Fe([])),r=new et(n,e),i=new et(n,e+1);let s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rt(et.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(ge);return n.forEach(i=>{const s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new et(new ne(s),0);let a=new rt(ge);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new et(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.Mr=e,this.docs=function(){return new Me(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr();const o=n.path,a=new ne(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||EL(wL(d),r)<=0||(i.has(d.key)||nd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GD(this)}getSize(e){return z.resolve(this.size)}}class GD extends VD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.persistence=e,this.Nr=new ws(n=>$g(n),Wg),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qg,this.targetCount=0,this.kr=Po.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Xh(0),this.Kr=!1,this.Kr=!0,this.$r=new $D,this.referenceDelegate=e(this),this.Ur=new qD(this),this.indexManager=new ND,this.remoteDocumentCache=function(i){return new HD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kD(n),this.Gr=new zD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new WD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new KD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class KD extends SL{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Jr=new Qg,this.Yr=null}static Zr(e){return new Xg(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=ne.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class uh{constructor(e,n){this.persistence=e,this.ti=new ws(r=>CL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=jD(this,n)}static Zr(e,n){return new uh(e,n)}zr(){}jr(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return z.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=du(e.data.value)),n}nr(e,n,r){return z.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Jg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PP()?8:xL(Et())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new YD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Vs()<=fe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Vs()<=fe.DEBUG&&X("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Vs()<=fe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):z.resolve())}Yi(e,n){if($_(n))return z.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=im(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,a);return this.ns(n,u,o,c.readTime)?this.Yi(e,im(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return $_(n)||i.isEqual(ae.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?z.resolve(null):(Vs()<=fe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(n)),this.rs(e,o,n,_L(i,-1)).next(a=>a))})}ts(e,n){let r=new rt(Cx(e));return n.forEach((i,s)=>{nd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Vs()<=fe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.Ji.getDocumentsMatchingQuery(e,n,mi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Me(ge),this._s=new ws(s=>$g(s),Wg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JD(t,e,n,r){return new XD(t,e,n,r)}async function Yx(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=pe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function ZD(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const p=u.batch,m=p.keys();let y=z.resolve();return m.forEach(T=>{y=y.next(()=>d.getEntry(c,T)).next(b=>{const C=u.docVersions.get(T);Ee(C!==null),b.version.compareTo(C)<0&&(p.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Qx(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function e3(t,e){const n=le(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(p,y),function(b,C,w){return b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,y,d)&&a.push(n.Ur.updateTargetData(s,y))});let c=gr(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(t3(s,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(ae.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function t3(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function n3(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r3(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function cm(t,e,n){const r=le(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Go(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function nw(t,e,n){const r=le(t);let i=ae.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const p=le(c),m=p._s.get(d);return m!==void 0?z.resolve(p.os.get(m)):p.Ur.getTargetData(u,d)}(r,o,Un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:pe())).next(a=>(i3(r,HL(e),a),{documents:a,Ts:s})))}function i3(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class rw{constructor(){this.activeTargetIds=XL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s3{constructor(){this.so=new rw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Tf(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class c3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Tf(),c=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw bo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=a3[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Tf();return new Promise((o,a)=>{const c=new cx;c.setWithCredentials(!0),c.listenOnce(ux.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hu.NO_ERROR:const d=c.getResponseJson();X(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case hu.TIMEOUT:X(gt,`RPC '${e}' ${s} timed out`),a(new te(H.DEADLINE_EXCEEDED,"Request time out"));break;case hu.HTTP_ERROR:const p=c.getStatus();if(X(gt,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const T=function(C){const w=C.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(w)>=0?w:H.UNKNOWN}(y.status);a(new te(T,y.message))}else a(new te(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new te(H.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{X(gt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);X(gt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Tf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fx(),a=dx(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");X(gt,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=o.createWebChannel(d,c);let m=!1,y=!1;const T=new l3({Io:C=>{y?X(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(m||(X(gt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),X(gt,`RPC '${e}' stream ${i} sending:`,C),p.send(C))},To:()=>p.close()}),b=(C,w,_)=>{C.listen(w,E=>{try{_(E)}catch(P){setTimeout(()=>{throw P},0)}})};return b(p,Aa.EventType.OPEN,()=>{y||(X(gt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),b(p,Aa.EventType.CLOSE,()=>{y||(y=!0,X(gt,`RPC '${e}' stream ${i} transport closed`),T.So())}),b(p,Aa.EventType.ERROR,C=>{y||(y=!0,bo(gt,`RPC '${e}' stream ${i} transport errored:`,C),T.So(new te(H.UNAVAILABLE,"The operation could not be completed")))}),b(p,Aa.EventType.MESSAGE,C=>{var w;if(!y){const _=C.data[0];Ee(!!_);const E=_,P=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(P){X(gt,`RPC '${e}' stream ${i} received error:`,P);const O=P.status;let L=function(I){const R=$e[I];if(R!==void 0)return Vx(R)}(O),S=P.message;L===void 0&&(L=H.INTERNAL,S="Unknown error status: "+O+" with message "+P.message),y=!0,T.So(new te(L,S)),p.close()}else X(gt,`RPC '${e}' stream ${i} received:`,_),T.bo(_)}}),b(a,hx.STAT_EVENT,C=>{C.stat===Zp.PROXY?X(gt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Zp.NOPROXY&&X(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){return new gD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u3 extends Jx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_D(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?zn(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=lm(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=rm(c)?{documents:TD(s,c)}:{query:SD(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zx(s,o.resumeToken);const u=sm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=ch(s,o.snapshotVersion.toTimestamp());const u=sm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=ID(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.a_(n)}}class h3 extends Jx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ED(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=lm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,om(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(H.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,om(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(H.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class f3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mr(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=le(c);u.L_.add(4),await Yl(u),u.q_.set("Unknown"),u.L_.delete(4),await ad(u)}(this))})}),this.q_=new f3(r,i)}}async function ad(t){if(Ts(t))for(const e of t.B_)await e(!0)}async function Yl(t){for(const e of t.B_)await e(!1)}function Zx(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ny(n)?ty(n):qo(n).r_()&&ey(n,e))}function Zg(t,e){const n=le(t),r=qo(n);n.N_.delete(e),r.r_()&&eI(n,e),n.N_.size===0&&(r.r_()?r.o_():Ts(n)&&n.q_.set("Unknown"))}function ey(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(t).A_(e)}function eI(t,e){t.Q_.xe(e),qo(t).R_(e)}function ty(t){t.Q_=new dD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qo(t).start(),t.q_.v_()}function ny(t){return Ts(t)&&!qo(t).n_()&&t.N_.size>0}function Ts(t){return le(t).L_.size===0}function tI(t){t.Q_=void 0}async function m3(t){t.q_.set("Online")}async function g3(t){t.N_.forEach((e,n)=>{ey(t,e)})}async function y3(t,e){tI(t),ny(t)?(t.q_.M_(e),ty(t)):t.q_.set("Unknown")}async function v3(t,e,n){if(t.q_.set("Online"),e instanceof Ux&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof mu?t.Q_.Ke(e):e instanceof Fx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await Qx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(ht.EMPTY_BYTE_STRING,d.snapshotVersion)),eI(s,c);const p=new Qr(d.target,c,u,d.sequenceNumber);ey(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!Go(e))throw e;t.L_.add(1),await Yl(t),t.q_.set("Offline"),n||(n=()=>Qx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ad(t)})}function nI(t,e){return e().catch(n=>hh(t,n,e))}async function ld(t){const e=le(t),n=_i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_3(e);)try{const i=await n3(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,w3(e,i)}catch(i){await hh(e,i)}rI(e)&&iI(e)}function _3(t){return Ts(t)&&t.O_.length<10}function w3(t,e){t.O_.push(e);const n=_i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function rI(t){return Ts(t)&&!_i(t).n_()&&t.O_.length>0}function iI(t){_i(t).start()}async function E3(t){_i(t).p_()}async function T3(t){const e=_i(t);for(const n of t.O_)e.m_(n.mutations)}async function S3(t,e,n){const r=t.O_.shift(),i=qg.from(r,e,n);await nI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ld(t)}async function x3(t,e){e&&_i(t).V_&&await async function(r,i){if(function(o){return cD(o)&&o!==H.ABORTED}(i.code)){const s=r.O_.shift();_i(r).s_(),await nI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ld(r)}}(t,e),rI(t)&&iI(t)}async function sw(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.L_.add(3),await Yl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ad(n)}async function I3(t,e){const n=le(t);e?(n.L_.delete(2),await ad(n)):e||(n.L_.add(2),await Yl(n),n.q_.set("Unknown"))}function qo(t){return t.K_||(t.K_=function(n,r,i){const s=le(n);return s.w_(),new u3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:m3.bind(null,t),Ro:g3.bind(null,t),mo:y3.bind(null,t),d_:v3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ny(t)?ty(t):t.q_.set("Unknown")):(await t.K_.stop(),tI(t))})),t.K_}function _i(t){return t.U_||(t.U_=function(n,r,i){const s=le(n);return s.w_(),new h3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:E3.bind(null,t),mo:x3.bind(null,t),f_:T3.bind(null,t),g_:S3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ld(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ry(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(t,e){if(mr("AsyncQueue",`${e}: ${t}`),Go(t))return new te(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Ra(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.W_=new Me(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class No{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new No(e,n,mo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class b3{constructor(){this.queries=aw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=aw(),s.forEach((o,a)=>{for(const c of a.j_)c.onError(r)})})(this,new te(H.ABORTED,"Firestore shutting down"))}}function aw(){return new ws(t=>Ix(t),td)}async function A3(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new C3,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=iy(o,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&sy(n)}async function R3(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k3(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&sy(n)}function P3(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function sy(t){t.Y_.forEach(e=>{e.next()})}var um,lw;(lw=um||(um={})).ea="default",lw.Cache="cache";class N3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.key=e}}class oI{constructor(e){this.key=e}}class O3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=Cx(e),this.Ra=new mo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ow,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const m=i.get(d),y=nd(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;m&&y?m.data.isEqual(y.data)?T!==b&&(r.track({type:3,doc:y}),C=!0):this.ga(m,y)||(r.track({type:2,doc:y}),C=!0,(c&&this.Aa(y,c)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),C=!0):m&&!y&&(r.track({type:1,doc:m}),C=!0,(c||u)&&(a=!0)),C&&(y?(o=o.add(y),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,p)=>function(y,T){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return b(y)-b(T)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new No(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ow,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new oI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sI(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return No.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class L3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D3{constructor(e){this.key=e,this.va=!1}}class M3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ws(a=>Ix(a),td),this.Ma=new Map,this.xa=new Set,this.Oa=new Me(ne.comparator),this.Na=new Map,this.La=new Qg,this.Ba={},this.ka=new Map,this.qa=Po.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function j3(t,e,n=!0){const r=dI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await aI(r,e,n,!0),i}async function V3(t,e){const n=dI(t);await aI(n,e,!0,!1)}async function aI(t,e,n,r){const i=await r3(t.localStore,Un(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await F3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Zx(t.remoteStore,i),a}async function F3(t,e,n,r,i){t.Ka=(p,m,y)=>async function(b,C,w,_){let E=C.view.ma(w);E.ns&&(E=await nw(b.localStore,C.query,!1).then(({documents:S})=>C.view.ma(S,E)));const P=_&&_.targetChanges.get(C.targetId),O=_&&_.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(E,b.isPrimaryClient,P,O);return uw(b,C.targetId,L.wa),L.snapshot}(t,p,m,y);const s=await nw(t.localStore,e,!0),o=new O3(e,s.Ts),a=o.ma(s.documents),c=Kl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);uw(t,n,u.wa);const d=new L3(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function U3(t,e,n){const r=le(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!td(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zg(r.remoteStore,i.targetId),hm(r,i.targetId)}).catch(Ho)):(hm(r,i.targetId),await cm(r.localStore,i.targetId,!0))}async function z3(t,e){const n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zg(n.remoteStore,r.targetId))}async function B3(t,e,n){const r=Y3(t);try{const i=await function(o,a){const c=le(o),u=Ze.now(),d=a.reduce((y,T)=>y.add(T.key),pe());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=gr(),b=pe();return c.cs.getEntries(y,d).next(C=>{T=C,T.forEach((w,_)=>{_.isValidDocument()||(b=b.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,T)).next(C=>{p=C;const w=[];for(const _ of a){const E=iD(_,p.get(_.key).overlayedDocument);E!=null&&w.push(new Es(_.key,E,vx(E.value.mapValue),or.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,w,a)}).next(C=>{m=C;const w=C.applyToLocalDocumentSet(p,b);return c.documentOverlayCache.saveOverlays(y,C.batchId,w)})}).then(()=>({batchId:m.batchId,changes:Ax(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Me(ge)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ql(r,i.changes),await ld(r.remoteStore)}catch(i){const s=iy(i,"Failed to persist write");n.reject(s)}}async function lI(t,e){const n=le(t);try{const r=await e3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ee(o.va):i.removedDocuments.size>0&&(Ee(o.va),o.va=!1))}),await Ql(n,r,e)}catch(r){await Ho(r)}}function cw(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=le(o);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(const m of p.j_)m.Z_(a)&&(u=!0)}),u&&sy(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $3(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Me(ne.comparator);o=o.insert(s,_t.newNoDocument(s,ae.min()));const a=pe().add(s),c=new sd(ae.min(),new Map,new Me(ge),o,a);await lI(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),oy(r)}else await cm(r.localStore,e,!1).then(()=>hm(r,e,n)).catch(Ho)}async function W3(t,e){const n=le(t),r=e.batch.batchId;try{const i=await ZD(n.localStore,e);uI(n,r,null),cI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(n,i)}catch(i){await Ho(i)}}async function H3(t,e,n){const r=le(t);try{const i=await function(o,a){const c=le(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Ee(p!==null),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);uI(r,e,n),cI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ql(r,i)}catch(i){await Ho(i)}}function cI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function uI(t,e,n){const r=le(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function hm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||hI(t,r)})}function hI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Zg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),oy(t))}function uw(t,e,n){for(const r of n)r instanceof sI?(t.La.addReference(r.key,e),G3(t,r)):r instanceof oI?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||hI(t,r.key)):oe()}function G3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),oy(t))}function oy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(Fe.fromString(e)),r=t.qa.next();t.Na.set(r,new D3(n)),t.Oa=t.Oa.insert(n,r),Zx(t.remoteStore,new Qr(Un(Hg(n.path)),r,"TargetPurposeLimboResolution",Xh.oe))}}async function Ql(t,e,n){const r=le(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);const p=Jg.Wi(c.targetId,u);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const d=le(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(u,m=>z.forEach(m.$i,y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>z.forEach(m.Ui,y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Go(p))throw p;X("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=d.os.get(m),T=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(T);d.os=d.os.insert(m,b)}}}(r.localStore,s))}async function q3(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await Yx(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new te(H.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ql(n,r.hs)}}function K3(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function dI(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$3.bind(null,e),e.Ca.d_=k3.bind(null,e.eventManager),e.Ca.$a=P3.bind(null,e.eventManager),e}function Y3(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H3.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return JD(this.persistence,new QD,e.initialUser,this.serializer)}Ga(e){return new Kx(Xg.Zr,this.serializer)}Wa(e){return new s3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class Q3 extends dh{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Ee(this.persistence.referenceDelegate instanceof uh);const r=this.persistence.referenceDelegate.garbageCollector;return new DD(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?kt.withCacheSize(this.cacheSizeBytes):kt.DEFAULT;return new Kx(r=>uh.Zr(r,n),this.serializer)}}class dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=q3.bind(null,this.syncEngine),await I3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new b3}()}createDatastore(e){const n=od(e.databaseInfo.databaseId),r=function(s){return new c3(s)}(e.databaseInfo);return function(s,o,a,c){return new d3(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new p3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cw(this.syncEngine,n,0),function(){return iw.D()?new iw:new o3}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,d){const p=new M3(i,s,o,a,c,u);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);X("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Yl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=mx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Yx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z3(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sw(e.remoteStore,i)),t._onlineComponents=e}async function Z3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await xf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await xf(t,new dh)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await xf(t,new Q3(void 0));return t._offlineComponents}async function fI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await hw(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await hw(t,new dm))),t._onlineComponents}function eM(t){return fI(t).then(e=>e.syncEngine)}async function tM(t){const e=await fI(t),n=e.eventManager;return n.onListen=j3.bind(null,e.syncEngine),n.onUnlisten=U3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z3.bind(null,e.syncEngine),n}function nM(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const d=new X3({next:m=>{d.Za(),o.enqueueAndForget(()=>R3(s,p));const y=m.docs.has(a);!y&&m.fromCache?u.reject(new te(H.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new te(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new N3(Hg(a.path),d,{includeMetadataChanges:!0,_a:!0});return A3(s,p)}(await tM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e,n){if(!n)throw new te(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iM(t,e,n,r){if(e===!0&&r===!0)throw new te(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fw(t){if(!ne.isDocumentKey(t))throw new te(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function bl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ay(t);throw new te(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ly{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uL;switch(r.type){case"firstParty":return new pL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dw.get(n);r&&(X("ComponentProvider","Removing Datastore"),dw.delete(n),r.terminate())}(this),Promise.resolve()}}function sM(t,e,n,r={}){var i;const s=(t=bl(t,ly))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=yt.MOCK_USER;else{a=xP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new te(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new yt(u)}t._authCredentials=new hL(new px(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cy(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Al(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Al extends cy{constructor(e,n,r){super(e,n,Hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ne(e))}withConverter(e){return new Al(this.firestore,e,this._path)}}function We(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=mx.newId()),rM("doc","path",e),t instanceof ly){const r=Fe.fromString(e,...n);return fw(r),new hn(t,null,new ne(r))}{if(!(t instanceof hn||t instanceof Al))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return fw(r),new hn(t.firestore,t instanceof Al?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xx(this,"async_queue_retry"),this.Vu=()=>{const r=Sf();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Sf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Go(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw mr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ry.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class uy extends ly{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mw(e),this._firestoreClient=void 0,await e}}}function Ss(t,e){const n=typeof t=="object"?t:IS(),r=typeof t=="string"?t:"(default)",i=Ag(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TP("firestore");s&&sM(i,...s)}return i}function mI(t){if(t._terminated)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oM(t),t._firestoreClient}function oM(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,u,d){return new RL(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new J3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(ht.fromBase64String(e))}catch(n){throw new te(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oo(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=/^__.*__$/;class lM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new ql(e,this.data,n,this.fieldTransforms)}}function yI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class py{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new py(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yI(this.Cu)&&aM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||od(e)}Qu(e,n,r,i=!1){return new py({Cu:e,methodName:n,qu:r,path:lt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uM(t){const e=t._freezeSettings(),n=od(t._databaseId);return new cM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hM(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);EI("Data must be an object, but it was:",o,r);const a=_I(r,o);let c,u;if(s.merge)c=new Sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=dM(e,p,n);if(!o.contains(m))throw new te(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);pM(d,m)||d.push(m)}c=new Sn(d),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new lM(new ln(a),c,u)}function vI(t,e){if(wI(t=Ft(t)))return EI("Unsupported field value:",e,t),_I(t,e);if(t instanceof gI)return function(r,i){if(!yI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=vI(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ze.fromDate(r);return{timestampValue:ch(i.serializer,s)}}if(r instanceof Ze){const s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(i.serializer,s)}}if(r instanceof dy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oo)return{bytesValue:zx(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Gg(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ay(r)}`)}(t,e)}function _I(t,e){const n={};return gx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(r,i)=>{const s=vI(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof dy||t instanceof Oo||t instanceof hn||t instanceof gI||t instanceof fy)}function EI(t,e,n){if(!wI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ay(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function dM(t,e,n){if((e=Ft(e))instanceof hy)return e._internalPath;if(typeof e=="string")return TI(t,e);throw fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const fM=new RegExp("[~\\*/\\[\\]]");function TI(t,e,n){if(e.search(fM)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hy(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te(H.INVALID_ARGUMENT,a+t+c)}function pM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mM extends SI{data(){return super.data()}}function xI(t,e){return typeof e=="string"?TI(t,e):e instanceof hy?e._internalPath:e._delegate._internalPath}class gM{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _s(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ze(o.doubleValue));return new fy(s)}convertGeoPoint(e){return new dy(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const n=gi(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Ee(qx(r));const i=new Sl(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class II extends SI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _M(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _M extends II{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){t=bl(t,hn);const e=bl(t.firestore,uy);return nM(mI(e),t._key).then(n=>TM(e,t,n))}class wM extends gM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Lo(t,e,n){t=bl(t,hn);const r=bl(t.firestore,uy),i=yM(t.converter,e);return EM(r,[hM(uM(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,or.none())])}function EM(t,e){return function(r,i){const s=new li;return r.asyncQueue.enqueueAndForget(async()=>B3(await eM(r),i,s)),s.promise}(mI(t),e)}function TM(t,e,n){const r=n.docs.get(e._key),i=new wM(t);return new II(t,i,e._key,r,new vM(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Wo=i})(Bo),Io(new ls("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new uy(new dL(r.getProvider("auth-internal")),new gL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ai(N_,"4.7.4",e),ai(N_,"4.7.4","esm2017")})();function SM(){const t=mn(An),e=Rn(t),n=Ss(t),r=Er();V.useEffect(()=>{(async()=>{var O;const _=We(n,"user","login-state");((O=(await Pt(_)).data())==null?void 0:O.isLoggedIn)&&r("/welcome")})()});const[i,s]=V.useState(!1),o=()=>{s(!i)},[a,c]=V.useState(!1),[u,d]=V.useState(!1),[p,m]=V.useState(!1),y=async()=>{const w=document.getElementById("email").value,_=document.getElementById("password").value;if(!w&&!_){d(!0),m(!0);return}if(!w){d(!0);return}if(!_){m(!0);return}c(!0);try{const P=(await KO(e,w,_)).user,O=P.uid;if(localStorage.setItem("userId",JSON.stringify(O)),P){ye.success("Login Successful",{position:"top-center"});const L=We(n,"generalInfo",O),S=await Pt(L),v=We(n,"medicalHistory",O),I=await Pt(v),R=We(n,"habits",O),N=await Pt(R);await Lo(We(n,"user","login-state"),{isLoggedIn:!0}),S.exists()&&I.exists()&&N.exists()?setTimeout(()=>{r("/welcome")},1e3):setTimeout(()=>{r("/multi-form")},1e3)}}catch(E){E.code==="auth/invalid-credential"&&ye.error("Wrong Email Or Password.",{position:"top-center"})}c(!1)},[T,b]=V.useState(!1),C=async()=>{b(!0);try{const w=new Jn,E=(await v4(e,w)).user,P=E.uid;if(localStorage.setItem("userId",JSON.stringify(P)),E){ye.success("Login Successful",{position:"top-center"});const O=We(n,"generalInfo",P),L=await Pt(O),S=We(n,"medicalHistory",P),v=await Pt(S),I=We(n,"habits",P),R=await Pt(I);await Lo(We(n,"user","login-state"),{isLoggedIn:!0}),L.exists()&&v.exists()&&R.exists()?setTimeout(()=>{r("/welcome")},1e3):setTimeout(()=>{r("/multi-form")},1e3)}}catch(w){const _=w.code;ye.error(_,{position:"top-center"})}b(!1)};return f.jsxs(f.Fragment,{children:[f.jsx(Gh,{}),f.jsx("div",{className:"min-h-screen flex items-center justify-center p-5 login-form",children:f.jsxs("div",{className:"flex items-center shadow-lg rounded-3xl w-[800px] h-[500px] max-[800px]:flex-col max-[800px]:w-full gap-0 bg-white",children:[f.jsx("div",{className:"w-full h-full flex flex-col justify-center items-center rounded-3xl bg-[#262666]",children:f.jsx("p",{className:"text-center text-white text-4xl",children:"Welcome"})}),f.jsxs("div",{className:"flex flex-col gap-3 w-full p-5",children:[f.jsx("h1",{className:"text-center",children:"SIGN IN"}),f.jsx("p",{className:"text-center",children:"Sign in with email address"}),f.jsxs("form",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"border pl-2 flex items-center gap-2 ",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:mT})}),f.jsx("input",{className:"w-full py-1 px-2",type:"email",id:"email",name:"email",required:!0,placeholder:"Your Email","aria-label":"Type Your Email",onChange:()=>d(!1),onClick:()=>d(!1)})]}),u&&f.jsx("p",{className:"text-red-500",children:"Email Required."}),f.jsxs("div",{className:"border flex items-center gap-2 px-2",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:hT})}),f.jsx("input",{className:"w-full py-1 px-2",type:i?"text":"password",id:"password",name:"password",required:!0,placeholder:"Your Password","aria-label":"Type Your Password",onChange:()=>m(!1),onClick:()=>m(!1)}),f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:i?pT:dT,onClick:o})})]}),p&&f.jsx("p",{className:"text-red-500",children:"Password Required."}),f.jsx("div",{children:f.jsx("button",{className:`${a?"bg-gray-500":""} w-full rounded bg-[#262666] text-white p-2`,type:"button",onClick:y,disabled:a,children:a?"Submitting":"Sign In"})}),f.jsx("span",{className:"border-b"}),f.jsx("div",{className:"google-div",children:f.jsx("button",{className:`${T?"bg-gray-500":""} w-full flex items-center justify-center gap-2 rounded bg-[#262666] text-white p-2`,type:"button",onClick:C,disabled:T,children:T?"Submitting":f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("span",{children:f.jsx(xe,{icon:t2})}),"Continue with Google"]})})}),f.jsxs("div",{className:"flex justify-center items-center gap-2",children:[f.jsx("p",{children:"Do not have an account?"}),f.jsx("button",{className:"underline underline-offset-1 hover:text-[#262666] transition-colors",type:"button",onClick:()=>r("/sign-up"),children:"Sign Up"})]})]})]})]})})]})}function xM({totalSteps:t,step:e}){const n=(e-1)/(t-1)*100;return f.jsx("div",{className:"progress",style:{height:"4px",background:"#ddd",width:"100%",transition:"all 0.4s ease-in"},children:f.jsx("div",{style:{height:"4px",background:"#5913D3",width:`${n}%`,transition:"all 0.4s ease-in"}})})}var CI={exports:{}},bI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=V;function IM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CM=typeof Object.is=="function"?Object.is:IM,bM=Xl.useSyncExternalStore,AM=Xl.useRef,RM=Xl.useEffect,kM=Xl.useMemo,PM=Xl.useDebugValue;bI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=AM(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=kM(function(){function c(y){if(!u){if(u=!0,d=y,y=r(y),i!==void 0&&o.hasValue){var T=o.value;if(i(T,y))return p=T}return p=y}if(T=p,CM(d,y))return T;var b=r(y);return i!==void 0&&i(T,b)?T:(d=y,p=b)}var u=!1,d,p,m=n===void 0?null:n;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,n,r,i]);var a=bM(t,s[0],s[1]);return RM(function(){o.hasValue=!0,o.value=a},[a]),PM(a),a};CI.exports=bI;var NM=CI.exports,Gt="default"in kf?we:kf,gw=Symbol.for("react-redux-context"),yw=typeof globalThis<"u"?globalThis:{};function OM(){if(!Gt.createContext)return{};const t=yw[gw]??(yw[gw]=new Map);let e=t.get(Gt.createContext);return e||(e=Gt.createContext(null),t.set(Gt.createContext,e)),e}var wi=OM(),LM=()=>{throw new Error("uSES not initialized!")};function my(t=wi){return function(){return Gt.useContext(t)}}var AI=my(),RI=LM,DM=t=>{RI=t},MM=(t,e)=>t===e;function jM(t=wi){const e=t===wi?AI:my(t),n=(r,i={})=>{const{equalityFn:s=MM,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:c,getServerState:u,stabilityCheck:d,identityFunctionCheck:p}=e();Gt.useRef(!0);const m=Gt.useCallback({[r.name](T){return r(T)}}[r.name],[r,d,o.stabilityCheck]),y=RI(c.addNestedSub,a.getState,u||a.getState,m,s);return Gt.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var VM=jM();function FM(t){t()}function UM(){let t=null,e=null;return{clear(){t=null,e=null},notify(){FM(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var vw={notify(){},get:()=>[]};function zM(t,e){let n,r=vw,i=0,s=!1;function o(b){d();const C=r.subscribe(b);let w=!1;return()=>{w||(w=!0,C(),p())}}function a(){r.notify()}function c(){T.onStateChange&&T.onStateChange()}function u(){return s}function d(){i++,n||(n=t.subscribe(c),r=UM())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=vw)}function m(){s||(s=!0,d())}function y(){s&&(s=!1,p())}const T={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return T}var BM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$M=typeof navigator<"u"&&navigator.product==="ReactNative",WM=BM||$M?Gt.useLayoutEffect:Gt.useEffect;function HM({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Gt.useMemo(()=>{const u=zM(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Gt.useMemo(()=>t.getState(),[t]);WM(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const c=e||wi;return Gt.createElement(c.Provider,{value:o},n)}var GM=HM;function kI(t=wi){const e=t===wi?AI:my(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var qM=kI();function KM(t=wi){const e=t===wi?qM:kI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var bi=KM();DM(NM.useSyncExternalStoreWithSelector);function st(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var YM=typeof Symbol=="function"&&Symbol.observable||"@@observable",_w=YM,If=()=>Math.random().toString(36).substring(7).split("").join("."),QM={INIT:`@@redux/INIT${If()}`,REPLACE:`@@redux/REPLACE${If()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${If()}`},ph=QM;function gy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function PI(t,e,n){if(typeof t!="function")throw new Error(st(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(st(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(st(1));return n(PI)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((C,w)=>{o.set(w,C)}))}function d(){if(c)throw new Error(st(3));return i}function p(C){if(typeof C!="function")throw new Error(st(4));if(c)throw new Error(st(5));let w=!0;u();const _=a++;return o.set(_,C),function(){if(w){if(c)throw new Error(st(6));w=!1,u(),o.delete(_),s=null}}}function m(C){if(!gy(C))throw new Error(st(7));if(typeof C.type>"u")throw new Error(st(8));if(typeof C.type!="string")throw new Error(st(17));if(c)throw new Error(st(9));try{c=!0,i=r(i,C)}finally{c=!1}return(s=o).forEach(_=>{_()}),C}function y(C){if(typeof C!="function")throw new Error(st(10));r=C,m({type:ph.REPLACE})}function T(){const C=p;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(st(11));function _(){const P=w;P.next&&P.next(d())}return _(),{unsubscribe:C(_)}},[_w](){return this}}}return m({type:ph.INIT}),{dispatch:m,subscribe:p,getState:d,replaceReducer:y,[_w]:T}}function XM(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ph.INIT})>"u")throw new Error(st(12));if(typeof n(void 0,{type:ph.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(st(13))})}function JM(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{XM(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const p=r[d],m=n[p],y=o[p],T=m(y,a);if(typeof T>"u")throw a&&a.type,new Error(st(14));u[p]=T,c=c||T!==y}return c=c||r.length!==Object.keys(o).length,c?u:o}}function mh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function ZM(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(st(15))};const o={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},a=t.map(c=>c(o));return s=mh(...a)(i.dispatch),{...i,dispatch:s}}}function e6(t){return gy(t)&&"type"in t&&typeof t.type=="string"}var NI=Symbol.for("immer-nothing"),ww=Symbol.for("immer-draftable"),Xt=Symbol.for("immer-state");function En(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Do=Object.getPrototypeOf;function ds(t){return!!t&&!!t[Xt]}function yr(t){var e;return t?OI(t)||Array.isArray(t)||!!t[ww]||!!((e=t.constructor)!=null&&e[ww])||ud(t)||hd(t):!1}var t6=Object.prototype.constructor.toString();function OI(t){if(!t||typeof t!="object")return!1;const e=Do(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===t6}function gh(t,e){cd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function cd(t){const e=t[Xt];return e?e.type_:Array.isArray(t)?1:ud(t)?2:hd(t)?3:0}function fm(t,e){return cd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function LI(t,e,n){const r=cd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function n6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ud(t){return t instanceof Map}function hd(t){return t instanceof Set}function zi(t){return t.copy_||t.base_}function pm(t,e){if(ud(t))return new Map(t);if(hd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=OI(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Xt];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Do(t),r)}else{const r=Do(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function yy(t,e=!1){return dd(t)||ds(t)||!yr(t)||(cd(t)>1&&(t.set=t.add=t.clear=t.delete=r6),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>yy(r,!0))),t}function r6(){En(2)}function dd(t){return Object.isFrozen(t)}var i6={};function fs(t){const e=i6[t];return e||En(0,t),e}var Rl;function DI(){return Rl}function s6(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ew(t,e){e&&(fs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mm(t){gm(t),t.drafts_.forEach(o6),t.drafts_=null}function gm(t){t===Rl&&(Rl=t.parent_)}function Tw(t){return Rl=s6(Rl,t)}function o6(t){const e=t[Xt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Sw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Xt].modified_&&(mm(e),En(4)),yr(t)&&(t=yh(e,t),e.parent_||vh(e,t)),e.patches_&&fs("Patches").generateReplacementPatches_(n[Xt].base_,t,e.patches_,e.inversePatches_)):t=yh(e,n,[]),mm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==NI?t:void 0}function yh(t,e,n){if(dd(e))return e;const r=e[Xt];if(!r)return gh(e,(i,s)=>xw(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return vh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),gh(s,(a,c)=>xw(t,r,i,a,c,n,o)),vh(t,i,!1),n&&t.patches_&&fs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function xw(t,e,n,r,i,s,o){if(ds(i)){const a=s&&e&&e.type_!==3&&!fm(e.assigned_,r)?s.concat(r):void 0,c=yh(t,i,a);if(LI(n,r,c),ds(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(yr(i)&&!dd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;yh(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&vh(t,i)}}function vh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&yy(e,n)}function a6(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=vy;n&&(i=[r],s=kl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var vy={get(t,e){if(e===Xt)return t;const n=zi(t);if(!fm(n,e))return l6(t,n,e);const r=n[e];return t.finalized_||!yr(r)?r:r===Cf(t.base_,e)?(bf(t),t.copy_[e]=vm(r,t)):r},has(t,e){return e in zi(t)},ownKeys(t){return Reflect.ownKeys(zi(t))},set(t,e,n){const r=MI(zi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Cf(zi(t),e),s=i==null?void 0:i[Xt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(n6(n,i)&&(n!==void 0||fm(t.base_,e)))return!0;bf(t),ym(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Cf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,bf(t),ym(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){En(11)},getPrototypeOf(t){return Do(t.base_)},setPrototypeOf(){En(12)}},kl={};gh(vy,(t,e)=>{kl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});kl.deleteProperty=function(t,e){return kl.set.call(this,t,e,void 0)};kl.set=function(t,e,n){return vy.set.call(this,t[0],e,n,t[0])};function Cf(t,e){const n=t[Xt];return(n?zi(n):t)[e]}function l6(t,e,n){var i;const r=MI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function MI(t,e){if(!(e in t))return;let n=Do(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Do(n)}}function ym(t){t.modified_||(t.modified_=!0,t.parent_&&ym(t.parent_))}function bf(t){t.copy_||(t.copy_=pm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var c6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(c=s,...u){return o.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&En(6),r!==void 0&&typeof r!="function"&&En(7);let i;if(yr(e)){const s=Tw(this),o=vm(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?mm(s):gm(s)}return Ew(s,r),Sw(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===NI&&(i=void 0),this.autoFreeze_&&yy(i,!0),r){const s=[],o=[];fs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else En(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,c=>e(c,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){yr(t)||En(8),ds(t)&&(t=u6(t));const e=Tw(this),n=vm(t,void 0);return n[Xt].isManual_=!0,gm(e),n}finishDraft(t,e){const n=t&&t[Xt];(!n||!n.isManual_)&&En(9);const{scope_:r}=n;return Ew(r,e),Sw(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=fs("Patches").applyPatches_;return ds(t)?r(t,e):this.produce(t,i=>r(i,e))}};function vm(t,e){const n=ud(t)?fs("MapSet").proxyMap_(t,e):hd(t)?fs("MapSet").proxySet_(t,e):a6(t,e);return(e?e.scope_:DI()).drafts_.push(n),n}function u6(t){return ds(t)||En(10,t),jI(t)}function jI(t){if(!yr(t)||dd(t))return t;const e=t[Xt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=pm(t,e.scope_.immer_.useStrictShallowCopy_)}else n=pm(t,!0);return gh(n,(r,i)=>{LI(n,r,jI(i))}),e&&(e.finalized_=!1),n}var Jt=new c6,VI=Jt.produce;Jt.produceWithPatches.bind(Jt);Jt.setAutoFreeze.bind(Jt);Jt.setUseStrictShallowCopy.bind(Jt);Jt.applyPatches.bind(Jt);Jt.createDraft.bind(Jt);Jt.finishDraft.bind(Jt);function FI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var h6=FI(),d6=FI,f6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mh:mh.apply(null,arguments)};function Iw(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Bn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>e6(r)&&r.type===t,n}var UI=class Pa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pa.prototype)}static get[Symbol.species](){return Pa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pa(...e[0].concat(this)):new Pa(...e.concat(this))}};function Cw(t){return yr(t)?VI(t,()=>{}):t}function bw(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Bn(10));const r=n.insert(e,t);return t.set(e,r),r}function p6(t){return typeof t=="boolean"}var m6=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new UI;return n&&(p6(n)?o.push(h6):o.push(d6(n.extraArgument))),o},g6="RTK_autoBatch",zI=t=>e=>{setTimeout(e,t)},y6=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zI(10),v6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?y6:t.type==="callback"?t.queueNotification:zI(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),m=r.subscribe(p);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var p;try{return i=!((p=d==null?void 0:d.meta)!=null&&p[g6]),s=!i,s&&(o||(o=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},_6=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new UI(t);return r&&i.push(v6(typeof r=="object"?r:void 0)),i};function w6(t){const e=m6(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(gy(n))a=JM(n);else throw new Error(Bn(1));let c;typeof r=="function"?c=r(e):c=e();let u=mh;i&&(u=f6({trace:!1,...typeof i=="object"&&i}));const d=ZM(...c),p=_6(d);let m=typeof o=="function"?o(p):p();const y=u(...m);return PI(a,s,y)}function BI(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Bn(28));if(a in e)throw new Error(Bn(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function E6(t){return typeof t=="function"}function T6(t,e){let[n,r,i]=BI(e),s;if(E6(t))s=()=>Cw(t());else{const a=Cw(t);s=()=>a}function o(a=s(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,p)=>{if(p)if(ds(d)){const y=p(d,c);return y===void 0?d:y}else{if(yr(d))return VI(d,m=>p(m,c));{const m=p(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},a)}return o.getInitialState=s,o}var S6=Symbol.for("rtk-slice-createasyncthunk");function x6(t,e){return`${t}/${e}`}function I6({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[S6];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Bn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(b6()):i.reducers)||{},c=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,P){const O=typeof E=="string"?E:E.type;if(!O)throw new Error(Bn(12));if(O in u.sliceCaseReducersByType)throw new Error(Bn(13));return u.sliceCaseReducersByType[O]=P,d},addMatcher(E,P){return u.sliceMatchers.push({matcher:E,reducer:P}),d},exposeAction(E,P){return u.actionCreators[E]=P,d},exposeCaseReducer(E,P){return u.sliceCaseReducersByName[E]=P,d}};c.forEach(E=>{const P=a[E],O={reducerName:E,type:x6(s,E),createNotation:typeof i.reducers=="function"};R6(P)?P6(O,P,d,e):A6(O,P,d)});function p(){const[E={},P=[],O=void 0]=typeof i.extraReducers=="function"?BI(i.extraReducers):[i.extraReducers],L={...E,...u.sliceCaseReducersByType};return T6(i.initialState,S=>{for(let v in L)S.addCase(v,L[v]);for(let v of u.sliceMatchers)S.addMatcher(v.matcher,v.reducer);for(let v of P)S.addMatcher(v.matcher,v.reducer);O&&S.addDefaultCase(O)})}const m=E=>E,y=new Map;let T;function b(E,P){return T||(T=p()),T(E,P)}function C(){return T||(T=p()),T.getInitialState()}function w(E,P=!1){function O(S){let v=S[E];return typeof v>"u"&&P&&(v=C()),v}function L(S=m){const v=bw(y,P,{insert:()=>new WeakMap});return bw(v,S,{insert:()=>{const I={};for(const[R,N]of Object.entries(i.selectors??{}))I[R]=C6(N,S,C,P);return I}})}return{reducerPath:E,getSelectors:L,get selectors(){return L(O)},selectSlice:O}}const _={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:C,...w(o),injectInto(E,{reducerPath:P,...O}={}){const L=P??o;return E.inject({reducerPath:L,reducer:b},O),{..._,...w(L,!0)}}};return _}}function C6(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var $I=I6();function b6(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function A6({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!k6(r))throw new Error(Bn(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Iw(t,o):Iw(t))}function R6(t){return t._reducerDefinitionType==="asyncThunk"}function k6(t){return t._reducerDefinitionType==="reducerWithPrepare"}function P6({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Bn(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:c,settled:u,options:d}=n,p=i(t,s,d);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),a&&r.addCase(p.pending,a),c&&r.addCase(p.rejected,c),u&&r.addMatcher(p.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Hc,pending:a||Hc,rejected:c||Hc,settled:u||Hc})}function Hc(){}function Bn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const N6={value:1},WI=$I({name:"formStep",initialState:N6,reducers:{getFormStep:(t,e)=>{t.value=e.payload}}}),{getFormStep:vr}=WI.actions,O6=WI.reducer;function L6(){const[t,e]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(""),o=bi(),a=mn(An),c=Rn(a),u=Ss(a),d=JSON.parse(localStorage.getItem("userId"));V.useEffect(()=>{const m=document.getElementById("full-name"),y=document.getElementById("contact"),T=document.getElementById("age"),b=document.getElementById("weight"),C=document.getElementById("height"),w=document.getElementById("occupation"),_=document.getElementById("location");Ci(c,async E=>{if(E){const P=We(u,"generalInfo",d),O=await Pt(P),L=[O.data()];O.exists()&&(L==null||L.map(S=>{m.value=S.name,y.value=S.contact,T.value=S.age,b.value=S.weight,C.value=S.height,w.value=S.occupation,_.value=S.location}))}})},[c,u,d]);const p=async()=>{const m=document.getElementById("full-name"),y=document.getElementById("age"),T=document.getElementById("duration"),b=document.getElementById("weight"),C=document.getElementById("weight-unit"),w=document.getElementById("height-unit"),_=document.getElementById("height"),E=document.getElementById("occupation"),P=document.getElementById("ethnicity"),O=document.getElementById("gender"),L=document.getElementById("contact"),S=document.getElementById("location"),v=document.getElementById("weight-div"),I=document.getElementById("height-div");if(m.value===""){m.style.border="1px solid red",m.classList.add("error-highlight");return}if(y.value===""||Number(y.value)<=0){y.style.border="1px solid red",y.value="Please Enter Age",y.classList.add("error-highlight");return}if(E.value===""){E.style.border="1px solid red",E.classList.add("error-highlight");return}if(b.value===""||Number(b.value)<=0){v.style.border="1px solid red";return}if(_.value===""||Number(_.value)<=0){I.style.border="1px solid red";return}o(vr(2)),await Lo(We(u,"generalInfo",d),{name:m.value,contact:L.value,age:y.value,duration:T.value,occupation:E.value,location:S.value,weight:b.value,weightUnit:C.value,height:_.value,heightUnit:w.value,ethnicity:P.value,gender:O.value})};return f.jsxs("div",{className:"form-container",children:[f.jsx("h2",{children:"General Information"}),f.jsxs("form",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 gap-3",children:[f.jsx("input",{type:"text",name:"full-name",id:"full-name",placeholder:"Full Name",onChange:m=>{m.target.style.border="1px solid #ddd",m.target.classList.remove("error-highlight")}}),f.jsx("input",{type:"text",name:"contact",id:"contact",placeholder:"Contact Number (Optional)"})]}),f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 gap-3",children:[f.jsx("input",{className:"w-full",type:"text",name:"age",id:"age",value:t,placeholder:"Your Age",min:"1",onChange:m=>{const y=m.target.value.replace(/^0+|[^0-9.]/g,"").replace(/^0([1-9])/,"$1").replace(/(\.[0-9]*)\./g,"$1");m.target.style.border="1px solid #ddd",m.target.classList.remove("error-highlight"),e(y)},onClick:m=>{m.target.value="",m.target.style.border="1px solid #ddd",m.target.classList.remove("error-highlight")}}),f.jsxs("select",{className:"w-full",name:"duration",id:"duration",defaultValue:"years",children:[f.jsx("option",{value:"years",children:"Years"}),f.jsx("option",{value:"months",children:"Months"})]})]}),f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 gap-3",children:[f.jsx("input",{className:"w-full",type:"text",name:"occupation",id:"occupation",placeholder:"Your Occupation",onChange:m=>{m.target.style.border="1px solid #ddd",m.target.classList.remove("error-highlight")}}),f.jsx("input",{className:"w-full",type:"text",name:"location",id:"location",placeholder:"Your Location (Optional)"})]}),f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 gap-3",children:[f.jsxs("div",{className:"flex max-[500px]:mb-[1rem] w-full border rounded-[4px] ",id:"weight-div",children:[f.jsx("input",{className:"w-full weight",type:"text",min:"1",id:"weight",name:"weight",value:n,placeholder:"Your Weight",onChange:m=>{const y=m.target.value.replace(/^0+|[^0-9.]/g,"").replace(/^0([1-9])/,"$1").replace(/(\.[0-9]*)\./g,"$1"),T=document.getElementById("weight-div");T.style.border="1px solid #ddd",r(y)}}),f.jsxs("select",{name:"weight-unit",id:"weight-unit",defaultValue:"kg",children:[f.jsx("option",{value:"kg",children:"kg"}),f.jsx("option",{value:"lbs",children:"lbs"})]})]}),f.jsxs("div",{className:"flex max-[500px]:mb-[1rem] w-full border rounded-[4px]",id:"height-div",children:[f.jsx("input",{className:"w-full height",type:"text",min:"1",id:"height",name:"height",value:i,placeholder:"Your Height",onChange:m=>{const y=m.target.value.replace(/^0+|[^0-9.]/g,"").replace(/^0([1-9])/,"$1").replace(/(\.[0-9]*)\./g,"$1"),T=document.getElementById("height-div");T.style.border="1px solid #ddd",s(y)}}),f.jsxs("select",{name:"height-unit",id:"height-unit",defaultValue:"ft",children:[f.jsx("option",{value:"ft",children:"ft"}),f.jsx("option",{value:"cm",children:"cm"})]})]})]}),f.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:gap-0 mt-[1rem] max-[500px]:mt-0 gap-3",children:[f.jsx("div",{className:"w-full",children:f.jsxs("select",{name:"ethnicity",id:"ethnicity",defaultValue:"south_asian",children:[f.jsx("option",{value:"south_asian",children:"South Asian"}),f.jsx("option",{value:"east_asian",children:"East Asian"}),f.jsx("option",{value:"african",children:"African"}),f.jsx("option",{value:"middle_eastern",children:"Middle Eastern"}),f.jsx("option",{value:"european",children:"European"}),f.jsx("option",{value:"hispanic_or_latino",children:"Hispanic or Latino"}),f.jsx("option",{value:"pacific_islander",children:"Pacific Islander"}),f.jsx("option",{value:"other",children:"Multiracial or Other"})]})}),f.jsx("div",{className:"w-full",children:f.jsxs("select",{name:"gender",id:"gender",defaultValue:"male",children:[f.jsx("option",{value:"male",children:"Male"}),f.jsx("option",{value:"female",children:"Female"})]})})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"btn",type:"button",onClick:p,children:"Next"})})]})]})}function D6(){const t=bi(),e=mn(An),n=Rn(e),r=Ss(e),i=JSON.parse(localStorage.getItem("userId"));V.useEffect(()=>{const a=document.getElementById("health-condition"),c=document.getElementById("family-health"),u=document.getElementById("allergies"),d=document.getElementById("surgical-history"),p=document.getElementById("medications"),m=document.getElementById("previous-medications");Ci(n,async y=>{if(y){const T=We(r,"medicalHistory",i),b=await Pt(T),C=[b.data()];b.exists()&&(C==null||C.map(w=>{a.value=w.healthCondition,c.value=w.familyHealth,u.value=w.allergies,d.value=w.surgicalHistory,p.value=w.medications,m.value=w.previousMedications}))}})},[n,r,i]);const s=async()=>{const a=document.getElementById("health-condition"),c=document.getElementById("family-health"),u=document.getElementById("allergies"),d=document.getElementById("surgical-history"),p=document.getElementById("medications"),m=document.getElementById("previous-medications");t(vr(3)),await Lo(We(r,"medicalHistory",i),{healthCondition:a.value,familyHealth:c.value,allergies:u.value,surgicalHistory:d.value,medications:p.value,previousMedications:m.value})},o=()=>{t(vr(1))};return f.jsxs("div",{className:"form-container",children:[f.jsx("h2",{children:"Medical History"}),f.jsxs("form",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"health-condition",children:"Chronic And Past Health Conditions"}),f.jsxs("select",{name:"health-condition",id:"health-condition",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"yes",children:"Yes"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"family-health",children:"Family Health History"}),f.jsxs("select",{name:"family-health",id:"family-health",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"Yes",children:"Yes"})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"allergies",children:"Known Allergies"}),f.jsxs("select",{name:"allergies",id:"allergies",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"yes",children:"Yes"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"surgical-history",children:"Surgical History"}),f.jsxs("select",{name:"surgical-history",id:"surgical-history",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"Yes",children:"Yes"})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"medications",children:"Current Medications"}),f.jsxs("select",{name:"medications",id:"medications",defaultValue:"no",children:[f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"yes",children:"Yes"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"previous-medications",children:"Previously Taken Medications"}),f.jsxs("select",{name:"previous-medications",id:"previous-medications",defaultValue:"no",children:[f.jsx("option",{value:"",disabled:!0,children:"Last 6 months"}),f.jsx("option",{value:"no",children:"No"}),f.jsx("option",{value:"Yes",children:"Yes"})]})]})]}),f.jsxs("div",{className:"btns max-[400px]:flex-col",children:[f.jsx("button",{className:"btn",type:"button",onClick:o,children:"Prev"}),f.jsx("button",{className:"btn",type:"button",onClick:s,children:"Next"})]})]})]})}function M6(){const t=bi(),e=mn(An),n=Rn(e),r=Ss(e),i=JSON.parse(localStorage.getItem("userId")),s=Er();V.useEffect(()=>{const c=document.getElementById("smoking-intensity"),u=document.getElementById("alcohol-intake"),d=document.getElementById("dietary-habits"),p=document.getElementById("activity-level"),m=document.getElementById("sleep-pattern"),y=document.getElementById("stress-level");Ci(n,async T=>{if(T){const b=We(r,"habits",i),C=await Pt(b),w=[C.data()];C.exists()&&(w==null||w.map(_=>{c.value=_.smokingIntensity,u.value=_.alcoholIntake,d.value=_.dietaryHabits,p.value=_.activityLevel,m.value=_.sleepPattern,y.value=_.stressLevel}))}})},[n,r,i]);const o=()=>{t(vr(2))},a=async()=>{const c=document.getElementById("smoking-intensity"),u=document.getElementById("alcohol-intake"),d=document.getElementById("dietary-habits"),p=document.getElementById("activity-level"),m=document.getElementById("sleep-pattern"),y=document.getElementById("stress-level");await Lo(We(r,"habits",i),{smokingIntensity:c.value,alcoholIntake:u.value,dietaryHabits:d.value,activityLevel:p.value,sleepPattern:m.value,stressLevel:y.value}),s("/welcome")};return f.jsxs("div",{className:"form-container",children:[f.jsx("h2",{children:"Life Patterns And Habits"}),f.jsxs("form",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"smoking-intensity",children:"Daily Smoking Intensity"}),f.jsxs("select",{name:"smoking-intensity",id:"smoking-intensity",defaultValue:"Non Smoker",children:[f.jsx("option",{value:"Non Smoker",children:"Non Smoker"}),f.jsx("option",{value:"1-10 cigrettes",children:"1-10 cigrettes"}),f.jsx("option",{value:"About 1 Pack",children:"About 1 Pack"}),f.jsx("option",{value:"More Than 1 Pack",children:"More Than 1 Pack"}),f.jsx("option",{value:"Electronic cigrettes/Vaping",children:"Electronic cigrettes/Vaping"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"alcohol-intake",children:"Weekly Alcohol Intake"}),f.jsxs("select",{name:"alcohol-intake",id:"alcohol-intake",defaultValue:"Non Drinker",children:[f.jsx("option",{value:"Non Drinker",children:"Non Drinker"}),f.jsx("option",{value:"1-3 standard drinks",children:"1-3 standard drinks"}),f.jsx("option",{value:"4-7 standard drinks",children:"4-7 standard drinks"}),f.jsx("option",{value:"8-14 standard drinks",children:"8-14 standard drinks"}),f.jsx("option",{value:"15+ standard drinks",children:"15+ standard drinks"})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"dietary-habits",children:"Dietary Habits"}),f.jsxs("select",{name:"dietary-habits",id:"dietary-habits",defaultValue:"Non-specific Diet",children:[f.jsx("option",{value:"Non-specific Diet",children:"Non-specific Diet"}),f.jsx("option",{value:"Balanced Meals",children:"Balanced Meals"}),f.jsx("option",{value:"Frequent Fast Food",children:"Frequent Fast Food"}),f.jsx("option",{value:"Specific Diet Plan",children:"Specific Diet Plan"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"activity-level",children:"Weekly Physical Activity Level"}),f.jsxs("select",{name:"activity-level",id:"activity-level",defaultValue:"Inactive",children:[f.jsx("option",{value:"Inactive",children:"Inactive"}),f.jsx("option",{value:"Lightly Active",children:"Lightly Active"}),f.jsx("option",{value:"Moderately Active",children:"Moderately Active"}),f.jsx("option",{value:"Very Active",children:"Very Active"})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:gap-0 gap-3",children:[f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"sleep-pattern",children:"Daily Sleep Pattern"}),f.jsxs("select",{name:"sleep-pattern",id:"sleep-pattern",defaultValue:"no",children:[f.jsx("option",{value:"7-9 hours",children:"7-9 hours"}),f.jsx("option",{value:"Less than 6 hours",children:"Less than 6 hours"}),f.jsx("option",{value:"More than 9 hours",children:"More than 9 hours"}),f.jsx("option",{value:"Varies Significantly or Interrupted Sleep",children:"Varies Significantly or Interrupted Sleep"})]})]}),f.jsxs("div",{className:"w-full flex flex-col gap-3",children:[f.jsx("label",{htmlFor:"stress-level",children:"Stress Level"}),f.jsxs("select",{name:"stress-level",id:"stress-level",defaultValue:"Rarely Stressed",children:[f.jsx("option",{value:"",disabled:!0,children:"Last 6 months"}),f.jsx("option",{value:"Rarely Stressed",children:"Rarely Stressed"}),f.jsx("option",{value:"Manageable Stress",children:"Manageable Stress"}),f.jsx("option",{value:"Daily Stress",children:"Daily Stress"}),f.jsx("option",{value:"Always Stressed",children:"Always Stressed"})]})]})]}),f.jsxs("div",{className:"btns max-[400px]:flex-col",children:[f.jsx("button",{className:"btn",type:"button",onClick:o,children:"Prev"}),f.jsx("button",{className:"btn",type:"button",onClick:a,children:"Submit"})]})]})]})}function j6(){return f.jsx(V6,{})}function V6(){const t=VM(s=>{var o;return(o=s==null?void 0:s.formStep)==null?void 0:o.value}),[e,n]=V.useState(1),r=3;V.useEffect(()=>{n(t)},[t]);const i=()=>{switch(e){case 1:return f.jsx(L6,{});case 2:return f.jsx(D6,{});case 3:return f.jsx(M6,{});default:return null}};return f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-5 login-form",children:f.jsxs("div",{className:"container max-[700px]:w-full ",children:[f.jsxs("div",{className:"progress_container",children:[f.jsx(xM,{totalSteps:r,step:e,className:"progress "}),f.jsx("div",{className:`${e>=1?"circle active":"circle"}`,children:"1"}),f.jsx("div",{className:`${e>=2?"circle active":"circle"}`,children:"2"}),f.jsx("div",{className:`${e>=3?"circle active":"circle"}`,children:"3"})]}),i()]})})}function F6(){const t=mn(An),e=Rn(t),n=Ss(t),r=Er(),[i,s]=V.useState([]);V.useEffect(()=>{Ci(e,async u=>{if(u){const d=u.uid,p=We(n,"generalInfo",d),m=await Pt(p),y=[m.data()];m.exists()&&s(y)}})},[e,n,s]);const o=bi(),a=async()=>{localStorage.clear(),o(vr(1));try{await Hl(e)}catch(u){console.log(u)}r("/")},c=()=>{r("/select-doctor")};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"min-h-screen flex flex-col gap-5 p-5 login-form",children:[f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded",type:"button",onClick:a,children:"Logout"})}),f.jsxs("div",{className:"min-h-[500px] flex flex-col gap-5 p-5 bg-blue-100 rounded ",children:[f.jsx("h1",{className:"gradient-text text-3xl font-bold",children:"Welcome"}),f.jsx("p",{className:"text-center ",children:"Your AI doctor! Get personalized medical advice and diagnosis from the comfort of your screen"}),f.jsxs("div",{className:"min-h-[300px] flex flex-col gap-5 p-5 bg-white shadow-md rounded",children:[f.jsxs("div",{className:"flex max-[600px]:flex-col items-center justify-between gap-3",children:[f.jsx("p",{className:"font-bold",children:"Patient Details"}),f.jsx("div",{children:f.jsx("button",{className:"btn",type:"button",onClick:()=>r("/view-profile"),children:"View Profile"})})]}),f.jsx("div",{className:"",children:i==null?void 0:i.map((u,d)=>f.jsxs("div",{className:"flex max-[600px]:text-center flex-col gap-3",children:[f.jsxs("div",{className:"flex max-[600px]:flex-col ",children:[f.jsxs("div",{className:"w-full",children:[f.jsx("p",{className:"text-gray-500",children:"Name"}),f.jsx("p",{className:"capitalize",children:u.name})]}),f.jsxs("div",{className:"w-full",children:[f.jsx("p",{className:"text-gray-500",children:"Age"}),f.jsxs("p",{className:"capitalize",children:[u.age," ",f.jsx("span",{children:u.duration})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col",children:[f.jsxs("div",{className:"w-full",children:[f.jsx("p",{className:"text-gray-500",children:"Occupation"}),f.jsx("p",{className:"capitalize",children:u.occupation})]}),f.jsxs("div",{className:"w-full",children:[f.jsx("p",{className:"text-gray-500",children:"Weight"}),f.jsxs("p",{className:"capitalize",children:[u.weight," ",f.jsx("span",{children:u.weightUnit})]})]})]}),f.jsxs("div",{className:"flex max-[600px]:flex-col",children:[f.jsxs("div",{className:"w-full",children:[f.jsx("p",{className:"text-gray-500",children:"Contact"}),f.jsx("p",{className:"capitalize",children:u.contact===""?"N/A":u.contact})]}),f.jsxs("div",{className:"w-full",children:[f.jsx("p",{className:"text-gray-500",children:"Height"}),f.jsxs("p",{className:"capitalize",children:[u.height," ",f.jsx("span",{children:u.heightUnit})]})]})]}),f.jsx("div",{className:"flex max-[600px]:flex-col",children:f.jsxs("div",{className:"w-full",children:[f.jsx("p",{className:"text-gray-500",children:"Location"}),f.jsx("p",{className:"capitalize",children:u.location===""?"N/A":u.location})]})})]},d))}),f.jsx("div",{className:"flex max-[600px]:justify-center justify-end",children:f.jsx("button",{className:"btn",onClick:c,children:"Continue"})})]})]})]})})}function U6(){const t=Er(),e=mn(An),n=Rn(e),r=bi(),i=async()=>{localStorage.clear(),r(vr(1));try{await Hl(n)}catch(a){console.log(a)}t("/")},s=()=>{t("/doctors/female-consultant")},o=()=>{t("/doctors/male-consultant")};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"min-h-screen flex flex-col gap-5 p-5 login-form",children:[f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded",type:"button",onClick:i,children:"Logout"})}),f.jsxs("div",{className:"flex max-[600px]:flex-col justify-center gap-20 max-[600px]:gap-5",children:[f.jsxs("div",{className:"flex w-[300px] max-[600px]:w-full flex-col",children:[f.jsx("div",{className:"w-full h-[200px] flex justify-center items-center bg-white",children:f.jsx("img",{src:"./images/female2.png",alt:"female doctor",style:{width:"200px",height:"200px"}})}),f.jsxs("div",{className:"w-full flex flex-col items-center text-center text-white bg-blue-600 gap-5 p-5",children:[f.jsx("p",{className:"text-2xl font-bold",children:"Hi!"}),f.jsx("p",{className:"font-bold",children:"I am Doctor Elizabeth"}),f.jsx("p",{children:"Your AI powered Doctor. I will assist you in diagnosing your problem by asking step-by-step questions through chat."}),f.jsx("div",{children:f.jsx("button",{className:"rounded bg-white text-[#262666] py-1 px-2",type:"button",onClick:s,children:"Start Consultation"})})]})]}),f.jsxs("div",{className:"flex w-[300px] max-[600px]:w-full flex-col",children:[f.jsx("div",{className:"w-full h-[200px] flex justify-center items-center bg-white",children:f.jsx("img",{src:"./images/male-2.png",alt:"male doctor",style:{width:"200px",height:"200px"}})}),f.jsxs("div",{className:"w-full flex flex-col items-center text-center text-white bg-blue-600 gap-5 p-5",children:[f.jsx("p",{className:"text-2xl font-bold",children:"Hi!"}),f.jsx("p",{className:"font-bold",children:"I am Doctor Williams"}),f.jsx("p",{children:"Your AI powered Doctor. I will assist you in diagnosing your problem by asking step-by-step questions through chat."}),f.jsx("div",{children:f.jsx("button",{className:"rounded bg-white text-[#262666] py-1 px-2",type:"button",onClick:o,children:"Start Consultation"})})]})]})]})]})})}var z6={exports:{}};(function(t){var e=function(n){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(j,D,U){j[D]=U.value},o,a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function p(j,D,U){return Object.defineProperty(j,D,{value:U,enumerable:!0,configurable:!0,writable:!0}),j[D]}try{p({},"")}catch{p=function(D,U,q){return D[U]=q}}function m(j,D,U,q){var W=D&&D.prototype instanceof E?D:E,Z=Object.create(W.prototype),ce=new $(q||[]);return s(Z,"_invoke",{value:k(j,U,ce)}),Z}n.wrap=m;function y(j,D,U){try{return{type:"normal",arg:j.call(D,U)}}catch(q){return{type:"throw",arg:q}}}var T="suspendedStart",b="suspendedYield",C="executing",w="completed",_={};function E(){}function P(){}function O(){}var L={};p(L,c,function(){return this});var S=Object.getPrototypeOf,v=S&&S(S(K([])));v&&v!==r&&i.call(v,c)&&(L=v);var I=O.prototype=E.prototype=Object.create(L);P.prototype=O,s(I,"constructor",{value:O,configurable:!0}),s(O,"constructor",{value:P,configurable:!0}),P.displayName=p(O,d,"GeneratorFunction");function R(j){["next","throw","return"].forEach(function(D){p(j,D,function(U){return this._invoke(D,U)})})}n.isGeneratorFunction=function(j){var D=typeof j=="function"&&j.constructor;return D?D===P||(D.displayName||D.name)==="GeneratorFunction":!1},n.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,O):(j.__proto__=O,p(j,d,"GeneratorFunction")),j.prototype=Object.create(I),j},n.awrap=function(j){return{__await:j}};function N(j,D){function U(Z,ce,ue,se){var Ce=y(j[Z],j,ce);if(Ce.type==="throw")se(Ce.arg);else{var Ai=Ce.arg,nn=Ai.value;return nn&&typeof nn=="object"&&i.call(nn,"__await")?D.resolve(nn.__await).then(function(At){U("next",At,ue,se)},function(At){U("throw",At,ue,se)}):D.resolve(nn).then(function(At){Ai.value=At,ue(Ai)},function(At){return U("throw",At,ue,se)})}}var q;function W(Z,ce){function ue(){return new D(function(se,Ce){U(Z,ce,se,Ce)})}return q=q?q.then(ue,ue):ue()}s(this,"_invoke",{value:W})}R(N.prototype),p(N.prototype,u,function(){return this}),n.AsyncIterator=N,n.async=function(j,D,U,q,W){W===void 0&&(W=Promise);var Z=new N(m(j,D,U,q),W);return n.isGeneratorFunction(D)?Z:Z.next().then(function(ce){return ce.done?ce.value:Z.next()})};function k(j,D,U){var q=T;return function(Z,ce){if(q===C)throw new Error("Generator is already running");if(q===w){if(Z==="throw")throw ce;return B()}for(U.method=Z,U.arg=ce;;){var ue=U.delegate;if(ue){var se=A(ue,U);if(se){if(se===_)continue;return se}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(q===T)throw q=w,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);q=C;var Ce=y(j,D,U);if(Ce.type==="normal"){if(q=U.done?w:b,Ce.arg===_)continue;return{value:Ce.arg,done:U.done}}else Ce.type==="throw"&&(q=w,U.method="throw",U.arg=Ce.arg)}}}function A(j,D){var U=D.method,q=j.iterator[U];if(q===o)return D.delegate=null,U==="throw"&&j.iterator.return&&(D.method="return",D.arg=o,A(j,D),D.method==="throw")||U!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+U+"' method")),_;var W=y(q,j.iterator,D.arg);if(W.type==="throw")return D.method="throw",D.arg=W.arg,D.delegate=null,_;var Z=W.arg;if(!Z)return D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,_;if(Z.done)D[j.resultName]=Z.value,D.next=j.nextLoc,D.method!=="return"&&(D.method="next",D.arg=o);else return Z;return D.delegate=null,_}R(I),p(I,d,"Generator"),p(I,c,function(){return this}),p(I,"toString",function(){return"[object Generator]"});function Q(j){var D={tryLoc:j[0]};1 in j&&(D.catchLoc=j[1]),2 in j&&(D.finallyLoc=j[2],D.afterLoc=j[3]),this.tryEntries.push(D)}function re(j){var D=j.completion||{};D.type="normal",delete D.arg,j.completion=D}function $(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(Q,this),this.reset(!0)}n.keys=function(j){var D=Object(j),U=[];for(var q in D)U.push(q);return U.reverse(),function W(){for(;U.length;){var Z=U.pop();if(Z in D)return W.value=Z,W.done=!1,W}return W.done=!0,W}};function K(j){if(j!=null){var D=j[c];if(D)return D.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var U=-1,q=function W(){for(;++U<j.length;)if(i.call(j,U))return W.value=j[U],W.done=!1,W;return W.value=o,W.done=!0,W};return q.next=q}}throw new TypeError(typeof j+" is not iterable")}n.values=K;function B(){return{value:o,done:!0}}return $.prototype={constructor:$,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(re),!j)for(var D in this)D.charAt(0)==="t"&&i.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=o)},stop:function(){this.done=!0;var j=this.tryEntries[0],D=j.completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var D=this;function U(se,Ce){return Z.type="throw",Z.arg=j,D.next=se,Ce&&(D.method="next",D.arg=o),!!Ce}for(var q=this.tryEntries.length-1;q>=0;--q){var W=this.tryEntries[q],Z=W.completion;if(W.tryLoc==="root")return U("end");if(W.tryLoc<=this.prev){var ce=i.call(W,"catchLoc"),ue=i.call(W,"finallyLoc");if(ce&&ue){if(this.prev<W.catchLoc)return U(W.catchLoc,!0);if(this.prev<W.finallyLoc)return U(W.finallyLoc)}else if(ce){if(this.prev<W.catchLoc)return U(W.catchLoc,!0)}else if(ue){if(this.prev<W.finallyLoc)return U(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,D){for(var U=this.tryEntries.length-1;U>=0;--U){var q=this.tryEntries[U];if(q.tryLoc<=this.prev&&i.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var W=q;break}}W&&(j==="break"||j==="continue")&&W.tryLoc<=D&&D<=W.finallyLoc&&(W=null);var Z=W?W.completion:{};return Z.type=j,Z.arg=D,W?(this.method="next",this.next=W.finallyLoc,_):this.complete(Z)},complete:function(j,D){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&D&&(this.next=D),_},finish:function(j){for(var D=this.tryEntries.length-1;D>=0;--D){var U=this.tryEntries[D];if(U.finallyLoc===j)return this.complete(U.completion,U.afterLoc),re(U),_}},catch:function(j){for(var D=this.tryEntries.length-1;D>=0;--D){var U=this.tryEntries[D];if(U.tryLoc===j){var q=U.completion;if(q.type==="throw"){var W=q.arg;re(U)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(j,D,U){return this.delegate={iterator:K(j),resultName:D,nextLoc:U},this.method==="next"&&(this.arg=o),_}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(z6);var fd={},HI={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.browserSupportsPolyfills=Ot.compareTwoStringsUsingDiceCoefficient=Ot.commandToRegExp=Ot.concatTranscripts=Ot.debounce=void 0;var B6=function(e,n,r){var i;return function(){var s=this,o=arguments,a=function(){i=null,r||e.apply(s,o)},c=r&&!i;clearTimeout(i),i=setTimeout(a,n),c&&e.apply(s,o)}};Ot.debounce=B6;var $6=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(i){return i.trim()}).join(" ").trim()};Ot.concatTranscripts=$6;var W6=/\s*\((.*?)\)\s*/g,H6=/(\(\?:[^)]+\))\?/g,G6=/(\(\?)?:\w+/g,q6=/\*/g,K6=/[-{}[\]+?.,\\^$|#]/g,Y6=function(e){return e instanceof RegExp?new RegExp(e.source,"i"):(e=e.replace(K6,"\\$&").replace(W6,"(?:$1)?").replace(G6,function(n,r){return r?n:"([^\\s]+)"}).replace(q6,"(.*?)").replace(H6,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i"))};Ot.commandToRegExp=Y6;var Q6=function(e,n){if(e=e.replace(/\s+/g,"").toLowerCase(),n=n.replace(/\s+/g,"").toLowerCase(),!e.length&&!n.length)return 1;if(!e.length||!n.length)return 0;if(e===n)return 1;if(e.length===1&&n.length===1||e.length<2||n.length<2)return 0;for(var r=new Map,i=0;i<e.length-1;i++){var s=e.substring(i,i+2),o=r.has(s)?r.get(s)+1:1;r.set(s,o)}for(var a=0,c=0;c<n.length-1;c++){var u=n.substring(c,c+2),d=r.has(u)?r.get(u):0;d>0&&(r.set(u,d-1),a++)}return 2*a/(e.length+n.length-2)};Ot.compareTwoStringsUsingDiceCoefficient=Q6;var X6=function(){return typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0)};Ot.browserSupportsPolyfills=X6;var Mo={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.APPEND_TRANSCRIPT=ps.CLEAR_TRANSCRIPT=void 0;var J6="CLEAR_TRANSCRIPT";ps.CLEAR_TRANSCRIPT=J6;var Z6="APPEND_TRANSCRIPT";ps.APPEND_TRANSCRIPT=Z6;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.appendTranscript=Mo.clearTranscript=void 0;var GI=ps,ej=function(){return{type:GI.CLEAR_TRANSCRIPT}};Mo.clearTranscript=ej;var tj=function(e,n){return{type:GI.APPEND_TRANSCRIPT,payload:{interimTranscript:e,finalTranscript:n}}};Mo.appendTranscript=tj;var pd={};Object.defineProperty(pd,"__esModule",{value:!0});pd.transcriptReducer=void 0;var Aw=ps,nj=Ot,rj=function(e,n){switch(n.type){case Aw.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case Aw.APPEND_TRANSCRIPT:return{interimTranscript:n.payload.interimTranscript,finalTranscript:(0,nj.concatTranscripts)(e.finalTranscript,n.payload.finalTranscript)};default:throw new Error}};pd.transcriptReducer=rj;var qI={},_y={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){return/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"")};t.default=e})(_y);var wy={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNative=void 0;var e=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),n=function(s){return s===e};t.isNative=n;var r=e;t.default=r})(wy);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(_y),n=Ot,r=wy;function i(p){return p&&p.__esModule?p:{default:p}}function s(p,m,y,T,b,C,w){try{var _=p[C](w),E=_.value}catch(P){y(P);return}_.done?m(E):Promise.resolve(E).then(T,b)}function o(p){return function(){var m=this,y=arguments;return new Promise(function(T,b){var C=p.apply(m,y);function w(E){s(C,T,b,w,_,"next",E)}function _(E){s(C,T,b,w,_,"throw",E)}w(void 0)})}}function a(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){for(var y=0;y<m.length;y++){var T=m[y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}function u(p,m,y){return m&&c(p.prototype,m),p}var d=function(){function p(m){a(this,p),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(m),(0,e.default)()&&(this.updateFinalTranscript=(0,n.debounce)(this.updateFinalTranscript,250,!0))}return u(p,[{key:"setSpeechRecognition",value:function(y){var T=!!y&&((0,r.isNative)(y)||(0,n.browserSupportsPolyfills)());T&&(this.disableRecognition(),this.recognition=new y,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(T)}},{key:"subscribe",value:function(y,T){this.subscribers[y]=T}},{key:"unsubscribe",value:function(y){delete this.subscribers[y]}},{key:"emitListeningChange",value:function(y){var T=this;this.listening=y,Object.keys(this.subscribers).forEach(function(b){var C=T.subscribers[b].onListeningChange;C(y)})}},{key:"emitMicrophoneAvailabilityChange",value:function(y){var T=this;this.isMicrophoneAvailable=y,Object.keys(this.subscribers).forEach(function(b){var C=T.subscribers[b].onMicrophoneAvailabilityChange;C(y)})}},{key:"emitTranscriptChange",value:function(y,T){var b=this;Object.keys(this.subscribers).forEach(function(C){var w=b.subscribers[C].onTranscriptChange;w(y,T)})}},{key:"emitClearTranscript",value:function(){var y=this;Object.keys(this.subscribers).forEach(function(T){var b=y.subscribers[T].onClearTranscript;b()})}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(y){var T=this;Object.keys(this.subscribers).forEach(function(b){var C=T.subscribers[b],w=C.onBrowserSupportsSpeechRecognitionChange,_=C.onBrowserSupportsContinuousListeningChange;w(y),_(y)})}},{key:"disconnect",value:function(y){if(this.recognition&&this.listening)switch(y){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(y){y&&y.error&&y.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(y){var T=y.results,b=y.resultIndex,C=b===void 0?T.length-1:b;this.interimTranscript="",this.finalTranscript="";for(var w=C;w<T.length;++w)T[w].isFinal&&(!(0,e.default)()||T[w][0].confidence>0)?this.updateFinalTranscript(T[w][0].transcript):this.interimTranscript=(0,n.concatTranscripts)(this.interimTranscript,T[w][0].transcript);var _=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(_=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,_||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(y){this.finalTranscript=(0,n.concatTranscripts)(this.finalTranscript,y)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:function(){var m=o(regeneratorRuntime.mark(function T(){var b,C,w,_,E,P,O=arguments;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(b=O.length>0&&O[0]!==void 0?O[0]:{},C=b.continuous,w=C===void 0?!1:C,_=b.language,this.recognition){S.next=3;break}return S.abrupt("return");case 3:if(E=w!==this.recognition.continuous,P=_&&_!==this.recognition.lang,!(E||P)){S.next=11;break}if(!this.listening){S.next=9;break}return S.next=9,this.stopListening();case 9:this.recognition.continuous=E?w:this.recognition.continuous,this.recognition.lang=P?_:this.recognition.lang;case 11:if(this.listening){S.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),S.prev=13,S.next=16,this.start();case 16:this.emitListeningChange(!0),S.next=22;break;case 19:S.prev=19,S.t0=S.catch(13),S.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return S.stop()}},T,this,[[13,19]])}));function y(){return m.apply(this,arguments)}return y}()},{key:"abortListening",value:function(){var m=o(regeneratorRuntime.mark(function T(){var b=this;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),w.next=4,new Promise(function(_){b.onStopListening=_});case 4:case"end":return w.stop()}},T,this)}));function y(){return m.apply(this,arguments)}return y}()},{key:"stopListening",value:function(){var m=o(regeneratorRuntime.mark(function T(){var b=this;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),w.next=4,new Promise(function(_){b.onStopListening=_});case 4:case"end":return w.stop()}},T,this)}));function y(){return m.apply(this,arguments)}return y}()},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:function(){var m=o(regeneratorRuntime.mark(function T(){return regeneratorRuntime.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(this.recognition&&!this.listening)){C.next=4;break}return C.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return C.stop()}},T,this)}));function y(){return m.apply(this,arguments)}return y}()},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}]),p}();t.default=d})(qI);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useSpeechRecognition=void 0;var e=V,n=Ot,r=Mo,i=pd,s=c(qI),o=c(_y),a=c(wy);function c(k){return k&&k.__esModule?k:{default:k}}function u(k,A,Q,re,$,K,B){try{var j=k[K](B),D=j.value}catch(U){Q(U);return}j.done?A(D):Promise.resolve(D).then(re,$)}function d(k){return function(){var A=this,Q=arguments;return new Promise(function(re,$){var K=k.apply(A,Q);function B(D){u(K,re,$,B,j,"next",D)}function j(D){u(K,re,$,B,j,"throw",D)}B(void 0)})}}function p(k){return T(k)||y(k)||_(k)||m()}function m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(k){if(typeof Symbol<"u"&&Symbol.iterator in Object(k))return Array.from(k)}function T(k){if(Array.isArray(k))return E(k)}function b(k){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(Q){return typeof Q}:b=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},b(k)}function C(k,A){return O(k)||P(k,A)||_(k,A)||w()}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(k,A){if(k){if(typeof k=="string")return E(k,A);var Q=Object.prototype.toString.call(k).slice(8,-1);if(Q==="Object"&&k.constructor&&(Q=k.constructor.name),Q==="Map"||Q==="Set")return Array.from(k);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return E(k,A)}}function E(k,A){(A==null||A>k.length)&&(A=k.length);for(var Q=0,re=new Array(A);Q<A;Q++)re[Q]=k[Q];return re}function P(k,A){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(k)))){var Q=[],re=!0,$=!1,K=void 0;try{for(var B=k[Symbol.iterator](),j;!(re=(j=B.next()).done)&&(Q.push(j.value),!(A&&Q.length===A));re=!0);}catch(D){$=!0,K=D}finally{try{!re&&B.return!=null&&B.return()}finally{if($)throw K}}return Q}}function O(k){if(Array.isArray(k))return k}var L=!!a.default,S=L&&!(0,o.default)(),v,I=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=A.transcribing,re=Q===void 0?!0:Q,$=A.clearTranscriptOnListen,K=$===void 0?!0:$,B=A.commands,j=B===void 0?[]:B,D=(0,e.useState)(R.getRecognitionManager()),U=C(D,1),q=U[0],W=(0,e.useState)(L),Z=C(W,2),ce=Z[0],ue=Z[1],se=(0,e.useState)(S),Ce=C(se,2),Ai=Ce[0],nn=Ce[1],At=(0,e.useReducer)(i.transcriptReducer,{interimTranscript:q.interimTranscript,finalTranscript:""}),xs=C(At,2),Is=xs[0],Cs=Is.interimTranscript,bs=Is.finalTranscript,Ko=xs[1],gd=(0,e.useState)(q.listening),Zl=C(gd,2),ec=Zl[0],Yo=Zl[1],tc=(0,e.useState)(q.isMicrophoneAvailable),nc=C(tc,2),Qo=nc[0],Xo=nc[1],Jo=(0,e.useRef)(j);Jo.current=j;var Ge=function(){Ko((0,r.clearTranscript)())},Ue=(0,e.useCallback)(function(){q.resetTranscript(),Ge()},[q]),As=function(qe,rn,Gn){var sn=b(qe)==="object"?qe.toString():qe,Ir=sn.replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),Ri=(0,n.compareTwoStringsUsingDiceCoefficient)(Ir,rn);return Ri>=Gn?{command:qe,commandWithoutSpecials:Ir,howSimilar:Ri,isFuzzyMatch:!0}:null},rc=function(qe,rn){var Gn=(0,n.commandToRegExp)(qe),sn=Gn.exec(rn);return sn?{command:qe,parameters:sn.slice(1)}:null},Zo=(0,e.useCallback)(function(Ut,qe){Jo.current.forEach(function(rn){var Gn=rn.command,sn=rn.callback,Ir=rn.matchInterim,Ri=Ir===void 0?!1:Ir,Cr=rn.isFuzzyMatch,Rs=Cr===void 0?!1:Cr,ks=rn.fuzzyMatchingThreshold,qn=ks===void 0?.8:ks,ea=rn.bestMatchOnly,Ps=ea===void 0?!1:ea,ki=!qe&&Ri?Ut.trim():qe.trim(),Pi=Array.isArray(Gn)?Gn:[Gn],Ni=Pi.map(function(Tt){return Rs?As(Tt,ki,qn):rc(Tt,ki)}).filter(function(Tt){return Tt});if(Rs&&Ps&&Ni.length>=2){Ni.sort(function(Tt,ta){return ta.howSimilar-Tt.howSimilar});var Ke=Ni[0],oc=Ke.command,Oi=Ke.commandWithoutSpecials,Li=Ke.howSimilar;sn(Oi,ki,Li,{command:oc,resetTranscript:Ue})}else Ni.forEach(function(Tt){if(Tt.isFuzzyMatch){var ta=Tt.command,br=Tt.commandWithoutSpecials,yd=Tt.howSimilar;sn(br,ki,yd,{command:ta,resetTranscript:Ue})}else{var vd=Tt.command,Ns=Tt.parameters;sn.apply(void 0,p(Ns).concat([{command:vd,resetTranscript:Ue}]))}})})},[Ue]),ic=(0,e.useCallback)(function(Ut,qe){re&&Ko((0,r.appendTranscript)(Ut,qe)),Zo(Ut,qe)},[Zo,re]),xr=(0,e.useCallback)(function(){K&&Ge()},[K]);(0,e.useEffect)(function(){var Ut=R.counter;R.counter+=1;var qe={onListeningChange:Yo,onMicrophoneAvailabilityChange:Xo,onTranscriptChange:ic,onClearTranscript:xr,onBrowserSupportsSpeechRecognitionChange:ue,onBrowserSupportsContinuousListeningChange:nn};return q.subscribe(Ut,qe),function(){q.unsubscribe(Ut)}},[re,K,q,ic,xr]);var sc=(0,n.concatTranscripts)(bs,Cs);return{transcript:sc,interimTranscript:Cs,finalTranscript:bs,listening:ec,isMicrophoneAvailable:Qo,resetTranscript:Ue,browserSupportsSpeechRecognition:ce,browserSupportsContinuousListening:Ai}};t.useSpeechRecognition=I;var R={counter:0,applyPolyfill:function(A){v?v.setSpeechRecognition(A):v=new s.default(A);var Q=!!A&&(0,n.browserSupportsPolyfills)();L=Q,S=Q},removePolyfill:function(){v?v.setSpeechRecognition(a.default):v=new s.default(a.default),L=!!a.default,S=L&&!(0,o.default)()},getRecognitionManager:function(){return v||(v=new s.default(a.default)),v},getRecognition:function(){var A=R.getRecognitionManager();return A.getRecognition()},startListening:function(){var k=d(regeneratorRuntime.mark(function Q(){var re,$,K,B,j=arguments;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return re=j.length>0&&j[0]!==void 0?j[0]:{},$=re.continuous,K=re.language,B=R.getRecognitionManager(),U.next=4,B.startListening({continuous:$,language:K});case 4:case"end":return U.stop()}},Q)}));function A(){return k.apply(this,arguments)}return A}(),stopListening:function(){var k=d(regeneratorRuntime.mark(function Q(){var re;return regeneratorRuntime.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return re=R.getRecognitionManager(),K.next=3,re.stopListening();case 3:case"end":return K.stop()}},Q)}));function A(){return k.apply(this,arguments)}return A}(),abortListening:function(){var k=d(regeneratorRuntime.mark(function Q(){var re;return regeneratorRuntime.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return re=R.getRecognitionManager(),K.next=3,re.abortListening();case 3:case"end":return K.stop()}},Q)}));function A(){return k.apply(this,arguments)}return A}(),browserSupportsSpeechRecognition:function(){return L},browserSupportsContinuousListening:function(){return S}},N=R;t.default=N})(HI);(function(t){function e(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(o)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useSpeechRecognition",{enumerable:!0,get:function(){return n.useSpeechRecognition}}),t.default=void 0;var n=i(HI);function r(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return r=function(){return o},o}function i(o){if(o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var a=r();if(a&&a.has(o))return a.get(o);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in o)if(Object.prototype.hasOwnProperty.call(o,d)){var p=u?Object.getOwnPropertyDescriptor(o,d):null;p&&(p.get||p.set)?Object.defineProperty(c,d,p):c[d]=o[d]}return c.default=o,a&&a.set(o,c),c}var s=n.default;t.default=s})(fd);const KI=_m(fd);var Rw;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Rw||(Rw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kw;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(kw||(kw={}));var Pw;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Pw||(Pw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=["user","model","function","system"];var Ow;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Ow||(Ow={}));var Lw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Lw||(Lw={}));var Dw;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Dw||(Dw={}));var Mw;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Mw||(Mw={}));var Ya;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(Ya||(Ya={}));var jw;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(jw||(jw={}));var Vw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Vw||(Vw={}));var Fw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Fw||(Fw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class js extends Lt{constructor(e,n){super(e),this.response=n}}class YI extends Lt{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class ci extends Lt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="https://generativelanguage.googleapis.com",sj="v1beta",oj="0.21.0",aj="genai-js";var ms;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ms||(ms={}));class lj{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||sj;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||ij}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function cj(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${aj}/${oj}`),e.join(" ")}async function uj(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",cj(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new ci(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new ci(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new ci(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function hj(t,e,n,r,i,s){const o=new lj(t,e,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},mj(s)),{method:"POST",headers:await uj(o),body:i})}}async function Jl(t,e,n,r,i,s={},o=fetch){const{url:a,fetchOptions:c}=await hj(t,e,n,r,i,s);return dj(a,c,o)}async function dj(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){fj(i,t)}return r.ok||await pj(r,t),r}function fj(t,e){let n=t;throw t instanceof YI||t instanceof ci||(n=new Lt(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function pj(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new YI(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function mj(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),gu(t.candidates[0]))throw new js(`${Fr(t)}`,t);return gj(t)}else if(t.promptFeedback)throw new js(`Text not available. ${Fr(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),gu(t.candidates[0]))throw new js(`${Fr(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Uw(t)[0]}else if(t.promptFeedback)throw new js(`Function call not available. ${Fr(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),gu(t.candidates[0]))throw new js(`${Fr(t)}`,t);return Uw(t)}else if(t.promptFeedback)throw new js(`Function call not available. ${Fr(t)}`,t)},t}function gj(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function Uw(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const yj=[Ya.RECITATION,Ya.SAFETY,Ya.LANGUAGE];function gu(t){return!!t.finishReason&&yj.includes(t.finishReason)}function Fr(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];gu(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Pl(t){return this instanceof Pl?(this.v=t,this):new Pl(t)}function vj(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){r[m]&&(i[m]=function(y){return new Promise(function(T,b){s.push([m,y,T,b])>1||a(m,y)})})}function a(m,y){try{c(r[m](y))}catch(T){p(s[0][3],T)}}function c(m){m.value instanceof Pl?Promise.resolve(m.value.v).then(u,d):p(s[0][2],m)}function u(m){a("next",m)}function d(m){a("throw",m)}function p(m,y){m(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function _j(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Tj(e),[r,i]=n.tee();return{stream:Ej(r),response:wj(i)}}async function wj(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Ey(Sj(e));e.push(i)}}function Ej(t){return vj(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Pl(n.read());if(i)break;yield yield Pl(Ey(r))}})}function Tj(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new Lt("Failed to parse stream"));return}r.close();return}i+=o;let c=i.match(zw),u;for(;c;){try{u=JSON.parse(c[1])}catch{r.error(new Lt(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(u),i=i.substring(c[0].length),c=i.match(zw)}return s()})}}})}function Sj(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(t,e,n,r){const i=await Jl(e,ms.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return _j(i)}async function XI(t,e,n,r){const s=await(await Jl(e,ms.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Ey(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Nl(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return xj(e)}function xj(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new Lt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Lt("No content is provided for sending chat message.");return r?e:n}function Ij(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new ci("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=Nl(t);r.contents=[s]}return{generateContentRequest:r}}function Bw(t){let e;return t.contents?e=t:e={contents:[Nl(t)]},t.systemInstruction&&(e.systemInstruction=JI(t.systemInstruction)),e}function Cj(t){return typeof t=="string"||Array.isArray(t)?{content:Nl(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],bj={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Aj(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new Lt(`First content should be with role 'user', got ${r}`);if(!Nw.includes(r))throw new Lt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Nw)}`);if(!Array.isArray(i))throw new Lt("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Lt("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const c of $w)c in a&&(s[c]+=1);const o=bj[r];for(const a of $w)if(!o.includes(a)&&s[a]>0)throw new Lt(`Content with role '${r}' can't contain '${a}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="SILENT_ERROR";class Rj{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(Aj(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,o,a,c;await this._sendPromise;const u=Nl(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>XI(this._apiKey,this.model,d,p)).then(y=>{var T;if(y.response.candidates&&y.response.candidates.length>0){this._history.push(u);const b=Object.assign({parts:[],role:"model"},(T=y.response.candidates)===null||T===void 0?void 0:T[0].content);this._history.push(b)}else{const b=Fr(y.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}m=y}),await this._sendPromise,m}async sendMessageStream(e,n={}){var r,i,s,o,a,c;await this._sendPromise;const u=Nl(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n),m=QI(this._apiKey,this.model,d,p);return this._sendPromise=this._sendPromise.then(()=>m).catch(y=>{throw new Error(Ww)}).then(y=>y.response).then(y=>{if(y.candidates&&y.candidates.length>0){this._history.push(u);const T=Object.assign({},y.candidates[0].content);T.role||(T.role="model"),this._history.push(T)}else{const T=Fr(y);T&&console.warn(`sendMessageStream() was unsuccessful. ${T}. Inspect response object for details.`)}}).catch(y=>{y.message!==Ww&&console.error(y)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(t,e,n,r){return(await Jl(e,ms.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e,n,r){return(await Jl(e,ms.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function Nj(t,e,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Jl(e,ms.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=JI(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=Bw(e),s=Object.assign(Object.assign({},this._requestOptions),n);return XI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=Bw(e),s=Object.assign(Object.assign({},this._requestOptions),n);return QI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new Rj(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Ij(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return kj(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=Cj(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Pj(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return Nj(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Lt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Hw(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new ci("Cached content must contain a `name` field.");if(!e.model)throw new ci("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===c)continue}throw new ci(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Hw(this.apiKey,s,r)}}var Oj=typeof global=="object"&&global&&global.Object===Object&&global,Lj=typeof self=="object"&&self&&self.Object===Object&&self,eC=Oj||Lj||Function("return this")(),_h=eC.Symbol,tC=Object.prototype,Dj=tC.hasOwnProperty,Mj=tC.toString,va=_h?_h.toStringTag:void 0;function jj(t){var e=Dj.call(t,va),n=t[va];try{t[va]=void 0;var r=!0}catch{}var i=Mj.call(t);return r&&(e?t[va]=n:delete t[va]),i}var Vj=Object.prototype,Fj=Vj.toString;function Uj(t){return Fj.call(t)}var zj="[object Null]",Bj="[object Undefined]",Gw=_h?_h.toStringTag:void 0;function $j(t){return t==null?t===void 0?Bj:zj:Gw&&Gw in Object(t)?jj(t):Uj(t)}function Wj(t){return t!=null&&typeof t=="object"}var Hj="[object Symbol]";function Gj(t){return typeof t=="symbol"||Wj(t)&&$j(t)==Hj}var qj=/\s/;function Kj(t){for(var e=t.length;e--&&qj.test(t.charAt(e)););return e}var Yj=/^\s+/;function Qj(t){return t&&t.slice(0,Kj(t)+1).replace(Yj,"")}function wh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qw=NaN,Xj=/^[-+]0x[0-9a-f]+$/i,Jj=/^0b[01]+$/i,Zj=/^0o[0-7]+$/i,eV=parseInt;function Kw(t){if(typeof t=="number")return t;if(Gj(t))return qw;if(wh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qj(t);var n=Jj.test(t);return n||Zj.test(t)?eV(t.slice(2),n?2:8):Xj.test(t)?qw:+t}var Af=function(){return eC.Date.now()},tV="Expected a function",nV=Math.max,rV=Math.min;function yu(t,e,n){var r,i,s,o,a,c,u=0,d=!1,p=!1,m=!0;if(typeof t!="function")throw new TypeError(tV);e=Kw(e)||0,wh(n)&&(d=!!n.leading,p="maxWait"in n,s=p?nV(Kw(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function y(L){var S=r,v=i;return r=i=void 0,u=L,o=t.apply(v,S),o}function T(L){return u=L,a=setTimeout(w,e),d?y(L):o}function b(L){var S=L-c,v=L-u,I=e-S;return p?rV(I,s-v):I}function C(L){var S=L-c,v=L-u;return c===void 0||S>=e||S<0||p&&v>=s}function w(){var L=Af();if(C(L))return _(L);a=setTimeout(w,b(L))}function _(L){return a=void 0,m&&r?y(L):(r=i=void 0,o)}function E(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function P(){return a===void 0?o:_(Af())}function O(){var L=Af(),S=C(L);if(r=arguments,i=this,c=L,S){if(a===void 0)return T(c);if(p)return clearTimeout(a),a=setTimeout(w,e),y(c)}return a===void 0&&(a=setTimeout(w,e)),o}return O.cancel=E,O.flush=P,O}var iV="Expected a function";function sV(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(iV);return wh(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),yu(t,e,{leading:r,maxWait:e,trailing:i})}var ro=function(){return ro=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ro.apply(this,arguments)};function nC(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}function rC(t){return!t||!t.ownerDocument?document:t.ownerDocument}var iC=function(t){var e={},n=Array.prototype.reduce.call(t,function(r,i){var s=i.name.match(/data-simplebar-(.+)/);if(s){var o=s[1].replace(/\W+(.)/g,function(a,c){return c.toUpperCase()});switch(i.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=i.value}}return r},e);return n};function sC(t,e){var n;t&&(n=t.classList).add.apply(n,e.split(" "))}function oC(t,e){t&&e.split(" ").forEach(function(n){t.classList.remove(n)})}function aC(t){return".".concat(t.split(" ").join("."))}var Ty=!!(typeof window<"u"&&window.document&&window.document.createElement),oV=Object.freeze({__proto__:null,addClasses:sC,canUseDOM:Ty,classNamesToQuery:aC,getElementDocument:rC,getElementWindow:nC,getOptions:iC,removeClasses:oC}),Bs=null,Yw=null;Ty&&window.addEventListener("resize",function(){Yw!==window.devicePixelRatio&&(Yw=window.devicePixelRatio,Bs=null)});function Qw(){if(Bs===null){if(typeof document>"u")return Bs=0,Bs;var t=document.body,e=document.createElement("div");e.classList.add("simplebar-hide-scrollbar"),t.appendChild(e);var n=e.getBoundingClientRect().right;t.removeChild(e),Bs=n}return Bs}var Lr=nC,Rf=rC,aV=iC,Dr=sC,Mr=oC,Rt=aC,_a=function(){function t(e,n){n===void 0&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var i=Lr(r.el);r.scrollXTicking||(i.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(i.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,Dr(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){Mr(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(Dr(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){Mr(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(i){r.mouseX=i.clientX,r.mouseY=i.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(i){if(!(!r.axis.x.track.el||!r.axis.y.track.el||!r.axis.x.scrollbar.el||!r.axis.y.scrollbar.el)){var s,o;r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(s=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(o=r.isWithinBounds(r.axis.y.track.rect)),(s||o)&&(i.stopPropagation(),i.type==="pointerdown"&&i.pointerType!=="touch"&&(s&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(i,"x"):r.onTrackClick(i,"x")),o&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(i,"y"):r.onTrackClick(i,"y"))))}},this.drag=function(i){var s,o,a,c,u,d,p,m,y,T,b;if(!(!r.draggedAxis||!r.contentWrapperEl)){var C,w=r.axis[r.draggedAxis].track,_=(o=(s=w.rect)===null||s===void 0?void 0:s[r.axis[r.draggedAxis].sizeAttr])!==null&&o!==void 0?o:0,E=r.axis[r.draggedAxis].scrollbar,P=(c=(a=r.contentWrapperEl)===null||a===void 0?void 0:a[r.axis[r.draggedAxis].scrollSizeAttr])!==null&&c!==void 0?c:0,O=parseInt((d=(u=r.elStyles)===null||u===void 0?void 0:u[r.axis[r.draggedAxis].sizeAttr])!==null&&d!==void 0?d:"0px",10);i.preventDefault(),i.stopPropagation(),r.draggedAxis==="y"?C=i.pageY:C=i.pageX;var L=C-((m=(p=w.rect)===null||p===void 0?void 0:p[r.axis[r.draggedAxis].offsetAttr])!==null&&m!==void 0?m:0)-r.axis[r.draggedAxis].dragOffset;L=r.draggedAxis==="x"&&r.isRtl?((T=(y=w.rect)===null||y===void 0?void 0:y[r.axis[r.draggedAxis].sizeAttr])!==null&&T!==void 0?T:0)-E.size-L:L;var S=L/(_-E.size),v=S*(P-O);r.draggedAxis==="x"&&r.isRtl&&(v=!((b=t.getRtlHelpers())===null||b===void 0)&&b.isScrollingToNegative?-v:v),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=v}},this.onEndDrag=function(i){r.isDragging=!1;var s=Rf(r.el),o=Lr(r.el);i.preventDefault(),i.stopPropagation(),Mr(r.el,r.classNames.dragging),r.onStopScrolling(),s.removeEventListener("mousemove",r.drag,!0),s.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=o.setTimeout(function(){s.removeEventListener("click",r.preventClick,!0),s.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(i){i.preventDefault(),i.stopPropagation()},this.el=e,this.options=ro(ro({},t.defaultOptions),n),this.classNames=ro(ro({},t.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},typeof this.el!="object"||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=sV(this._onMouseMove,64),this.onWindowResize=yu(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=yu(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=yu(this._onMouseEntered,this.stopScrollDelay),this.init()}return t.getRtlHelpers=function(){if(t.rtlHelpers)return t.rtlHelpers;var e=document.createElement("div");e.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=e.firstElementChild,r=n==null?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var i=t.getOffset(n),s=t.getOffset(r);n.scrollLeft=-999;var o=t.getOffset(r);return document.body.removeChild(n),t.rtlHelpers={isScrollOriginAtZero:i.left!==s.left,isScrollingToNegative:s.left!==o.left},t.rtlHelpers},t.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:Qw()}catch{return Qw()}},t.getOffset=function(e){var n=e.getBoundingClientRect(),r=Rf(e),i=Lr(e);return{top:n.top+(i.pageYOffset||r.documentElement.scrollTop),left:n.left+(i.pageXOffset||r.documentElement.scrollLeft)}},t.prototype.init=function(){Ty&&(this.initDOM(),this.rtlHelpers=t.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.prototype.initDOM=function(){var e,n;this.wrapperEl=this.el.querySelector(Rt(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(Rt(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(Rt(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(Rt(this.classNames.offset)),this.maskEl=this.el.querySelector(Rt(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,Rt(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(Rt(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(Rt(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(Rt(this.classNames.track)).concat(Rt(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(Rt(this.classNames.track)).concat(Rt(this.classNames.vertical))),this.axis.x.scrollbar.el=((e=this.axis.x.track.el)===null||e===void 0?void 0:e.querySelector(Rt(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=((n=this.axis.y.track.el)===null||n===void 0?void 0:n.querySelector(Rt(this.classNames.scrollbar)))||null,this.options.autoHide||(Dr(this.axis.x.scrollbar.el,this.classNames.visible),Dr(this.axis.y.scrollbar.el,this.classNames.visible))},t.prototype.initListeners=function(){var e=this,n,r=Lr(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),(n=this.contentWrapperEl)===null||n===void 0||n.addEventListener("scroll",this.onScroll),r.addEventListener("resize",this.onWindowResize),!!this.contentEl){if(window.ResizeObserver){var i=!1,s=r.ResizeObserver||ResizeObserver;this.resizeObserver=new s(function(){i&&r.requestAnimationFrame(function(){e.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),r.requestAnimationFrame(function(){i=!0})}this.mutationObserver=new r.MutationObserver(function(){r.requestAnimationFrame(function(){e.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},t.prototype.recalculate=function(){if(!(!this.heightAutoObserverEl||!this.contentEl||!this.contentWrapperEl||!this.wrapperEl||!this.placeholderEl)){var e=Lr(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var n=this.contentEl.offsetWidth,r=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1||n>0,s=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,a=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var c=this.contentEl.scrollHeight,u=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=r?"auto":"100%",this.placeholderEl.style.width=i?"".concat(n||u,"px"):"auto",this.placeholderEl.style.height="".concat(c,"px");var d=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=n!==0&&u>n,this.axis.y.isOverflowing=c>d,this.axis.x.isOverflowing=o==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=a==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var p=this.axis.x.isOverflowing?this.scrollbarWidth:0,m=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&u>s-m,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&c>d-p,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},t.prototype.getScrollbarSize=function(e){var n,r;if(e===void 0&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var i=this.contentEl[this.axis[e].scrollSizeAttr],s=(r=(n=this.axis[e].track.el)===null||n===void 0?void 0:n[this.axis[e].offsetSizeAttr])!==null&&r!==void 0?r:0,o=s/i,a;return a=Math.max(~~(o*s),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(a=Math.min(a,this.options.scrollbarMaxSize)),a},t.prototype.positionScrollbar=function(e){var n,r,i;e===void 0&&(e="y");var s=this.axis[e].scrollbar;if(!(!this.axis[e].isOverflowing||!this.contentWrapperEl||!s.el||!this.elStyles)){var o=this.contentWrapperEl[this.axis[e].scrollSizeAttr],a=((n=this.axis[e].track.el)===null||n===void 0?void 0:n[this.axis[e].offsetSizeAttr])||0,c=parseInt(this.elStyles[this.axis[e].sizeAttr],10),u=this.contentWrapperEl[this.axis[e].scrollOffsetAttr];u=e==="x"&&this.isRtl&&(!((r=t.getRtlHelpers())===null||r===void 0)&&r.isScrollOriginAtZero)?-u:u,e==="x"&&this.isRtl&&(u=!((i=t.getRtlHelpers())===null||i===void 0)&&i.isScrollingToNegative?u:-u);var d=u/(o-c),p=~~((a-s.size)*d);p=e==="x"&&this.isRtl?-p+(a-s.size):p,s.el.style.transform=e==="x"?"translate3d(".concat(p,"px, 0, 0)"):"translate3d(0, ".concat(p,"px, 0)")}},t.prototype.toggleTrackVisibility=function(e){e===void 0&&(e="y");var n=this.axis[e].track.el,r=this.axis[e].scrollbar.el;!n||!r||!this.contentWrapperEl||(this.axis[e].isOverflowing||this.axis[e].forceVisible?(n.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(n.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?r.style.display="block":r.style.display="none")},t.prototype.showScrollbar=function(e){e===void 0&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(Dr(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},t.prototype.hideScrollbar=function(e){e===void 0&&(e="y"),!this.isDragging&&this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(Mr(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},t.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},t.prototype.onMouseMoveForAxis=function(e){e===void 0&&(e="y");var n=this.axis[e];!n.track.el||!n.scrollbar.el||(n.track.rect=n.track.el.getBoundingClientRect(),n.scrollbar.rect=n.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(n.track.rect)?(this.showScrollbar(e),Dr(n.track.el,this.classNames.hover),this.isWithinBounds(n.scrollbar.rect)?Dr(n.scrollbar.el,this.classNames.hover):Mr(n.scrollbar.el,this.classNames.hover)):(Mr(n.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},t.prototype.onMouseLeaveForAxis=function(e){e===void 0&&(e="y"),Mr(this.axis[e].track.el,this.classNames.hover),Mr(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},t.prototype.onDragStart=function(e,n){var r;n===void 0&&(n="y"),this.isDragging=!0;var i=Rf(this.el),s=Lr(this.el),o=this.axis[n].scrollbar,a=n==="y"?e.pageY:e.pageX;this.axis[n].dragOffset=a-(((r=o.rect)===null||r===void 0?void 0:r[this.axis[n].offsetAttr])||0),this.draggedAxis=n,Dr(this.el,this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(s.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.prototype.onTrackClick=function(e,n){var r=this,i,s,o,a;n===void 0&&(n="y");var c=this.axis[n];if(!(!this.options.clickOnTrack||!c.scrollbar.el||!this.contentWrapperEl)){e.preventDefault();var u=Lr(this.el);this.axis[n].scrollbar.rect=c.scrollbar.el.getBoundingClientRect();var d=this.axis[n].scrollbar,p=(s=(i=d.rect)===null||i===void 0?void 0:i[this.axis[n].offsetAttr])!==null&&s!==void 0?s:0,m=parseInt((a=(o=this.elStyles)===null||o===void 0?void 0:o[this.axis[n].sizeAttr])!==null&&a!==void 0?a:"0px",10),y=this.contentWrapperEl[this.axis[n].scrollOffsetAttr],T=n==="y"?this.mouseY-p:this.mouseX-p,b=T<0?-1:1,C=b===-1?y-m:y+m,w=40,_=function(){r.contentWrapperEl&&(b===-1?y>C&&(y-=w,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=y,u.requestAnimationFrame(_)):y<C&&(y+=w,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=y,u.requestAnimationFrame(_)))};_()}},t.prototype.getContentElement=function(){return this.contentEl},t.prototype.getScrollElement=function(){return this.contentWrapperEl},t.prototype.removeListeners=function(){var e=Lr(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},t.prototype.unMount=function(){this.removeListeners()},t.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},t.prototype.findChild=function(e,n){var r=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(i){return r.call(i,n)})[0]},t.rtlHelpers=null,t.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},t.getOptions=aV,t.helpers=oV,t}(),Bt=function(){return Bt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bt.apply(this,arguments)};function lV(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var md=V.forwardRef(function(t,e){var n=t.children,r=t.scrollableNodeProps,i=r===void 0?{}:r,s=lV(t,["children","scrollableNodeProps"]),o=V.useRef(),a=V.useRef(),c=V.useRef(),u={},d={};Object.keys(s).forEach(function(y){Object.prototype.hasOwnProperty.call(_a.defaultOptions,y)?u[y]=s[y]:d[y]=s[y]});var p=Bt(Bt({},_a.defaultOptions.classNames),u.classNames),m=Bt(Bt({},i),{className:"".concat(p.contentWrapper).concat(i.className?" ".concat(i.className):""),tabIndex:u.tabIndex||_a.defaultOptions.tabIndex,role:"region","aria-label":u.ariaLabel||_a.defaultOptions.ariaLabel});return V.useEffect(function(){var y;return a.current=m.ref?m.ref.current:a.current,o.current&&(y=new _a(o.current,Bt(Bt(Bt({},u),a.current&&{scrollableNode:a.current}),c.current&&{contentNode:c.current})),typeof e=="function"?e(y):e&&(e.current=y)),function(){y==null||y.unMount(),y=null,typeof e=="function"&&e(null)}},[]),V.createElement("div",Bt({"data-simplebar":"init",ref:o},d),V.createElement("div",{className:p.wrapper},V.createElement("div",{className:p.heightAutoObserverWrapperEl},V.createElement("div",{className:p.heightAutoObserverEl})),V.createElement("div",{className:p.mask},V.createElement("div",{className:p.offset},typeof n=="function"?n({scrollableNodeRef:a,scrollableNodeProps:Bt(Bt({},m),{ref:a}),contentNodeRef:c,contentNodeProps:{className:p.contentEl,ref:c}}):V.createElement("div",Bt({},m),V.createElement("div",{className:p.contentEl},n)))),V.createElement("div",{className:p.placeholder})),V.createElement("div",{className:"".concat(p.track," simplebar-horizontal")},V.createElement("div",{className:p.scrollbar})),V.createElement("div",{className:"".concat(p.track," simplebar-vertical")},V.createElement("div",{className:p.scrollbar})))});md.displayName="SimpleBar";function cV(){const t=mn(An),e=Rn(t),n=Er(),[r,i]=V.useState([]),[s,o]=V.useState(""),[a,c]=V.useState("");V.useEffect(()=>{const $=JSON.parse(localStorage.getItem("history"));$&&i($),Ci(e,async K=>{K&&(o(K==null?void 0:K.displayName),c(K==null?void 0:K.photoURL))})},[e]);const u=bi(),d=async()=>{localStorage.clear(),u(vr(1));try{await Hl(e)}catch($){console.log($)}n("/")},[p,m]=V.useState(""),[y,T]=V.useState([]),[b,C]=V.useState(!1),w=new ZI("AIzaSyDZLV-I_x9xPBmgNxiC_L7S1pRQJCMGXbE"),_=$=>{m($.target.value)},[E,P]=V.useState([]);V.useEffect(()=>{if("speechSynthesis"in window){const $=window.speechSynthesis,K=setInterval(()=>{const B=$.getVoices();B.length!==0&&P(B),clearInterval(K)},1e3)}else console.log("Speech synthesis is not supported by this browser.")},[]);const O=async()=>{if(!p)return ye.error("Please Enter Message",{position:"top-center"});try{const $=s,K=JSON.stringify(r);C(!0);const j=await w.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:{parts:[{text:"Your name is Elizabeth."},{text:"You are a helpful medical female doctor."},{text:"Your mission is to give helpful advice to people."},{text:`You always politely use patient's name in your responses which is ${$}`},{text:"In your first response, you should ask the patient about what kind of illness or symptoms they are having?"},{text:`Formulate your advice based on this chat history ${K}. And prescribe them medications with the name of medicines if possible related to the illness or disease.`},{text:"if patient asks you for prescribing them medicines then give them useful names of medicine related to their illness."},{text:"You do not use asterisk characters in your advice."},{text:"You do not use markdown language"},{text:"You give advice in plain text."},{text:"You use positive tone."},{text:"You give only medical advice."},{text:"Omit abusive language"}]}}).generateContent(p),D=document.getElementById("video-element");D.pause(),m("");const W=j.response.text().replace(/\*/g,"");if(i(Z=>[...Z,{user:p,model:W}]),localStorage.setItem("history",JSON.stringify(r)),"speechSynthesis"in window){const Z=window.speechSynthesis,ue=E.filter(Ce=>Ce.name.toLowerCase().includes("zira"))[0];Z.speaking&&Z.cancel();const se=new SpeechSynthesisUtterance(W);se.voice=ue,se.rate=1,se.lang="en-US",se.volume=k?1:0,se.addEventListener("start",()=>{D.loop=!0,D.play()}),se.addEventListener("end",()=>{D.loop=!1,D.pause()}),Z.speak(se)}else console.log("Speech synthesis is not supported by this browser.");T([...y,W]),C(!1)}catch($){console.log($),console.log("Something Went Wrong"),C(!1)}},{transcript:L,listening:S,resetTranscript:v,browserSupportsSpeechRecognition:I}=fd.useSpeechRecognition(),R=V.useRef(null);V.useEffect(()=>{const $=R.current;L&&m(L),$.scrollIntoView({behavior:"smooth"})},[L,y]);const N=()=>{KI.startListening(),I||alert("Your Browser Does Not Support Speech Recognition")};V.useEffect(()=>{L&&!S&&(O(),v())},[S,L]);const[k,A]=V.useState(!0),Q=()=>{A(!k)},re=$=>{$.key==="Enter"&&($.preventDefault(),O())};return f.jsxs(f.Fragment,{children:[f.jsx(Gh,{}),f.jsx("div",{className:"min-h-screen flex flex-col gap-5 login-form",children:f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx("div",{className:"flex items-center justify-end px-5 h-[55px] logout-btn-desktop ",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded ",type:"button",onClick:d,children:"Logout"})}),f.jsxs("div",{className:"flex items-center portrait:flex-col gap-5 p-5 ai-container ",children:[f.jsxs("div",{className:"w-[30%] relative portrait:w-[100%] bg-white rounded-2xl height-adjust ",children:[f.jsxs("div",{className:"mobile-container",children:[f.jsx("p",{className:"gradient-text p-2 font-bold",children:"Dr. Elizabeth"}),f.jsxs("div",{className:"mobile-div",children:[f.jsx("div",{className:"",children:f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666] ",type:"button",onClick:()=>{const $=document.getElementById("video-element");T([]),m(""),v(),i([]),localStorage.removeItem("history"),"speechSynthesis"in window&&window.speechSynthesis.cancel(),$.pause()},children:"New Chat"})}),f.jsx("div",{className:"",children:f.jsx("button",{className:"text-red-500",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-portrait",children:f.jsx(xe,{icon:$u})})}),f.jsx("div",{className:"flex items-center justify-center w-[30px] h-[30px] ",children:f.jsx("button",{className:"text-[#262666]",type:"button",id:"volume-btn",onClick:Q,children:f.jsx("span",{children:f.jsx(xe,{icon:k?Bu:Wu})})})})]})]}),f.jsxs("div",{className:"portrait-div",children:[f.jsx("div",{className:"w-full video-div",children:f.jsx("video",{style:{width:"100%",height:"100%"},id:"video-element",children:f.jsx("source",{src:"/medical-chatbot//videos/female.mp4",type:"video/mp4"})})}),f.jsxs("div",{className:"flex absolute items-center justify-between bottom-0 left-0 w-full gap-3 p-3 portrait-adjust",children:[f.jsx("div",{className:"w-full portrait:w-fit",children:f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666]  ",type:"button",onClick:()=>{const $=document.getElementById("video-element");T([]),m(""),v(),i([]),localStorage.removeItem("history"),"speechSynthesis"in window&&window.speechSynthesis.cancel(),$.pause()},children:"New Chat"})}),f.jsxs("div",{className:"w-full portrait:w-fit ",children:[f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666]  ",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-landscape",children:"End Session"}),f.jsx("button",{className:"text-red-500 ",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-portrait",children:f.jsx(xe,{icon:$u})})]}),f.jsx("div",{className:"flex items-center justify-center w-[30px] h-[30px] ",children:f.jsx("button",{className:"text-[#262666]",type:"button",id:"volume-btn",onClick:Q,children:f.jsx("span",{children:f.jsx(xe,{icon:k?Bu:Wu})})})})]})]})]}),f.jsxs("div",{className:"w-[70%] relative portrait:w-[100%] flex flex-col justify-between bg-white rounded-2xl messages-container ",children:[f.jsx("div",{className:"border-b p-5 little-height",children:f.jsxs(md,{style:{height:"100%"},children:[f.jsx("p",{className:"gradient-text font-bold text-2xl ",children:"Patient Diagnosis"}),f.jsxs("div",{className:"mt-3 flex gap-2 ",children:[f.jsx("div",{className:"w-[50px] h-[50px]",children:f.jsx("img",{src:"/medical-chatbot//images/female2.png",alt:"doctor elizabeth",style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})}),f.jsxs("p",{className:"bg-blue-100 w-1/2 p-3",style:{borderRadius:"7px 7px 7px 0"},children:["Welcome! ",s," I am Dr. Elizabeth. How can I help you?"]})]}),(r==null?void 0:r.length)!==0&&(r==null?void 0:r.map(($,K)=>f.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[$!=null&&$.user?f.jsxs("div",{className:"flex gap-2",children:[f.jsx("p",{className:"shadow bg-blue-500 text-white p-3 user-text ",style:{borderRadius:"10px 10px 10px 0"},children:$==null?void 0:$.user}),f.jsx("div",{className:"w-[50px] h-[50px] ",children:f.jsx("img",{src:a||"/medical-chatbot//images/female.png",alt:s,style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})})]}):"",f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-[50px] h-[50px] ",children:f.jsx("img",{src:"/medical-chatbot//images/female2.png",alt:"doctor elizabeth",style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})}),f.jsx("p",{className:"bg-blue-100 shadow w-[80%] p-3",style:{borderRadius:"10px 10px 0 10px"},children:K===r.length-1&&b?f.jsx("span",{children:"..."}):$==null?void 0:$.model})]})]},K))),f.jsx("div",{ref:R})]})}),f.jsx("div",{className:"flex h-[20px] absolute w-[100%] bottom-[100px] justify-center items-center",children:b&&f.jsx("div",{className:"loader"})}),f.jsxs("div",{className:"flex gap-2 p-2 items-center justify-between min-h-[100px] bottom-container ",children:[f.jsx("div",{children:f.jsx("button",{type:"button",className:"play-btn",onClick:()=>{const $=document.getElementById("video-element");T([]),m(""),v(),i([]),localStorage.removeItem("history"),"speechSynthesis"in window&&window.speechSynthesis.cancel(),$.pause()},children:f.jsx("span",{children:f.jsx(xe,{icon:gT})})})}),f.jsx("div",{className:"w-full ",children:f.jsx("textarea",{className:"w-full border rounded-md outline-none p-2 ",value:p,onChange:_,onKeyDown:re,placeholder:"Enter Your Message",name:"user-input",id:"user-input"})}),f.jsxs("div",{className:"flex gap-2 mic-btn-container ",children:[f.jsx("div",{className:"",children:f.jsx("button",{type:"button",onClick:O,className:"play-btn ",id:"response-btn",children:f.jsx("span",{children:f.jsx(xe,{icon:yT})})})}),f.jsx("div",{className:"",children:f.jsx("button",{type:"button",className:"play-btn ",onClick:N,children:f.jsx("span",{children:f.jsx(xe,{icon:S?fT:uT})})})})]})]})]})]})]})})]})}function uV(){const t=mn(An),e=Rn(t),n=Er(),[r,i]=V.useState([]),[s,o]=V.useState(""),[a,c]=V.useState("");V.useEffect(()=>{const $=JSON.parse(localStorage.getItem("history2"));$&&i($),Ci(e,async K=>{K&&(o(K==null?void 0:K.displayName),c(K==null?void 0:K.photoURL))})},[e]);const u=bi(),d=async()=>{localStorage.clear(),u(vr(1));try{await Hl(e)}catch($){console.log($)}n("/")},[p,m]=V.useState(""),[y,T]=V.useState([]),[b,C]=V.useState(!1),w=new ZI("AIzaSyDZLV-I_x9xPBmgNxiC_L7S1pRQJCMGXbE"),_=$=>{m($.target.value)},[E,P]=V.useState([]);V.useEffect(()=>{if("speechSynthesis"in window){const $=window.speechSynthesis,K=setInterval(()=>{const B=$.getVoices();B.length!==0&&P(B),clearInterval(K)},1e3)}else console.log("Speech synthesis is not supported by this browser.")},[]);const O=async()=>{if(!p)return ye.error("Please Enter Message",{position:"top-center"});try{const $=s,K=JSON.stringify(r);C(!0);const j=await w.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:{parts:[{text:"Your name is Williams."},{text:"You are a helpful medical male doctor."},{text:"Your mission is to give helpful advice to your patients"},{text:`You always politely use patient's name in your responses which is ${$}`},{text:"In your first response, you should ask the patient about what kind of illness or symptoms they are having?"},{text:`Formulate your advice based on this chat history ${K}. And prescribe them medications with the name of medicines if possible related to the illness or disease.`},{text:"if patient asks you for prescribing them medicines then give them useful names of medicine related to their illness."},{text:"You do not use asterisk characters in your advice."},{text:"You do not use markdown language"},{text:"You give advice in plain text."},{text:"You use positive tone."},{text:"You give only medical advice."},{text:"Omit abusive language"}]}}).generateContent(p),D=document.getElementById("video-element");D.pause(),m("");const W=j.response.text().replace(/\*/g,"");if(i(Z=>[...Z,{user:p,model:W}]),localStorage.setItem("history2",JSON.stringify(r)),"speechSynthesis"in window){const Z=window.speechSynthesis,ue=E.filter(Ce=>Ce.name.toLowerCase().includes("david"))[0];Z.speaking&&Z.cancel();const se=new SpeechSynthesisUtterance(W);se.voice=ue,se.rate=1,se.lang="en-US",se.volume=k?1:0,se.addEventListener("start",()=>{D.loop=!0,D.play()}),se.addEventListener("end",()=>{D.loop=!1,D.pause()}),Z.speak(se)}else console.log("Speech synthesis is not supported by this browser.");T([...y,W]),C(!1)}catch($){console.log($),console.log("Something Went Wrong"),C(!1)}},{transcript:L,listening:S,resetTranscript:v,browserSupportsSpeechRecognition:I}=fd.useSpeechRecognition(),R=V.useRef(null);V.useEffect(()=>{const $=R.current;L&&m(L),$.scrollIntoView({behavior:"smooth"})},[L,y]);const N=()=>{KI.startListening(),I||alert("Your Browser Does Not Support Speech Recognition")};V.useEffect(()=>{L&&!S&&(O(),v())},[S,L]);const[k,A]=V.useState(!0),Q=()=>{A(!k)},re=$=>{$.key==="Enter"&&($.preventDefault(),O())};return f.jsxs(f.Fragment,{children:[f.jsx(Gh,{}),f.jsx("div",{className:"min-h-screen flex flex-col gap-5 login-form",children:f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx("div",{className:"flex items-center justify-end px-5 h-[55px] logout-btn-desktop ",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded ",type:"button",onClick:d,children:"Logout"})}),f.jsxs("div",{className:"flex items-center portrait:flex-col gap-5 p-5 ai-container ",children:[f.jsxs("div",{className:"w-[30%] relative portrait:w-[100%] bg-white rounded-2xl height-adjust ",children:[f.jsxs("div",{className:"mobile-container",children:[f.jsx("p",{className:"gradient-text p-2 font-bold",children:"Dr. Williams"}),f.jsxs("div",{className:"mobile-div",children:[f.jsx("div",{className:"",children:f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666] ",type:"button",onClick:()=>{const $=document.getElementById("video-element");T([]),m(""),v(),i([]),localStorage.removeItem("history2"),"speechSynthesis"in window&&window.speechSynthesis.cancel(),$.pause()},children:"New Chat"})}),f.jsx("div",{className:"",children:f.jsx("button",{className:"text-red-500",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-portrait",children:f.jsx(xe,{icon:$u})})}),f.jsx("div",{className:"flex items-center justify-center w-[30px] h-[30px] ",children:f.jsx("button",{className:"text-[#262666]",type:"button",id:"volume-btn",onClick:Q,children:f.jsx("span",{children:f.jsx(xe,{icon:k?Bu:Wu})})})})]})]}),f.jsxs("div",{className:"portrait-div",children:[f.jsx("div",{className:"w-full video-div",children:f.jsx("video",{style:{width:"100%",height:"100%"},id:"video-element",children:f.jsx("source",{src:"/medical-chatbot//videos/male.mp4",type:"video/mp4"})})}),f.jsxs("div",{className:"flex absolute items-center justify-between bottom-0 left-0 w-full gap-3 p-3 portrait-adjust",children:[f.jsx("div",{className:"w-full portrait:w-fit",children:f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666] ",type:"button",onClick:()=>{const $=document.getElementById("video-element");T([]),m(""),v(),i([]),localStorage.removeItem("history2"),"speechSynthesis"in window&&window.speechSynthesis.cancel(),$.pause()},children:"New Chat"})}),f.jsxs("div",{className:"w-full portrait:w-fit ",children:[f.jsx("button",{className:"rounded w-full py-1 px-2 text-white bg-[#262666] ",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-landscape",children:"End Session"}),f.jsx("button",{className:"text-red-500",type:"button",onClick:()=>n("/welcome"),id:"end-session-btn-portrait",children:f.jsx(xe,{icon:$u})})]}),f.jsx("div",{className:"flex items-center justify-center w-[30px] h-[30px] ",children:f.jsx("button",{className:"text-[#262666]",type:"button",id:"volume-btn",onClick:Q,children:f.jsx("span",{children:f.jsx(xe,{icon:k?Bu:Wu})})})})]})]})]}),f.jsxs("div",{className:"w-[70%] relative portrait:w-[100%] flex flex-col justify-between bg-white rounded-2xl messages-container ",children:[f.jsx("div",{className:"border-b p-5 little-height ",children:f.jsxs(md,{style:{height:"100%"},children:[f.jsx("p",{className:"gradient-text font-bold text-2xl ",children:"Patient Diagnosis"}),f.jsxs("div",{className:"mt-3 flex gap-2 ",children:[f.jsx("div",{className:"w-[50px] h-[50px]",children:f.jsx("img",{src:"/medical-chatbot//images/male-2.png",alt:"doctor williams",style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})}),f.jsxs("p",{className:"bg-blue-100 w-1/2 p-3",style:{borderRadius:"7px 7px 7px 0"},children:["Welcome! ",s," I am Dr. Williams. How can I help you?"]})]}),(r==null?void 0:r.length)!==0&&(r==null?void 0:r.map(($,K)=>f.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[$!=null&&$.user?f.jsxs("div",{className:"flex gap-2",children:[f.jsx("p",{className:"shadow bg-blue-500 text-white p-3 user-text",style:{borderRadius:"10px 10px 10px 0"},children:$==null?void 0:$.user}),f.jsx("div",{className:"w-[50px] h-[50px] ",children:f.jsx("img",{src:a||"/medical-chatbot//images/male.png",alt:s,style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})})]}):"",f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-[50px] h-[50px] ",children:f.jsx("img",{src:"/medical-chatbot//images/male-2.png",alt:"doctor williams",style:{display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"rgba(0, 0, 255, 0.1)"}})}),f.jsx("p",{className:"bg-blue-100 shadow w-[80%] p-3",style:{borderRadius:"10px 10px 0 10px"},children:K===r.length-1&&b?f.jsx("span",{children:"..."}):$==null?void 0:$.model})]})]},K))),f.jsx("div",{ref:R})]})}),f.jsx("div",{className:"flex h-[20px] absolute w-[100%] bottom-[100px] justify-center items-center",children:b&&f.jsx("div",{className:"loader"})}),f.jsxs("div",{className:"flex gap-2 p-2 items-center justify-between min-h-[100px] bottom-container ",children:[f.jsx("div",{children:f.jsx("button",{type:"button",className:"play-btn",onClick:()=>{const $=document.getElementById("video-element");T([]),m(""),v(),i([]),localStorage.removeItem("history2"),"speechSynthesis"in window&&window.speechSynthesis.cancel(),$.pause()},children:f.jsx("span",{children:f.jsx(xe,{icon:gT})})})}),f.jsx("div",{className:"w-full ",children:f.jsx("textarea",{className:"w-full border rounded-md outline-none p-2 ",value:p,onChange:_,onKeyDown:re,placeholder:"Enter Your Message",name:"user-input",id:"user-input"})}),f.jsxs("div",{className:"flex gap-2 mic-btn-container ",children:[f.jsx("div",{className:"",children:f.jsx("button",{type:"button",onClick:O,className:"play-btn ",id:"response-btn",children:f.jsx("span",{children:f.jsx(xe,{icon:yT})})})}),f.jsx("div",{className:"",children:f.jsx("button",{type:"button",className:"play-btn ",onClick:N,children:f.jsx("span",{children:f.jsx(xe,{icon:S?fT:uT})})})})]})]})]})]})]})})]})}function hV(){const t=mn(An),e=Rn(t),n=Ss(t),r=Er(),[i,s]=V.useState([]),[o,a]=V.useState([]),[c,u]=V.useState([]);V.useEffect(()=>{Ci(e,async O=>{if(O){const L=O.uid,S=We(n,"generalInfo",L),v=await Pt(S),I=We(n,"medicalHistory",L),R=await Pt(I),N=We(n,"habits",L),k=await Pt(N),A=[v.data()],Q=[R.data()],re=[k.data()];v.exists()&&s(A),R.exists()&&a(Q),k.exists()&&u(re)}})},[e,n]);const d=bi(),p=async()=>{localStorage.clear(),d(vr(1));try{await Hl(e)}catch(O){console.log(O)}r("/")},[m,y]=V.useState(!1),[T,b]=V.useState(!1),[C,w]=V.useState(!1),_=()=>{y(!m),b(!1),w(!1)},E=()=>{b(!T),y(!1),w(!1)},P=()=>{w(!C),y(!1),b(!1)};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"min-h-screen flex flex-col gap-5 p-5 login-form",children:[f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"bg-white text-[#262666] py-1 px-2 rounded",type:"button",onClick:p,children:"Logout"})}),f.jsx("div",{className:"flex flex-col gap-5 p-5 bg-white shadow-md rounded profile-container-height-adjust",children:f.jsxs(md,{style:{height:"100%"},children:[f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"btn",type:"button",onClick:()=>r("/multi-form"),children:"Edit Profile"})}),f.jsx("h1",{className:"text-center gradient-text p-5 font-bold text-2xl",children:"Your Profile"}),f.jsxs("div",{className:"flex flex-col gap-3",children:[i==null?void 0:i.map((O,L)=>f.jsx("div",{className:"",children:f.jsxs("div",{className:`${m?"accordion-anime":"simple"} border`,onClick:_,children:[f.jsxs("div",{className:"flex gap-3 items-center justify-between p-2 ",children:[f.jsx("p",{className:"font-bold text-[#262666]",children:"General Information"}),f.jsx("div",{children:f.jsx("button",{type:"button",className:"rounded-full text-[#262666] border w-[20px] flex items-center justify-center h-[20px] ",children:f.jsx("span",{className:"text-sm",children:f.jsx(xe,{icon:m?rf:sf})})})})]}),f.jsxs("div",{className:`${m?"accordion-active":"accordion"} px-2 `,children:[f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Name"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.name})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Age"}),f.jsxs("p",{className:"text-[#262666] capitalize",children:[O.age," ",f.jsx("span",{children:O.duration})]})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Height"}),f.jsxs("p",{className:"text-[#262666] capitalize",children:[O.height," ",f.jsx("span",{children:O.heightUnit})]})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Weight"}),f.jsxs("p",{className:"text-[#262666] capitalize",children:[O.weight," ",f.jsx("span",{children:O.weightUnit})]})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Gender"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.gender})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Ethnicity"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.ethnicity.replace(/_/g," ")})]})]})]})},L)),o==null?void 0:o.map((O,L)=>f.jsx("div",{className:"",children:f.jsxs("div",{className:`${T?"accordion-anime":"simple"} border`,onClick:E,children:[f.jsxs("div",{className:"flex gap-3 items-center justify-between p-2 ",children:[f.jsx("p",{className:"font-bold text-[#262666]",children:"Medical History"}),f.jsx("div",{children:f.jsx("button",{type:"button",className:"rounded-full text-[#262666] border w-[20px] flex items-center justify-center h-[20px] ",children:f.jsx("span",{className:"text-sm",children:f.jsx(xe,{icon:T?rf:sf})})})})]}),f.jsxs("div",{className:`${T?"accordion-active":"accordion"} px-2 `,children:[f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Current Medications"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.medications})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Previous Medications (Last 6 Months)"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.previousMedications})]})]})]})},L)),c==null?void 0:c.map((O,L)=>f.jsx("div",{className:"",children:f.jsxs("div",{className:`${C?"accordion-anime":"simple"} border`,onClick:P,children:[f.jsxs("div",{className:"flex gap-3 items-center justify-between p-2 ",children:[f.jsx("p",{className:"font-bold text-[#262666]",children:"Life Patterns And Habits"}),f.jsx("div",{children:f.jsx("button",{type:"button",className:"rounded-full text-[#262666] border w-[20px] flex items-center justify-center h-[20px] ",children:f.jsx("span",{className:"text-sm",children:f.jsx(xe,{icon:C?rf:sf})})})})]}),f.jsxs("div",{className:`${C?"accordion-active":"accordion"} px-2 `,children:[f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Daily Smoking Intensity"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.smokingIntensity})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Weekly Alcohol Intake"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.alcoholIntake})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Dietary Habits"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.dietaryHabits})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Weekly Physical Activity Level"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.activityLevel})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Daily Sleep Pattern"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.sleepPattern})]}),f.jsxs("div",{className:"flex gap-2 py-2 justify-between",children:[f.jsx("p",{className:"font-bold gradient-text",children:"Stress Level"}),f.jsx("p",{className:"text-[#262666] capitalize",children:O.stressLevel})]})]})]})},L))]})]})})]})})}function dV(){const t=mn(An),e=Rn(t),[n,r]=V.useState(!1),i=()=>{r(!n)},s=Er(),[o,a]=V.useState(!1),[c,u]=V.useState(!1),[d,p]=V.useState(!1),[m,y]=V.useState(!1),T=async()=>{const b=document.getElementById("email").value,C=document.getElementById("password").value,w=document.getElementById("user-name").value;if(!w&&!b&&!C){u(!0),p(!0),y(!0);return}if(!w){u(!0);return}if(!b){p(!0);return}if(!C){y(!0);return}a(!0);try{const E=(await qO(e,b,C)).user;await QO(E,{displayName:w}),ye.success("Registration Successful",{position:"top-center"}),setTimeout(()=>{s("/")},1e3)}catch(_){ye.error(_.code,{position:"top-center"})}a(!1)};return f.jsxs(f.Fragment,{children:[f.jsx(Gh,{}),f.jsx("div",{className:"min-h-screen flex items-center justify-center p-5 login-form",children:f.jsxs("div",{className:"flex items-center shadow-lg rounded-3xl w-[800px] h-[500px] max-[800px]:flex-col max-[800px]:w-full gap-0 bg-white",children:[f.jsx("div",{className:"w-full h-full flex flex-col justify-center items-center rounded-3xl bg-[#262666]",children:f.jsx("p",{className:"text-center text-white text-4xl",children:"Welcome"})}),f.jsxs("div",{className:"flex flex-col gap-3 w-full p-5",children:[f.jsx("h1",{className:"text-center",children:"Sign Up"}),f.jsxs("form",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"border pl-2 flex items-center gap-2 ",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:n2})}),f.jsx("input",{className:"w-full py-1 px-2",type:"text",name:"user-name",id:"user-name",placeholder:"Enter Your Username","aria-label":"Enter Your Username",required:!0,onChange:()=>u(!1),onClick:()=>u(!1)})]}),c&&f.jsx("p",{className:"text-red-500",children:"Username Required"}),f.jsxs("div",{className:"border pl-2 flex items-center gap-2 ",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:mT})}),f.jsx("input",{className:"w-full py-1 px-2",type:"email",name:"email",id:"email",placeholder:"Enter Your Email","aria-label":"Enter Your Email",required:!0,onChange:()=>p(!1),onClick:()=>p(!1)})]}),d&&f.jsx("p",{className:"text-red-500",children:"Email Required."}),f.jsxs("div",{className:"border flex items-center gap-2 px-2",children:[f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:hT})}),f.jsx("input",{className:"w-full py-1 px-2",type:n?"text":"password",name:"password",id:"password",placeholder:"Your Password","aria-label":"Type Your Password",required:!0,onChange:()=>y(!1),onClick:()=>y(!1)}),f.jsx("span",{className:"w-[20px] text-md ",children:f.jsx(xe,{icon:n?pT:dT,onClick:i})})]}),m&&f.jsx("p",{className:"text-red-500",children:"Password Required."}),f.jsx("div",{children:f.jsx("button",{className:`${o?"bg-gray-500":""} w-full rounded bg-[#262666] text-white p-2`,type:"button",onClick:T,disabled:o,children:o?"Submitting":"Sign Up"})}),f.jsx("span",{className:"border-b"}),f.jsxs("div",{className:"flex justify-center items-center gap-2",children:[f.jsx("p",{children:"Already have an account?"}),f.jsx("button",{className:"underline underline-offset-1 hover:text-[#262666] transition-colors",type:"button",onClick:()=>s("/"),children:"Sign In"})]})]})]})]})})]})}const fV=()=>{const t=mn(An),e=Rn(t),n=Ss(t),r=Er();return V.useEffect(()=>{Ci(e,async i=>{if(!i)return await Lo(We(n,"user","login-state"),{isLoggedIn:!1}),r("/")})},[e,n,r]),f.jsx(Jk,{})};function pV(){return f.jsx(f.Fragment,{children:f.jsxs(eP,{children:[f.jsx(Pn,{path:"/",element:f.jsx(SM,{})}),f.jsx(Pn,{path:"/sign-up",element:f.jsx(dV,{})}),f.jsxs(Pn,{element:f.jsx(fV,{}),children:[f.jsx(Pn,{path:"/multi-form",element:f.jsx(j6,{})}),f.jsx(Pn,{path:"/welcome",element:f.jsx(F6,{})}),f.jsx(Pn,{path:"/select-doctor",element:f.jsx(U6,{})}),f.jsx(Pn,{path:"/doctors/female-consultant",element:f.jsx(cV,{})}),f.jsx(Pn,{path:"/doctors/male-consultant",element:f.jsx(uV,{})}),f.jsx(Pn,{path:"/view-profile",element:f.jsx(hV,{})})]})]})})}const mV={value:""},gV=$I({name:"userId",initialState:mV,reducers:{getUserId:(t,e)=>{t.value=e.payload}}}),yV=gV.reducer,vV=w6({reducer:{formStep:O6,userId:yV}});cT(document.getElementById("root")).render(f.jsx(V.StrictMode,{children:f.jsx(rP,{basename:"/medical-chatbot/",children:f.jsx(GM,{store:vV,children:f.jsx(pV,{})})})}));
